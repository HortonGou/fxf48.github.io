function visibleResume(){muted||manualPause||Howler.mute(!1)}function visiblePause(){Howler.mute(!0)}function initSplash(){gameState="splash",resizeCanvas(),splash=new Elements.Splash(assetLib.getData("splash"),canvas.width,canvas.height),userInput.addHitArea("moreGames",butEventHandler,null,"rect",{aRect:[0,0,canvas.width,canvas.height]},!0),previousTime=(new Date).getTime(),updateSplashScreenEvent()}function initStartScreen(){var t,e,i,a;for(gameState="start",userInput.removeHitArea("moreGames"),1==audioType&&(musicTween&&musicTween.kill(),musicTween=TweenLite.to(music,1,{volume:.2,ease:"Linear.easeNone"})),t=0;t<aPowerUpBarData.length;t++)aPowerUpBarData[t]=saveDataHandler.aLevelStore[2+t];oGameData.totalGems=saveDataHandler.aLevelStore[0],levelNum=totalScore=levelScore=0,(background=new Elements.Background(assetLib.getData("background0"),canvas.width,canvas.height)).renderState="menuScroll",userInput.addHitArea("mute",butEventHandler,null,"rect",{aRect:[392,0,canvas.width,53]},!0),e={oImgData:assetLib.getData("uiButs"),aPos:[canvas.width/2,530],id:oImageIds.playBut},i={oImgData:assetLib.getData("button_ranking"),aPos:[canvas.width/2,655],id:"id0",noMove:!0},userInput.addHitArea("startGame",butEventHandler,null,"image",e),userInput.addHitArea("RankFromHome",butEventHandler,null,"image",i),a=new Array(e,i),(panel=new Elements.Panel(gameState,a)).startTween1(),previousTime=(new Date).getTime(),updateStartScreenEvent()}function initCreditsScreen(){var t,e,i;gameState="credits",t={oImgData:assetLib.getData("uiButs"),aPos:[48,655],id:oImageIds.backBut},e={oImgData:assetLib.getData("uiButs"),aPos:[100,45],id:oImageIds.resetDataBut,noMove:!0},userInput.addHitArea("backFromCredits",butEventHandler,null,"image",t),userInput.addHitArea("resetData",butEventHandler,null,"image",e),i=new Array(t,e),(panel=new Elements.Panel(gameState,i)).startTween2(),previousTime=(new Date).getTime(),updateCreditsScreenEvent()}function initGame(){gameState="game",1==audioType&&(musicTween.kill(),musicTween=TweenLite.to(music,1,{volume:.4,ease:"Linear.easeNone"})),(background=new Elements.Background(assetLib.getData("background0"),canvas.width,canvas.height)).renderState="game",hud=new Elements.Hud,squirrel=new Elements.Squirrel,branch=new Elements.Branch,userInput.addHitArea("pause",butEventHandler,null,"rect",{aRect:[325,0,387,58]},!0),userInput.addHitArea("swipe",butEventHandler,{isDraggable:!0,multiTouch:!0},"rect",{aRect:[0,60,canvas.width,canvas.height]},!0),userInput.addKey("steerKeyRight",butEventHandler,null,39),userInput.addKey("steerKeyLeft",butEventHandler,null,37),userInput.addKey("keyUp",butEventHandler,null,38),userInput.addKey("keyDown",butEventHandler,null,40),controlState="lean",swipeDetect=new Utils.SwipeDetect,oGameData.distance=0,oGameData.curGemChain=0,oGameData.curGems=0,oGameData.boostNum=0,endGameSequence=!1,playSound("startGame"),aEffects=new Array,previousTime=(new Date).getTime(),updateGameEvent()}function butEventHandler(t,e){switch(t){case"langSelect":curLang=e.lang,ctx.clearRect(0,0,canvas.width,canvas.height),userInput.removeHitArea("langSelect"),(preAssetLib=new Utils.AssetLoader(curLang,[{id:"preloadImage",file:"images/"+curLang+"/preloadImage.jpg"}],ctx,canvas.width,canvas.height,!1)).onReady(initLoadAssets);break;case"startGame":playSound("click"),document.getElementById("toolbar").style.display="none",userInput.removeHitArea("startGame"),userInput.removeHitArea("moreGames"),userInput.removeHitArea("RankFromHome"),userInput.removeHitArea("credits"),isMobile&&launchFullscreen(document.documentElement),initGame();break;case"credits":playSound("click"),dp_share();break;case"backFromCredits":playSound("click"),userInput.removeHitArea("backFromCredits"),userInput.removeHitArea("resetData"),initStartScreen();break;case"resetData":playSound("click"),userInput.removeHitArea("backFromCredits"),userInput.removeHitArea("resetData"),saveDataHandler.resetData(),initStartScreen();break;case"RankFromHome":playSound("click"),userInput.removeHitArea("RankFromHome"),initRankFromHome();break;case"RankFromEnd":playSound("click"),userInput.removeHitArea("RankFromEnd"),initRankFromEnd();break;case"moreGames":case"moreGamesPause":playSound("click"),clickMore(),console.log("moreGamesPause");break;case"startGame":playSound("click"),document.getElementById("toolbar").style.display="none",document.getElementById("toolbar").style.display="none",userInput.removeHitArea("startGame"),initGame();break;case"steerKeyRight":e.isDown?(squirrel.turn("right"),firstRun&&0==hud.tutState&&(hasHorizAction=!0)):squirrel.allowRight=!0;break;case"steerKeyLeft":e.isDown?(squirrel.turn("left"),firstRun&&0==hud.tutState&&(hasHorizAction=!0)):squirrel.allowLeft=!0;break;case"swipe":e.isDown?swipeDetect.track(e.x,e.y):swipeDetect.stopTrack(e.x,e.y);break;case"keyUp":e.isDown&&(squirrel.jump(),firstRun&&1==hud.tutState&&(hasVertAction=!0));break;case"keyDown":e.isDown&&(squirrel.duck(),firstRun&&1==hud.tutState&&(hasVertAction=!0));break;case"playFromEnd":playSound("click"),userInput.removeHitArea("playFromEnd"),userInput.removeHitArea("upgrade"),initGame(),document.getElementById("toolbar").style.display="none";break;case"upgrade":playSound("click"),userInput.removeHitArea("playFromEnd"),userInput.removeHitArea("upgrade"),userInput.removeHitArea("RankFromEnd"),initUpgrade();break;case"powerUp0":oGameData.totalGems>=aPowerUpButsData[aPowerUpBarData[0]]&&aPowerUpBarData[0]<8&&(playSound("click"),oGameData.totalGems-=aPowerUpButsData[aPowerUpBarData[0]],aPowerUpBarData[0]++,setPowerUpButs(),saveDataHandler.aLevelStore[2]=aPowerUpBarData[0],saveDataHandler.aLevelStore[0]=oGameData.totalGems,saveDataHandler.saveData());break;case"powerUp1":oGameData.totalGems>=aPowerUpButsData[aPowerUpBarData[1]]&&aPowerUpBarData[1]<8&&(playSound("click"),oGameData.totalGems-=aPowerUpButsData[aPowerUpBarData[1]],aPowerUpBarData[1]++,setPowerUpButs(),saveDataHandler.aLevelStore[3]=aPowerUpBarData[1],saveDataHandler.aLevelStore[0]=oGameData.totalGems,saveDataHandler.saveData());break;case"powerUp2":oGameData.totalGems>=aPowerUpButsData[aPowerUpBarData[2]]&&aPowerUpBarData[2]<8&&(playSound("click"),oGameData.totalGems-=aPowerUpButsData[aPowerUpBarData[2]],aPowerUpBarData[2]++,setPowerUpButs(),saveDataHandler.aLevelStore[4]=aPowerUpBarData[2],saveDataHandler.aLevelStore[0]=oGameData.totalGems,saveDataHandler.saveData());break;case"powerUp3":oGameData.totalGems>=aPowerUpButsData[aPowerUpBarData[3]]&&aPowerUpBarData[3]<8&&(playSound("click"),oGameData.totalGems-=aPowerUpButsData[aPowerUpBarData[3]],aPowerUpBarData[3]++,setPowerUpButs(),saveDataHandler.aLevelStore[5]=aPowerUpBarData[3],saveDataHandler.aLevelStore[0]=oGameData.totalGems,saveDataHandler.saveData());break;case"backFromRank":playSound("click"),userInput.removeHitArea("backFromRank"),userInput.removeHitArea("ranking"),hideRank(),initGameEnd();break;case"backHomeFromRank":playSound("click"),userInput.removeHitArea("backHomeFromRank"),userInput.removeHitArea("ranking"),hideRank(),initStartScreen();break;case"okCommit":playSound("click");var i=$("#inputName").val();if("SNH48-冯晓菲"===i||"冯款款"===i)break;userInput.removeHitArea("backFromCommit"),userInput.removeHitArea("okCommit"),commitInputName(),hideInputId(),initRankFromEnd();break;case"backFromCommit":playSound("click"),userInput.removeHitArea("backFromCommit"),userInput.removeHitArea("okCommit"),hideInputId(),initGameEnd();break;case"backFromUpgrade":userInput.removeHitArea("backFromUpgrade"),userInput.removeHitArea("playFromUpgrade"),userInput.removeHitArea("powerUp0"),userInput.removeHitArea("powerUp1"),userInput.removeHitArea("powerUp2"),userInput.removeHitArea("powerUp3"),initGameEnd();break;case"playFromUpgrade":playSound("click"),userInput.removeHitArea("backFromUpgrade"),userInput.removeHitArea("playFromUpgrade"),userInput.removeHitArea("powerUp0"),userInput.removeHitArea("powerUp1"),userInput.removeHitArea("powerUp2"),userInput.removeHitArea("powerUp3"),initGame();break;case"mute":manualPause||(playSound("click"),toggleMute());break;case"pause":case"resumeFromPause":playSound("click"),toggleManualPause();break;case"quitFromPause":playSound("click"),toggleManualPause(),userInput.removeHitArea("pause"),userInput.removeHitArea("swipe"),userInput.removeKey("steerKeyRight"),userInput.removeKey("steerKeyLeft"),userInput.removeKey("keyUp"),userInput.removeKey("keyDown"),userInput.removeHitArea("quitFromPause"),userInput.removeHitArea("resumeFromPause"),userInput.removeHitArea("moreGamesPause"),totalScore=levelScore=0,initStartScreen()}}function initRankFromEnd(){var t,e,i;gameState="Rank",1==audioType&&(musicTween.kill(),musicTween=TweenLite.to(music,2,{volume:.2,ease:"Linear.easeNone"})),saveDataHandler.aLevelStore[0]=oGameData.totalGems,oGameData.distance>saveDataHandler.aLevelStore[1]&&(saveDataHandler.aLevelStore[1]=oGameData.distance),saveDataHandler.saveData(),userInput.removeHitArea("upgrade"),userInput.removeHitArea("playFromEnd"),userInput.removeHitArea("startGame"),userInput.removeHitArea("moreGame"),background.renderState="menuScroll",t={oImgData:assetLib.getData("uiButs"),aPos:[42,39],id:oImageIds.backBut,noMove:!0},e={oImgData:assetLib.getData("ranking"),aPos:[canvas.width/2,canvas.height/2],id:"id0",noMove:!0},userInput.addHitArea("backFromRank",butEventHandler,null,"image",t),i=new Array(e,t),(panel=new Elements.Panel(gameState,i)).startTween1(),previousTime=(new Date).getTime(),updateRank(),showRank()}function initRankFromHome(){var t,e,i;gameState="Rank",1==audioType&&(musicTween.kill(),musicTween=TweenLite.to(music,2,{volume:.2,ease:"Linear.easeNone"})),saveDataHandler.aLevelStore[0]=oGameData.totalGems,oGameData.distance>saveDataHandler.aLevelStore[1]&&(saveDataHandler.aLevelStore[1]=oGameData.distance),saveDataHandler.saveData(),userInput.removeHitArea("startGame"),background.renderState="menuScroll",t={oImgData:assetLib.getData("uiButs"),aPos:[42,39],id:oImageIds.backBut,noMove:!0},e={oImgData:assetLib.getData("ranking"),aPos:[canvas.width/2,canvas.height/2],id:"id0",noMove:!0},userInput.addHitArea("backHomeFromRank",butEventHandler,null,"image",t),userInput.addHitArea("ranking",butEventHandler,null,"image",e),i=new Array(e,t),(panel=new Elements.Panel(gameState,i)).startTween1(),previousTime=(new Date).getTime(),updateRank(),showRank()}function initCommitScore(){var t,e,i,a;gameState="commitScore",1==audioType&&(musicTween.kill(),musicTween=TweenLite.to(music,2,{volume:.2,ease:"Linear.easeNone"})),saveDataHandler.aLevelStore[0]=oGameData.totalGems,oGameData.distance>saveDataHandler.aLevelStore[1]&&(saveDataHandler.aLevelStore[1]=oGameData.distance),saveDataHandler.saveData(),userInput.removeHitArea("upgrade"),userInput.removeHitArea("playFromEnd"),userInput.removeHitArea("startGame"),userInput.removeHitArea("moreGame"),background.renderState="menuScroll",t={oImgData:assetLib.getData("commitScoreBtn"),aPos:[145,291],id:"id0",noMove:!0},e={oImgData:assetLib.getData("commitScore"),aPos:[canvas.width/2,canvas.height/2],id:"id0",noMove:!0},a={oImgData:assetLib.getData("commitScoreBtn"),aPos:[274,291],id:"id1",noMove:!0},userInput.addHitArea("backFromCommit",butEventHandler,null,"image",a),userInput.addHitArea("okCommit",butEventHandler,null,"image",t),i=new Array(e,t,a),(panel=new Elements.Panel(gameState,i)).startTween1(),previousTime=(new Date).getTime(),updateCommitScore(),showCommitScore()}function initGameEnd(){var t,e,i,a;console.log(oGameData.distance,oGameData.curGems),dp_submitScore(oGameData.distance),document.getElementById("toolbar").style.display="block",gameState="gameOver",1==audioType&&(musicTween.kill(),musicTween=TweenLite.to(music,2,{volume:.2,ease:"Linear.easeNone"})),saveDataHandler.aLevelStore[0]=oGameData.totalGems,oGameData.distance>saveDataHandler.aLevelStore[1]&&(saveDataHandler.aLevelStore[1]=oGameData.distance),saveDataHandler.saveData(),userInput.removeHitArea("pause"),userInput.removeHitArea("swipe"),userInput.removeKey("steerKeyRight"),userInput.removeKey("steerKeyLeft"),userInput.removeKey("keyUp"),userInput.removeKey("keyDown"),background.renderState="menuScroll",t={oImgData:assetLib.getData("uiButs"),aPos:[150,580],id:oImageIds.upgradeBut,noMove:!0},e={oImgData:assetLib.getData("uiButs"),aPos:[360,615],id:oImageIds.playBut},a={oImgData:assetLib.getData("button_ranking"),aPos:[150,655],id:"id0",noMove:!0},userInput.addHitArea("upgrade",butEventHandler,null,"image",t),userInput.addHitArea("playFromEnd",butEventHandler,null,"image",e),userInput.addHitArea("RankFromEnd",butEventHandler,null,"image",a),i=new Array(t,e,a),(panel=new Elements.Panel(gameState,i)).startTween1(),previousTime=(new Date).getTime(),updateGameOver()}function initUpgrade(){var t,e,i,a,n,r,s;gameState="upgrade",1==audioType&&(musicTween.kill(),musicTween=TweenLite.to(music,.5,{volume:.2,ease:"Linear.easeNone"})),t={oImgData:assetLib.getData("uiButs"),aPos:[97,621],id:oImageIds.backBut,noMove:!0},e={oImgData:assetLib.getData("uiButs"),aPos:[360,615],id:oImageIds.playBut},i={oImgData:assetLib.getData("uiButs"),aPos:[234,216],id:oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[0]]+"On"],num:0,noMove:!0,tweenVert:!0},a={oImgData:assetLib.getData("uiButs"),aPos:[234,326],id:oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[1]]+"On"],num:1,noMove:!0,tweenVert:!0},n={oImgData:assetLib.getData("uiButs"),aPos:[234,436],id:oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[2]]+"On"],num:2,noMove:!0,tweenVert:!0},r={oImgData:assetLib.getData("uiButs"),aPos:[234,546],id:oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[3]]+"On"],num:3,noMove:!0,tweenVert:!0},userInput.addHitArea("backFromUpgrade",butEventHandler,null,"image",t),userInput.addHitArea("playFromUpgrade",butEventHandler,null,"image",e),userInput.addHitArea("powerUp0",butEventHandler,null,"image",i),userInput.addHitArea("powerUp1",butEventHandler,null,"image",a),userInput.addHitArea("powerUp2",butEventHandler,null,"image",n),userInput.addHitArea("powerUp3",butEventHandler,null,"image",r),s=new Array(i,a,n,r,t,e),panel=new Elements.Panel(gameState,s),setPowerUpButs(),panel.startTween1(),previousTime=(new Date).getTime(),updateUpgrade()}function setPowerUpButs(){panel.aButs[0].id=aPowerUpButsData[aPowerUpBarData[0]]>oGameData.totalGems||8<=aPowerUpBarData[0]?oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[0]]+"Off"]:oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[0]]+"On"],panel.aButs[1].id=aPowerUpButsData[aPowerUpBarData[1]]>oGameData.totalGems||8<=aPowerUpBarData[1]?oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[1]]+"Off"]:oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[1]]+"On"],panel.aButs[2].id=aPowerUpButsData[aPowerUpBarData[2]]>oGameData.totalGems||8<=aPowerUpBarData[2]?oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[2]]+"Off"]:oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[2]]+"On"],panel.aButs[3].id=aPowerUpButsData[aPowerUpBarData[3]]>oGameData.totalGems||8<=aPowerUpBarData[3]?oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[3]]+"Off"]:oImageIds["upgradeBut"+aPowerUpButsData[aPowerUpBarData[3]]+"On"]}function gemEvent(t){0<t&&(oGameData.curGems+=t,oGameData.totalGems+=t,oGameData.curGemChain+=t,playSound("gem"+Math.floor(4*Math.random())),hud.collectGem())}function powerUpEvent(t){switch(playSound("collectPowerUp"),t){case 0:squirrel.powerUpState="invincible",squirrel.powerUpTimer=10;break;case 1:squirrel.powerUpState="magnet",squirrel.powerUpTimer=10;break;case 2:squirrel.powerUpState="gems",squirrel.powerUpTimer=5;break;case 3:gemEvent(5+3*oGameData.boostNum-oGameData.curGemChain)}}function callShowInputName(){onInputName(oGameData.distance)}function endGameEvent(t){switch(userInput.removeHitArea("pause"),endGameSequence=!0,TweenMax.to(branch,1,{scrollSpeed:0,ease:"Quad.easeOut",onComplete:function(){initGameEnd()}}),t){case"fall":squirrel.fallOff(),musicTween&&musicTween.kill(),musicTween=TweenLite.to(music,.1,{volume:0,ease:"Linear.easeNone"}),playSound("fall"),setTimeout("callShowInputName()",2e3);break;case"block":musicTween&&musicTween.kill(),musicTween=TweenLite.to(music,.1,{volume:0,ease:"Linear.easeNone"}),squirrel.hitBlock(),branch.scrollSpeed=0,addParticle("hitBlock",squirrel.x,squirrel.y),playSound("hitBlock"),setTimeout("callShowInputName()",2e3)}}function addParticle(t,e,i){var a=new Elements.Particle(t,e,i);switch(t){case"collectGem":a.scaleX=a.scaleY=1;break;case"dust":a.scaleX=a.scaleY=3,a.scaleY=3;break;case"hitBlock":a.scaleX=a.scaleY=4}aEffects.push(a)}function updateGameEvent(){if(!manualPause&&!rotatePause&&"game"==gameState){delta=getDelta(),background.update(),background.render(),branch.update(),branch.render(),null!=swipeDetect.lastDir&&(swipeDetect.resetInc+=delta,.5<swipeDetect.resetInc&&swipeDetect.reset());for(var t=0;t<aEffects.length;t++)aEffects[t].update(),aEffects[t].render(),aEffects[t].removeMe&&(aEffects.splice(t,1),t-=1);hud.render(ctx),renderMuteBut(),requestAnimFrame(updateGameEvent)}}function updateCreditsScreenEvent(){rotatePause||"credits"!=gameState||(delta=getDelta(),panel.update(delta),panel.render(ctx),renderMuteBut(),requestAnimFrame(updateCreditsScreenEvent))}function updateCommitScore(){rotatePause||"commitScore"!=gameState||(delta=getDelta(),background.update(),background.render(),panel.update(delta),panel.render(ctx),renderMuteBut(),requestAnimFrame(updateCommitScore))}function updateRank(){rotatePause||"Rank"!=gameState||(delta=getDelta(),background.update(),background.render(),panel.update(delta),panel.render(ctx),renderMuteBut(),requestAnimFrame(updateRank))}function updateGameOver(){rotatePause||"gameOver"!=gameState||(delta=getDelta(),background.update(),background.render(),panel.update(delta),panel.render(ctx),renderMuteBut(),requestAnimFrame(updateGameOver))}function updateUpgrade(){rotatePause||"upgrade"!=gameState||(delta=getDelta(),background.update(),background.render(),panel.update(delta),panel.render(ctx),renderMuteBut(),requestAnimFrame(updateUpgrade))}function updateSplashScreenEvent(){if(!rotatePause&&"splash"==gameState){if(delta=getDelta(),.1<(splashTimer+=delta))return 1!=audioType||muted||music.play(),void initStartScreen();splash.render(ctx,delta),requestAnimFrame(updateSplashScreenEvent)}}function updateStartScreenEvent(){rotatePause||"start"!=gameState||(delta=getDelta(),background.update(),background.render(),panel.update(delta),panel.render(ctx),renderMuteBut(),requestAnimFrame(updateStartScreenEvent))}function getDelta(){var t=(new Date).getTime(),e=(t-previousTime)/1e3;return previousTime=t,.5<e&&(e=0),e}function checkSpriteCollision(t,e){var i=t.x,a=t.y,n=e.x,r=e.y;return(i-n)*(i-n)+(a-r)*(a-r)<t.radius*e.radius}function getScaleImageToMax(t,e){return t.isSpriteSheet?e[0]/t.oData.spriteWidth<e[1]/t.oData.spriteHeight?Math.min(e[0]/t.oData.spriteWidth,1):Math.min(e[1]/t.oData.spriteHeight,1):e[0]/t.img.width<e[1]/t.img.height?Math.min(e[0]/t.img.width,1):Math.min(e[1]/t.img.height,1)}function getCentreFromTopLeft(t,e,i){var a=new Array;return a.push(t[0]+e.oData.spriteWidth/2*i),a.push(t[1]+e.oData.spriteHeight/2*i),a}function loadPreAssets(){1<aLangs.length?(preAssetLib=new Utils.AssetLoader(curLang,[{id:"langSelect",file:"images/langSelect.jpg"}],ctx,canvas.width,canvas.height,!1)).onReady(initLangSelect):(curLang=aLangs[0],(preAssetLib=new Utils.AssetLoader(curLang,[{id:"preloadImage",file:"images/"+curLang+"/preloadImage.jpg"}],ctx,canvas.width,canvas.height,!1)).onReady(initLoadAssets))}function initLangSelect(){var t,e,i,a=preAssetLib.getData("langSelect");for(ctx.drawImage(a.img,canvas.width/2-a.img.width/2,canvas.height/2-a.img.height/2),140,t=0;t<aLangs.length;t++)e=canvas.width/2-140*aLangs.length/2+140*t,i=canvas.height/2-70,userInput.addHitArea("langSelect",butEventHandler,{lang:aLangs[t]},"rect",{aRect:[e,i,e+140,i+140]})}function initLoadAssets(){var t=preAssetLib.getData("preloadImage");ctx.drawImage(t.img,0,0),loadAssets()}function loadAssets(){assetLib=new Utils.AssetLoader(curLang,[{id:"background0",file:"images/background0.jpg"},{id:"rotateDeviceMessage",file:"images/rotateDeviceMessage.jpg"},{id:"splash",file:"images/splashScreen.png"},{id:"hud",file:"images/"+curLang+"/hud.png"},{id:"ranking",file:"images/"+curLang+"/ranking.png",oAtlasData:{id0:{x:0,y:0,width:450,height:700}}},{id:"commitScoreBtn",file:"images/"+curLang+"/button_goucha.png",oAtlasData:{id0:{x:106,y:255,width:82,height:77},id1:{x:233,y:255,width:84,height:77}}},{id:"commitScore",file:"images/"+curLang+"/name.png",oAtlasData:{id0:{x:0,y:0,width:450,height:700}}},{id:"button_ranking",file:"images/"+curLang+"/button_ranking.png",oAtlasData:{id0:{x:0,y:0,width:208,height:85}}},{id:"uiButs",file:"images/"+curLang+"/uiButs.png",oAtlasData:{id0:{x:190,y:0,width:164,height:156},id1:{x:0,y:70,width:188,height:68},id10:{x:305,y:294,width:59,height:62},id11:{x:0,y:350,width:59,height:62},id12:{x:183,y:350,width:59,height:62},id13:{x:61,y:350,width:59,height:62},id14:{x:244,y:294,width:59,height:62},id15:{x:251,y:230,width:59,height:62},id16:{x:190,y:230,width:59,height:62},id17:{x:0,y:0,width:188,height:68},id2:{x:0,y:280,width:188,height:68},id3:{x:0,y:140,width:188,height:68},id4:{x:0,y:280,width:188,height:68},id5:{x:0,y:210,width:188,height:68},id6:{x:190,y:158,width:76,height:70},id7:{x:268,y:158,width:59,height:62},id8:{x:122,y:350,width:59,height:62},id9:{x:312,y:222,width:59,height:62}}},{id:"panels",file:"images/"+curLang+"/panels_450x700.png"},{id:"numbersWhite",file:"images/numbersWhite_24x37.png"},{id:"numbersOrange",file:"images/numbersOrange_17x24.png"},{id:"muteBut",file:"images/mute_58x56.png"},{id:"branches",file:"images/branches_222x42.png"},{id:"branchElements",file:"images/"+curLang+"/branchElements.png",oAtlasData:{id0:{x:0,y:244,width:748,height:121},id1:{x:0,y:367,width:745,height:121},id10:{x:899,y:345,width:76,height:101},id11:{x:899,y:242,width:76,height:101},id12:{x:828,y:677,width:76,height:101},id13:{x:352,y:727,width:250,height:43},id14:{x:352,y:819,width:241,height:41},id15:{x:352,y:862,width:230,height:44},id16:{x:352,y:772,width:244,height:45},id17:{x:673,y:490,width:201,height:64},id18:{x:750,y:244,width:147,height:222},id19:{x:352,y:908,width:171,height:25},id2:{x:0,y:121,width:758,height:121},id20:{x:598,y:791,width:171,height:25},id21:{x:760,y:204,width:36,height:38},id22:{x:788,y:677,width:31,height:24},id23:{x:673,y:556,width:129,height:26},id24:{x:804,y:556,width:87,height:119},id25:{x:877,y:121,width:87,height:119},id26:{x:825,y:791,width:87,height:119},id27:{x:877,y:0,width:87,height:119},id28:{x:0,y:937,width:274,height:82},id29:{x:276,y:937,width:274,height:82},id3:{x:0,y:0,width:758,height:119},id30:{x:760,y:0,width:115,height:202},id31:{x:0,y:490,width:436,height:113},id32:{x:0,y:605,width:425,height:120},id33:{x:825,y:912,width:81,height:103},id34:{x:893,y:468,width:81,height:129},id35:{x:673,y:584,width:113,height:108},id4:{x:595,y:819,width:228,height:210},id5:{x:438,y:490,width:233,height:211},id6:{x:0,y:727,width:350,height:208},id7:{x:604,y:703,width:222,height:86},id8:{x:908,y:912,width:76,height:101},id9:{x:906,y:599,width:76,height:101}}},{id:"squirrel",file:"images/hero_154x198.png",oAnims:{running:[0,1,2,3,4,5,6,7],jumping:[0,1,2,3,8,9,10,10,11,11,12,12,12],falling:[13],ducking:[14,15,16,17,18,19,20,21,22,23,24,25,16,15],blocked:[8,9,10,11,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13]}},{id:"hitBlock",file:"images/hitBlock_156x139.png",oAnims:{explode:[0,1,2,3,4,5,6,7,8,9,10]}},{id:"collectGem",file:"images/collectGem_107x99.png",oAnims:{explode:[0,1,2,3,4,5,6,7,8,9,10]}},{id:"dust",file:"images/dust_49x47.png",oAnims:{explode:[0,1,2,3,4,5,6,7,8,9,10]}},{id:"topFlare",file:"images/topFlare.png"},{id:"boostShade",file:"images/boostShade.png"}],ctx,canvas.width,canvas.height),oImageIds.playBut="id0",oImageIds.creditsBut="id1",oImageIds.quitBut="id2",oImageIds.moreGamesBut="id3",oImageIds.quitBut="id4",oImageIds.upgradeBut="id5",oImageIds.backBut="id6",oImageIds.upgradeBut20On="id7",oImageIds.upgradeBut50On="id8",oImageIds.upgradeBut80On="id9",oImageIds.upgradeBut120On="id10",oImageIds.upgradeBut175On="id11",oImageIds.upgradeBut20Off="id12",oImageIds.upgradeBut50Off="id13",oImageIds.upgradeBut80Off="id14",oImageIds.upgradeBut120Off="id15",oImageIds.upgradeBut175Off="id16",oImageIds.resetDataBut="id17",oImageIds.horiz1="id0",oImageIds.horiz2="id1",oImageIds.horiz3="id2",oImageIds.straightHoriz="id3",oImageIds.block1="id4",oImageIds.block2="id5",oImageIds.block3="id6",oImageIds.block4="id7",oImageIds.block5="id18",oImageIds.block6="id8",oImageIds.block7="id9",oImageIds.block8="id10",oImageIds.block9="id11",oImageIds.block10="id12",oImageIds.plant0="id13",oImageIds.plant1="id14",oImageIds.plant2="id15",oImageIds.plant3="id16",oImageIds.heroShadow="id17",oImageIds.chainBar0="id19",oImageIds.chainBar1="id20",oImageIds.chainBarGem="id21",oImageIds.cm="id22",oImageIds.upgradeBar="id23",oImageIds.block11="id24",oImageIds.block12="id25",oImageIds.block13="id26",oImageIds.block14="id27",oImageIds.tutMobile0="id28",oImageIds.tutMobile1="id29",oImageIds.tutHand="id30",oImageIds.tutDesktop0="id31",oImageIds.tutDesktop1="id32",oImageIds.turnSignRight="id33",oImageIds.turnSignLeft="id34",oImageIds.turnSignT="id35",assetLib.onReady(initSplash)}function resizeCanvas(){var t=window.innerWidth,e=window.innerHeight;480<t&&(t-=1,e-=1),window.innerWidth>window.innerHeight&&isMobile?("loading"!=gameState&&rotatePauseOn(),t/canvas.width<e/canvas.height?(canvas.style.width=t+"px",canvas.style.height=t/canvas.width*canvas.height+"px",canvasX=0,canvasY=(e-t/canvas.width*canvas.height)/2,canvasScaleX=canvasScaleY=canvas.width/t):(canvas.style.width=e/canvas.height*canvas.width+"px",canvas.style.height=e+"px",canvasX=(t-e/canvas.height*canvas.width)/2,canvasY=0,canvasScaleX=canvasScaleY=canvas.height/e),div.style.marginTop=canvasY+"px",div.style.marginLeft=canvasX+"px"):isMobile?(rotatePause&&rotatePauseOff(),canvasX=canvasY=0,canvasScaleX=canvas.width/t,canvasScaleY=canvas.height/e,canvas.style.width=t+"px",canvas.style.height=e+"px",div.style.marginTop="0px",div.style.marginLeft="0px"):(rotatePause&&rotatePauseOff(),t/canvas.width<e/canvas.height?(canvas.style.width=t+"px",canvas.style.height=t/canvas.width*canvas.height+"px",canvasX=0,canvasY=(e-t/canvas.width*canvas.height)/2,canvasScaleX=canvasScaleY=canvas.width/t):(canvas.style.width=e/canvas.height*canvas.width+"px",canvas.style.height=e+"px",canvasX=(t-e/canvas.height*canvas.width)/2,canvasY=0,canvasScaleX=canvasScaleY=canvas.height/e),div.style.marginTop=canvasY+"px",div.style.marginLeft=canvasX+"px"),userInput.setCanvas(canvasX,canvasY,canvasScaleX,canvasScaleY)}function playSound(t){1==audioType&&sound.play(t)}function toggleMute(){muted=!muted,1==audioType?muted?Howler.mute(!0):Howler.mute(!1):2==audioType&&(muted?music.pause():music.play()),renderMuteBut()}function renderMuteBut(){var t,e,i,a;0!=audioType&&(t=assetLib.getData("muteBut"),e=0,muted&&(e=1),i=e*t.oData.spriteWidth%t.img.width,a=Math.floor(e/(t.img.width/t.oData.spriteWidth))*t.oData.spriteHeight,ctx.drawImage(t.img,i,a,t.oData.spriteWidth,t.oData.spriteHeight,388,4,t.oData.spriteWidth,t.oData.spriteHeight))}function toggleManualPause(){if(manualPause)manualPause=!1,userInput.removeHitArea("quitFromPause"),userInput.removeHitArea("resumeFromPause"),userInput.removeHitArea("moreGamesPause"),pauseCoreOff();else{manualPause=!0,pauseCoreOn();var t={oImgData:assetLib.getData("uiButs"),aPos:[canvas.width/2,500],id:oImageIds.quitBut},e={oImgData:assetLib.getData("uiButs"),aPos:[canvas.width/2,350],id:oImageIds.playBut},i={oImgData:assetLib.getData("uiButs"),aPos:[canvas.width/2,580],id:oImageIds.moreGamesBut},a=new Array(t,e,i);userInput.addHitArea("quitFromPause",butEventHandler,null,"image",t),userInput.addHitArea("resumeFromPause",butEventHandler,null,"image",e),userInput.addHitArea("moreGamesPause",butEventHandler,null,"image",i),(panel=new Elements.Panel("pause",a)).render(ctx),userInput.addHitArea("pause",butEventHandler,null,"rect",{aRect:[325,0,387,58]},!0)}}function rotatePauseOn(){}function rotatePauseOff(){rotatePause=!1,userInput.removeHitArea("quitFromPause"),userInput.removeHitArea("resumeFromPause"),userInput.removeHitArea("moreGamesPause"),pauseCoreOff()}function pauseCoreOn(){switch(1==audioType?Howler.mute(!0):2==audioType&&music.pause(),gameState){case"game":userInput.removeHitArea("swipe"),userInput.removeKey("steerKeyRight"),userInput.removeKey("steerKeyLeft"),userInput.removeKey("keyUp"),userInput.removeKey("keyDown")}}function pauseCoreOff(){switch(1==audioType?muted||Howler.mute(!1):2==audioType&&(muted||music.play()),previousTime=(new Date).getTime(),userInput.pauseIsOn=!1,gameState){case"splash":updateSplashScreenEvent();break;case"start":initStartScreen();break;case"credits":initCreditsScreen();break;case"game":manualPause?(manualPause=!1,updateGameEvent(),toggleManualPause()):(userInput.addHitArea("pause",butEventHandler,null,"rect",{aRect:[325,0,387,58]},!0),userInput.addHitArea("swipe",butEventHandler,{isDraggable:!0,multiTouch:!0},"rect",{aRect:[0,60,canvas.width,canvas.height]},!0),userInput.addKey("steerKeyRight",butEventHandler,null,39),userInput.addKey("steerKeyLeft",butEventHandler,null,37),userInput.addKey("keyUp",butEventHandler,null,38),userInput.addKey("keyDown",butEventHandler,null,40),updateGameEvent());break;case"gameOver":initGameEnd();break;case"upgrade":initUpgrade()}}!function(){"use strict";var t=function(){this.init()};t.prototype={init:function(){var t=this||g;return t._counter=1e3,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||g;if(t=parseFloat(t),e.ctx||c(),void 0!==t&&0<=t&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,g.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),n=0;n<a.length;n++){var r=e._howls[i]._soundById(a[n]);r&&r._node&&(r._node.volume=r._volume*t)}return e}return e._volume},mute:function(t){var e=this||g;e.ctx||c(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,g.ctx.currentTime);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var a=e._howls[i]._getSoundIds(),n=0;n<a.length;n++){var r=e._howls[i]._soundById(a[n]);r&&r._node&&(r._node.muted=!!t||r._muted)}return e},unload:function(){for(var t=this||g,e=t._howls.length-1;0<=e;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,c()),t},codecs:function(t){return(this||g)._codecs[t.replace(/^x-/,"")]},_setup:function(){var e=this||g;if(e.state=e.ctx&&e.ctx.state||"running",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||g,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var i=t.canPlayType("audio/mpeg;").replace(/^no$/,""),a=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),n=a&&parseInt(a[0].split("/")[1],10)<33;return e._codecs={mp3:!(n||!i&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_enableMobileAudio:function(){var i=this||g,t=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome/i.test(i._navigator&&i._navigator.userAgent);if(!i._mobileEnabled&&i.ctx&&t){i._mobileEnabled=!1,i.mobileAutoEnable=!1,i._mobileUnloaded||44100===i.ctx.sampleRate||(i._mobileUnloaded=!0,i.unload()),i._scratchBuffer=i.ctx.createBuffer(1,1,22050);var a=function(t){t.preventDefault(),g._autoResume();var e=i.ctx.createBufferSource();e.buffer=i._scratchBuffer,e.connect(i.ctx.destination),void 0===e.start?e.noteOn(0):e.start(0),"function"==typeof i.ctx.resume&&i.ctx.resume(),e.onended=function(){e.disconnect(0),i._mobileEnabled=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0);for(var t=0;t<i._howls.length;t++)i._howls[t]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),i}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&g.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var i=0;i<t._howls[e]._sounds.length;i++)if(!t._howls[e]._sounds[i]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&g.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var g=new t,e=function(t){t.src&&0!==t.src.length?this.init(t):console.error("An array of source files must be passed with any new Howl.")};e.prototype={init:function(t){var e=this;return g.ctx||c(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhrWithCredentials=t.xhrWithCredentials||!1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=g.usingWebAudio&&!e._html5,void 0!==g.ctx&&g.ctx&&g.mobileAutoEnable&&g._enableMobileAudio(),g._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(!g.noAudio){"string"==typeof t._src&&(t._src=[t._src]);for(var i=0;i<t._src.length;i++){var a,n;if(t._format&&t._format[i])a=t._format[i];else{if("string"!=typeof(n=t._src[i])){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(a=/^data:audio\/([^;,]+);/i.exec(n))||(a=/\.([^.]+)$/.exec(n.split("?",1)[0])),a&&(a=a[1].toLowerCase())}if(a||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),a&&g.codecs(a)){e=t._src[i];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new r(t),t._webAudio&&o(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")}t._emit("loaderror",null,"No audio support.")},play:function(e,i){var a=this,t=null;if("number"==typeof e)t=e,e=null;else{if("string"==typeof e&&"loaded"===a._state&&!a._sprite[e])return null;if(void 0===e){e="__default";for(var n=0,r=0;r<a._sounds.length;r++)a._sounds[r]._paused&&!a._sounds[r]._ended&&(n++,t=a._sounds[r]._id);1===n?e=null:t=null}}var s=t?a._soundById(t):a._inactiveSound();if(!s)return null;if(t&&!e&&(e=s._sprite||"__default"),"loaded"!==a._state){s._sprite=e,s._ended=!1;var o=s._id;return a._queue.push({event:"play",action:function(){a.play(o)}}),o}if(t&&!s._paused)return i||a._loadQueue("play"),s._id;a._webAudio&&g._autoResume();var u=Math.max(0,0<s._seek?s._seek:a._sprite[e][0]/1e3),h=Math.max(0,(a._sprite[e][0]+a._sprite[e][1])/1e3-u),l=1e3*h/Math.abs(s._rate);if(s._paused=!1,s._ended=!1,s._sprite=e,s._seek=u,s._start=a._sprite[e][0]/1e3,s._stop=(a._sprite[e][0]+a._sprite[e][1])/1e3,s._loop=!(!s._loop&&!a._sprite[e][2]),!(s._seek>=s._stop)){var c=s._node;if(a._webAudio){var d=function(){a._refreshBuffer(s);var t=s._muted||a._muted?0:s._volume;c.gain.setValueAtTime(t,g.ctx.currentTime),s._playStart=g.ctx.currentTime,void 0===c.bufferSource.start?s._loop?c.bufferSource.noteGrainOn(0,u,86400):c.bufferSource.noteGrainOn(0,u,h):s._loop?c.bufferSource.start(0,u,86400):c.bufferSource.start(0,u,h),l!==1/0&&(a._endTimers[s._id]=setTimeout(a._ended.bind(a,s),l)),i||setTimeout(function(){a._emit("play",s._id)},0)};"running"===g.state?d():(a.once("resume",d),a._clearTimer(s._id))}else{var p=function(){c.currentTime=u,c.muted=s._muted||a._muted||g._muted||c.muted,c.volume=s._volume*g.volume(),c.playbackRate=s._rate;try{var t=c.play();if("undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)?(a._playLock=!0,t.then(function(){a._playLock=!1,i||a._emit("play",s._id)}).catch(function(){a._playLock=!1,a._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.")})):i||a._emit("play",s._id),c.playbackRate=s._rate,c.paused)return void a._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||s._loop?a._endTimers[s._id]=setTimeout(a._ended.bind(a,s),l):(a._endTimers[s._id]=function(){a._ended(s),c.removeEventListener("ended",a._endTimers[s._id],!1)},c.addEventListener("ended",a._endTimers[s._id],!1))}catch(t){a._emit("playerror",s._id,t)}},f=window&&window.ejecta||!c.readyState&&g._navigator.isCocoonJS;if(3<=c.readyState||f)p();else{var m=function(){p(),c.removeEventListener(g._canPlayEvent,m,!1)};c.addEventListener(g._canPlayEvent,m,!1),a._clearTimer(s._id)}}return s._id}a._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),a=0;a<i.length;a++){e._clearTimer(i[a]);var n=e._soundById(i[a]);if(n&&!n._paused&&(n._seek=e.seek(i[a]),n._rateSeek=0,n._paused=!0,e._stopFade(i[a]),n._node))if(e._webAudio){if(!n._node.bufferSource)continue;void 0===n._node.bufferSource.stop?n._node.bufferSource.noteOff(0):n._node.bufferSource.stop(0),e._cleanBuffer(n._node)}else isNaN(n._node.duration)&&n._node.duration!==1/0||n._node.pause();arguments[1]||e._emit("pause",n?n._id:null)}return e},stop:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var a=i._getSoundIds(t),n=0;n<a.length;n++){i._clearTimer(a[n]);var r=i._soundById(a[n]);r&&(r._seek=r._start||0,r._rateSeek=0,r._paused=!0,r._ended=!0,i._stopFade(a[n]),r._node&&(i._webAudio?r._node.bufferSource&&(void 0===r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),i._cleanBuffer(r._node)):isNaN(r._node.duration)&&r._node.duration!==1/0||(r._node.currentTime=r._start||0,r._node.pause())),e||i._emit("stop",r._id))}return i},mute:function(t,e){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(t,e)}}),i;if(void 0===e){if("boolean"!=typeof t)return i._muted;i._muted=t}for(var a=i._getSoundIds(e),n=0;n<a.length;n++){var r=i._soundById(a[n]);r&&(r._muted=t,r._interval&&i._stopFade(r._id),i._webAudio&&r._node?r._node.gain.setValueAtTime(t?0:r._volume,g.ctx.currentTime):r._node&&(r._node.muted=!!g._muted||t),i._emit("mute",r._id))}return i},volume:function(){var t,e,i,a=this,n=arguments;if(0===n.length)return a._volume;if(1===n.length||2===n.length&&void 0===n[1]?0<=a._getSoundIds().indexOf(n[0])?e=parseInt(n[0],10):t=parseFloat(n[0]):2<=n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10)),!(void 0!==t&&0<=t&&t<=1))return(i=e?a._soundById(e):a._sounds[0])?i._volume:0;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,n)}}),a;void 0===e&&(a._volume=t),e=a._getSoundIds(e);for(var r=0;r<e.length;r++)(i=a._soundById(e[r]))&&(i._volume=t,n[2]||a._stopFade(e[r]),a._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(t,g.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=t*g.volume()),a._emit("volume",i._id));return a},fade:function(t,e,i,a){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"fade",action:function(){n.fade(t,e,i,a)}}),n;n.volume(t,a);for(var r=n._getSoundIds(a),s=0;s<r.length;s++){var o=n._soundById(r[s]);if(o){if(a||n._stopFade(r[s]),n._webAudio&&!o._muted){var u=g.ctx.currentTime,h=u+i/1e3;o._volume=t,o._node.gain.setValueAtTime(t,u),o._node.gain.linearRampToValueAtTime(e,h)}n._startFadeInterval(o,t,e,i,r[s],void 0===a)}}return n},_startFadeInterval:function(e,i,a,n,t,r){var s=this,o=i,u=a-i,h=Math.abs(u/.01),l=Math.max(4,0<h?n/h:n),c=Date.now();e._fadeTo=a,e._interval=setInterval(function(){var t=(Date.now()-c)/n;c=Date.now(),o+=u*t,o=Math.max(0,o),o=Math.min(1,o),o=Math.round(100*o)/100,s._webAudio?e._volume=o:s.volume(o,e._id,!0),r&&(s._volume=o),(a<i&&o<=a||i<a&&a<=o)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(a,e._id),s._emit("fade",e._id))},l)},_stopFade:function(t){var e=this,i=e._soundById(t);return i&&i._interval&&(e._webAudio&&i._node.gain.cancelScheduledValues(g.ctx.currentTime),clearInterval(i._interval),i._interval=null,e.volume(i._fadeTo,t),i._fadeTo=null,e._emit("fade",t)),e},loop:function(){var t,e,i,a=this,n=arguments;if(0===n.length)return a._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(i=a._soundById(parseInt(n[0],10)))&&i._loop;t=n[0],a._loop=t}else 2===n.length&&(t=n[0],e=parseInt(n[1],10));for(var r=a._getSoundIds(e),s=0;s<r.length;s++)(i=a._soundById(r[s]))&&(i._loop=t,a._webAudio&&i._node&&i._node.bufferSource&&((i._node.bufferSource.loop=t)&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop)));return a},rate:function(){var t,e,i,a=this,n=arguments;if(0===n.length)e=a._sounds[0]._id;else if(1===n.length){0<=a._getSoundIds().indexOf(n[0])?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("number"!=typeof t)return(i=a._soundById(e))?i._rate:a._rate;if("loaded"!==a._state||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,n)}}),a;void 0===e&&(a._rate=t),e=a._getSoundIds(e);for(var r=0;r<e.length;r++)if(i=a._soundById(e[r])){i._rateSeek=a.seek(e[r]),i._playStart=a._webAudio?g.ctx.currentTime:i._playStart,i._rate=t,a._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.setValueAtTime(t,g.ctx.currentTime):i._node&&(i._node.playbackRate=t);var s=a.seek(e[r]),o=1e3*((a._sprite[i._sprite][0]+a._sprite[i._sprite][1])/1e3-s)/Math.abs(i._rate);!a._endTimers[e[r]]&&i._paused||(a._clearTimer(e[r]),a._endTimers[e[r]]=setTimeout(a._ended.bind(a,i),o)),a._emit("rate",i._id)}return a},seek:function(){var t,e,i=this,a=arguments;if(0===a.length)e=i._sounds[0]._id;else if(1===a.length){0<=i._getSoundIds().indexOf(a[0])?e=parseInt(a[0],10):i._sounds.length&&(e=i._sounds[0]._id,t=parseFloat(a[0]))}else 2===a.length&&(t=parseFloat(a[0]),e=parseInt(a[1],10));if(void 0===e)return i;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"seek",action:function(){i.seek.apply(i,a)}}),i;var n=i._soundById(e);if(n){if(!("number"==typeof t&&0<=t)){if(i._webAudio){var r=i.playing(e)?g.ctx.currentTime-n._playStart:0,s=n._rateSeek?n._rateSeek-n._seek:0;return n._seek+(s+r*Math.abs(n._rate))}return n._node.currentTime}var o=i.playing(e);o&&i.pause(e,!0),n._seek=t,n._ended=!1,i._clearTimer(e),!i._webAudio&&n._node&&(n._node.currentTime=t);var u=function(){i._emit("seek",e),o&&i.play(e,!0)};if(o&&!i._webAudio){var h=function(){i._playLock?setTimeout(h,0):u()};setTimeout(h,0)}else u()}return i},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(t){var e=this._duration,i=this._soundById(t);return i&&(e=this._sprite[i._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,i=0;i<e.length;i++)e[i]._paused||t.stop(e[i]._id),t._webAudio||(/MSIE |Trident\//.test(g._navigator&&g._navigator.userAgent)||(e[i]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),e[i]._node.removeEventListener("error",e[i]._errorFn,!1),e[i]._node.removeEventListener(g._canPlayEvent,e[i]._loadFn,!1)),delete e[i]._node,t._clearTimer(e[i]._id);var a=g._howls.indexOf(t);0<=a&&g._howls.splice(a,1);var n=!0;for(i=0;i<g._howls.length;i++)if(g._howls[i]._src===t._src){n=!1;break}return s&&n&&delete s[t._src],g.noAudio=!1,t._state="unloaded",t._sounds=[],t=null},on:function(t,e,i,a){var n=this["_on"+t];return"function"==typeof e&&n.push(a?{id:i,fn:e,once:a}:{id:i,fn:e}),this},off:function(t,e,i){var a=this,n=a["_on"+t],r=0;if("number"==typeof e&&(i=e,e=null),e||i)for(r=0;r<n.length;r++){var s=i===n[r].id;if(e===n[r].fn&&s||!e&&s){n.splice(r,1);break}}else if(t)a["_on"+t]=[];else{var o=Object.keys(a);for(r=0;r<o.length;r++)0===o[r].indexOf("_on")&&Array.isArray(a[o[r]])&&(a[o[r]]=[])}return a},once:function(t,e,i){return this.on(t,e,i,1),this},_emit:function(t,e,i){for(var a=this,n=a["_on"+t],r=n.length-1;0<=r;r--)n[r].id&&n[r].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(a,n[r].fn),0),n[r].once&&a.off(t,n[r].fn,n[r].id));return a._loadQueue(t),a},_loadQueue:function(t){var e=this;if(0<e._queue.length){var i=e._queue[0];i.event===t&&(e._queue.shift(),e._loadQueue()),t||i.action()}return e},_ended:function(t){var e=this,i=t._sprite;if(!e._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(e._ended.bind(e,t),100),e;var a=!(!t._loop&&!e._sprite[i][2]);if(e._emit("end",t._id),!e._webAudio&&a&&e.stop(t._id,!0).play(t._id),e._webAudio&&a){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=g.ctx.currentTime;var n=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),n)}return e._webAudio&&!a&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),g._autoSuspend()),e._webAudio||a||e.stop(t._id,!0),e},_clearTimer:function(t){var e=this;if(e._endTimers[t]){if("function"!=typeof e._endTimers[t])clearTimeout(e._endTimers[t]);else{var i=e._soundById(t);i&&i._node&&i._node.removeEventListener("ended",e._endTimers[t],!1)}delete e._endTimers[t]}return e},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new r(t)},_drain:function(){var t=this,e=t._pool,i=0,a=0;if(!(t._sounds.length<e)){for(a=0;a<t._sounds.length;a++)t._sounds[a]._ended&&i++;for(a=t._sounds.length-1;0<=a;a--){if(i<=e)return;t._sounds[a]._ended&&(t._webAudio&&t._sounds[a]._node&&t._sounds[a]._node.disconnect(0),t._sounds.splice(a,1),i--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],i=0;i<this._sounds.length;i++)e.push(this._sounds[i]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=g.ctx.createBufferSource(),t._node.bufferSource.buffer=s[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,g.ctx.currentTime),this},_cleanBuffer:function(t){if(g._scratchBuffer&&t.bufferSource){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=g._scratchBuffer}catch(t){}}return t.bufferSource=null,this}};var r=function(t){this._parent=t,this.init()};r.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++g._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,i=g._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node=void 0===g.ctx.createGain?g.ctx.createGainNode():g.ctx.createGain(),t._node.gain.setValueAtTime(i,g.ctx.currentTime),t._node.paused=!0,t._node.connect(g.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(g._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=i*g.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++g._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(g._canPlayEvent,this._loadFn,!1)}};var s={},o=function(e){var t=e._src;if(s[t])return e._duration=s[t].duration,void l(e);if(/^data:[^;]+;base64,/.test(t)){for(var i=atob(t.split(",")[1]),a=new Uint8Array(i.length),n=0;n<i.length;++n)a[n]=i.charCodeAt(n);h(a.buffer,e)}else{var r=new XMLHttpRequest;r.open("GET",t,!0),r.withCredentials=e._xhrWithCredentials,r.responseType="arraybuffer",r.onload=function(){var t=(r.status+"")[0];"0"===t||"2"===t||"3"===t?h(r.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+r.status+".")},r.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete s[t],e.load())},u(r)}},u=function(e){try{e.send()}catch(t){e.onerror()}},h=function(t,e){var i=function(t){t&&0<e._sounds.length?(s[e._src]=t,l(e,t)):onError()},a=function(){e._emit("loaderror",null,"Decoding audio data failed.")};"undefined"!=typeof Promise&&1===g.ctx.decodeAudioData.length?g.ctx.decodeAudioData(t).then(i).catch(a):g.ctx.decodeAudioData(t,i,a)},l=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},c=function(){try{"undefined"!=typeof AudioContext?g.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?g.ctx=new webkitAudioContext:g.usingWebAudio=!1}catch(t){g.usingWebAudio=!1}var t=/iP(hone|od|ad)/.test(g._navigator&&g._navigator.platform),e=g._navigator&&g._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=e?parseInt(e[1],10):null;if(t&&i&&i<9){var a=/safari/.test(g._navigator&&g._navigator.userAgent.toLowerCase());(g._navigator&&g._navigator.standalone&&!a||g._navigator&&!g._navigator.standalone&&!a)&&(g.usingWebAudio=!1)}g.usingWebAudio&&(g.masterGain=void 0===g.ctx.createGain?g.ctx.createGainNode():g.ctx.createGain(),g.masterGain.gain.setValueAtTime(g._muted?0:1,g.ctx.currentTime),g.masterGain.connect(g.ctx.destination)),g._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:g,Howl:e}}),"undefined"!=typeof exports&&(exports.Howler=g,exports.Howl=e),"undefined"!=typeof window?(window.HowlerGlobal=t,window.Howler=g,window.Howl=e,window.Sound=r):"undefined"!=typeof global&&(global.HowlerGlobal=t,global.Howler=g,global.Howl=e,global.Sound=r)}(),function(){"use strict";var i,a,n;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var i=e._howls.length-1;0<=i;i--)e._howls[i].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,i){var a=this;return a.ctx&&a.ctx.listener?(e="number"!=typeof e?a._pos[1]:e,i="number"!=typeof i?a._pos[2]:i,"number"!=typeof t?a._pos:(a._pos=[t,e,i],void 0!==a.ctx.listener.positionX?(a.ctx.listener.positionX.setTargetAtTime(a._pos[0],Howler.ctx.currentTime,.1),a.ctx.listener.positionY.setTargetAtTime(a._pos[1],Howler.ctx.currentTime,.1),a.ctx.listener.positionZ.setTargetAtTime(a._pos[2],Howler.ctx.currentTime,.1)):a.ctx.listener.setPosition(a._pos[0],a._pos[1],a._pos[2]),a)):a},HowlerGlobal.prototype.orientation=function(t,e,i,a,n,r){var s=this;if(!s.ctx||!s.ctx.listener)return s;var o=s._orientation;return e="number"!=typeof e?o[1]:e,i="number"!=typeof i?o[2]:i,a="number"!=typeof a?o[3]:a,n="number"!=typeof n?o[4]:n,r="number"!=typeof r?o[5]:r,"number"!=typeof t?o:(s._orientation=[t,e,i,a,n,r],void 0!==s.ctx.listener.forwardX?(s.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(t,e,i,a,n,r),s)},Howl.prototype.init=(n=Howl.prototype.init,function(t){var e=this;return e._orientation=t.orientation||[1,0,0],e._stereo=t.stereo||null,e._pos=t.pos||null,e._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},e._onstereo=t.onstereo?[{fn:t.onstereo}]:[],e._onpos=t.onpos?[{fn:t.onpos}]:[],e._onorientation=t.onorientation?[{fn:t.onorientation}]:[],n.call(this,t)}),Howl.prototype.stereo=function(t,e){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(t,e)}}),i;var a=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===e){if("number"!=typeof t)return i._stereo;i._stereo=t,i._pos=[t,0,0]}for(var n=i._getSoundIds(e),r=0;r<n.length;r++){var s=i._soundById(n[r]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||h(s,a),"spatial"===a?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),i._emit("stereo",s._id)}}return i},Howl.prototype.pos=function(t,e,i,a){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"pos",action:function(){n.pos(t,e,i,a)}}),n;if(e="number"!=typeof e?0:e,i="number"!=typeof i?-.5:i,void 0===a){if("number"!=typeof t)return n._pos;n._pos=[t,e,i]}for(var r=n._getSoundIds(a),s=0;s<r.length;s++){var o=n._soundById(r[s]);if(o){if("number"!=typeof t)return o._pos;o._pos=[t,e,i],o._node&&(o._panner&&!o._panner.pan||h(o,"spatial"),void 0!==o._panner.positionX?(o._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(e,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):o._panner.setOrientation(t,e,i)),n._emit("pos",o._id)}}return n},Howl.prototype.orientation=function(t,e,i,a){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"orientation",action:function(){n.orientation(t,e,i,a)}}),n;if(e="number"!=typeof e?n._orientation[1]:e,i="number"!=typeof i?n._orientation[2]:i,void 0===a){if("number"!=typeof t)return n._orientation;n._orientation=[t,e,i]}for(var r=n._getSoundIds(a),s=0;s<r.length;s++){var o=n._soundById(r[s]);if(o){if("number"!=typeof t)return o._orientation;o._orientation=[t,e,i],o._node&&(o._panner||(o._pos||(o._pos=n._pos||[0,0,-.5]),h(o,"spatial")),void 0!==o._panner.orientationX?(o._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(e,Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):o._panner.setOrientation(t,e,i)),n._emit("orientation",o._id)}}return n},Howl.prototype.pannerAttr=function(){var t,e,i,a=this,n=arguments;if(!a._webAudio)return a;if(0===n.length)return a._pannerAttr;if(1===n.length){if("object"!=typeof n[0])return(i=a._soundById(parseInt(n[0],10)))?i._pannerAttr:a._pannerAttr;t=n[0],void 0===e&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:a._panningModel})}else 2===n.length&&(t=n[0],e=parseInt(n[1],10));for(var r=a._getSoundIds(e),s=0;s<r.length;s++)if(i=a._soundById(r[s])){var o=i._pannerAttr;o={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:o.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:o.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:o.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:o.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:o.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:o.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:o.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:o.panningModel};var u=i._panner;u?(u.coneInnerAngle=o.coneInnerAngle,u.coneOuterAngle=o.coneOuterAngle,u.coneOuterGain=o.coneOuterGain,u.distanceModel=o.distanceModel,u.maxDistance=o.maxDistance,u.refDistance=o.refDistance,u.rolloffFactor=o.rolloffFactor,u.panningModel=o.panningModel):(i._pos||(i._pos=a._pos||[0,0,-.5]),h(i,"spatial"))}return a},Sound.prototype.init=(a=Sound.prototype.init,function(){var t=this,e=t._parent;t._orientation=e._orientation,t._stereo=e._stereo,t._pos=e._pos,t._pannerAttr=e._pannerAttr,a.call(this),t._stereo?e.stereo(t._stereo):t._pos&&e.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}),Sound.prototype.reset=(i=Sound.prototype.reset,function(){var t=this,e=t._parent;return t._orientation=e._orientation,t._stereo=e._stereo,t._pos=e._pos,t._pannerAttr=e._pannerAttr,t._stereo?e.stereo(t._stereo):t._pos?e.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,e._refreshBuffer(t)),i.call(this)});var h=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}(),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(D,t){"use strict";var e=[],I=D.document,a=Object.getPrototypeOf,o=e.slice,m=e.concat,u=e.push,n=e.indexOf,i={},r=i.toString,g=i.hasOwnProperty,s=g.toString,h=s.call(Object),_={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},l={type:!0,src:!0,noModule:!0};function b(t,e,i){var a,n=(e=e||I).createElement("script");if(n.text=t,i)for(a in l)i[a]&&(n[a]=i[a]);e.head.appendChild(n).parentNode.removeChild(n)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[r.call(t)]||"object":typeof t}var S=function(t,e){return new S.fn.init(t,e)},c=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(t){var e=!!t&&"length"in t&&t.length,i=w(t);return!v(t)&&!y(t)&&("array"===i||0===e||"number"==typeof e&&0<e&&e-1 in t)}S.fn=S.prototype={jquery:"3.3.1",constructor:S,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=S.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return S.each(this,t)},map:function(i){return this.pushStack(S.map(this,function(t,e){return i.call(t,e,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(0<=i&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:e.sort,splice:e.splice},S.extend=S.fn.extend=function(){var t,e,i,a,n,r,s=arguments[0]||{},o=1,u=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[o]||{},o++),"object"==typeof s||v(s)||(s={}),o===u&&(s=this,o--);o<u;o++)if(null!=(t=arguments[o]))for(e in t)i=s[e],s!==(a=t[e])&&(h&&a&&(S.isPlainObject(a)||(n=Array.isArray(a)))?(n?(n=!1,r=i&&Array.isArray(i)?i:[]):r=i&&S.isPlainObject(i)?i:{},s[e]=S.extend(h,r,a)):void 0!==a&&(s[e]=a));return s},S.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==r.call(t)||(e=a(t))&&("function"!=typeof(i=g.call(e,"constructor")&&e.constructor)||s.call(i)!==h))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){b(t)},each:function(t,e){var i,a=0;if(d(t))for(i=t.length;a<i&&!1!==e.call(t[a],a,t[a]);a++);else for(a in t)if(!1===e.call(t[a],a,t[a]))break;return t},trim:function(t){return null==t?"":(t+"").replace(c,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(d(Object(t))?S.merge(i,"string"==typeof t?[t]:t):u.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:n.call(e,t,i)},merge:function(t,e){for(var i=+e.length,a=0,n=t.length;a<i;a++)t[n++]=e[a];return t.length=n,t},grep:function(t,e,i){for(var a=[],n=0,r=t.length,s=!i;n<r;n++)!e(t[n],n)!==s&&a.push(t[n]);return a},map:function(t,e,i){var a,n,r=0,s=[];if(d(t))for(a=t.length;r<a;r++)null!=(n=e(t[r],r,i))&&s.push(n);else for(r in t)null!=(n=e(t[r],r,i))&&s.push(n);return m.apply([],s)},guid:1,support:_}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=e[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var p=function(i){var t,p,b,r,n,f,c,m,w,u,h,x,D,s,I,g,o,l,_,S="sizzle"+1*new Date,v=i.document,T=0,a=0,d=st(),y=st(),A=st(),k=function(t,e){return t===e&&(h=!0),0},B={}.hasOwnProperty,e=[],P=e.pop,E=e.push,C=e.push,O=e.slice,R=function(t,e){for(var i=0,a=t.length;i<a;i++)if(t[i]===e)return i;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",M="\\["+H+"*("+L+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+H+"*\\]",F=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",j=new RegExp(H+"+","g"),U=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),q=new RegExp("^"+H+"*,"+H+"*"),G=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),W=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),X=new RegExp(F),Y=new RegExp("^"+L+"$"),z={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},$=/^(?:input|select|textarea|button)$/i,V=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),tt=function(t,e,i){var a="0x"+e-65536;return a!=a||i?e:a<0?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=function(){x()},nt=vt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{C.apply(e=O.call(v.childNodes),v.childNodes),e[v.childNodes.length].nodeType}catch(i){C={apply:e.length?function(t,e){E.apply(t,O.call(e))}:function(t,e){for(var i=t.length,a=0;t[i++]=e[a++];);t.length=i-1}}}function rt(t,e,i,a){var n,r,s,o,u,h,l,c=e&&e.ownerDocument,d=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==d&&9!==d&&11!==d)return i;if(!a&&((e?e.ownerDocument||e:v)!==D&&x(e),e=e||D,I)){if(11!==d&&(u=Q.exec(t)))if(n=u[1]){if(9===d){if(!(s=e.getElementById(n)))return i;if(s.id===n)return i.push(s),i}else if(c&&(s=c.getElementById(n))&&_(e,s)&&s.id===n)return i.push(s),i}else{if(u[2])return C.apply(i,e.getElementsByTagName(t)),i;if((n=u[3])&&p.getElementsByClassName&&e.getElementsByClassName)return C.apply(i,e.getElementsByClassName(n)),i}if(p.qsa&&!A[t+" "]&&(!g||!g.test(t))){if(1!==d)c=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((o=e.getAttribute("id"))?o=o.replace(et,it):e.setAttribute("id",o=S),r=(h=f(t)).length;r--;)h[r]="#"+o+" "+_t(h[r]);l=h.join(","),c=J.test(t)&&mt(e.parentNode)||e}if(l)try{return C.apply(i,c.querySelectorAll(l)),i}catch(t){}finally{o===S&&e.removeAttribute("id")}}}return m(t.replace(U,"$1"),e,i,a)}function st(){var a=[];return function t(e,i){return a.push(e+" ")>b.cacheLength&&delete t[a.shift()],t[e+" "]=i}}function ot(t){return t[S]=!0,t}function ut(t){var e=D.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var i=t.split("|"),a=i.length;a--;)b.attrHandle[i[a]]=e}function lt(t,e){var i=e&&t,a=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(a)return a;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ct(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function dt(i){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===i}}function pt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&nt(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ft(s){return ot(function(r){return r=+r,ot(function(t,e){for(var i,a=s([],t.length,r),n=a.length;n--;)t[i=a[n]]&&(t[i]=!(e[i]=t[i]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=rt.support={},n=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},x=rt.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:v;return a!==D&&9===a.nodeType&&a.documentElement&&(s=(D=a).documentElement,I=!n(D),v!==D&&(i=D.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",at,!1):i.attachEvent&&i.attachEvent("onunload",at)),p.attributes=ut(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=ut(function(t){return t.appendChild(D.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=K.test(D.getElementsByClassName),p.getById=ut(function(t){return s.appendChild(t).id=S,!D.getElementsByName||!D.getElementsByName(S).length}),p.getById?(b.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var i=e.getElementById(t);return i?[i]:[]}}):(b.filter.ID=function(t){var i=t.replace(Z,tt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===i}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&I){var i,a,n,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(n=e.getElementsByName(t),a=0;r=n[a++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),b.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,a=[],n=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[n++];)1===i.nodeType&&a.push(i);return a}return r},b.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&I)return e.getElementsByClassName(t)},o=[],g=[],(p.qsa=K.test(D.querySelectorAll))&&(ut(function(t){s.appendChild(t).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+H+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+H+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+S+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+S+"+*").length||g.push(".#.+[+~]")}),ut(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=D.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+H+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),s.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(p.matchesSelector=K.test(l=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&ut(function(t){p.disconnectedMatch=l.call(t,"*"),l.call(t,"[s!='']:x"),o.push("!=",F)}),g=g.length&&new RegExp(g.join("|")),o=o.length&&new RegExp(o.join("|")),e=K.test(s.compareDocumentPosition),_=e||K.test(s.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,a=e&&e.parentNode;return t===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):t.compareDocumentPosition&&16&t.compareDocumentPosition(a)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},k=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===i?t===D||t.ownerDocument===v&&_(v,t)?-1:e===D||e.ownerDocument===v&&_(v,e)?1:u?R(u,t)-R(u,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,a=0,n=t.parentNode,r=e.parentNode,s=[t],o=[e];if(!n||!r)return t===D?-1:e===D?1:n?-1:r?1:u?R(u,t)-R(u,e):0;if(n===r)return lt(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)o.unshift(i);for(;s[a]===o[a];)a++;return a?lt(s[a],o[a]):s[a]===v?-1:o[a]===v?1:0}),D},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==D&&x(t),e=e.replace(W,"='$1']"),p.matchesSelector&&I&&!A[e+" "]&&(!o||!o.test(e))&&(!g||!g.test(e)))try{var i=l.call(t,e);if(i||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return 0<rt(e,D,null,[t]).length},rt.contains=function(t,e){return(t.ownerDocument||t)!==D&&x(t),_(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==D&&x(t);var i=b.attrHandle[e.toLowerCase()],a=i&&B.call(b.attrHandle,e.toLowerCase())?i(t,e,!I):void 0;return void 0!==a?a:p.attributes||!I?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},rt.escape=function(t){return(t+"").replace(et,it)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,i=[],a=0,n=0;if(h=!p.detectDuplicates,u=!p.sortStable&&t.slice(0),t.sort(k),h){for(;e=t[n++];)e===t[n]&&(a=i.push(n));for(;a--;)t.splice(i[a],1)}return u=null,t},r=rt.getText=function(t){var e,i="",a=0,n=t.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=r(t)}else if(3===n||4===n)return t.nodeValue}else for(;e=t[a++];)i+=r(e);return i},(b=rt.selectors={cacheLength:50,createPseudo:ot,match:z,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return z.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&X.test(i)&&(e=f(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=d[t+" "];return e||(e=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&d(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(i,a,n){return function(t){var e=rt.attr(t,i);return null==e?"!="===a:!a||(e+="","="===a?e===n:"!="===a?e!==n:"^="===a?n&&0===e.indexOf(n):"*="===a?n&&-1<e.indexOf(n):"$="===a?n&&e.slice(-n.length)===n:"~="===a?-1<(" "+e.replace(j," ")+" ").indexOf(n):"|="===a&&(e===n||e.slice(0,n.length+1)===n+"-"))}},CHILD:function(f,t,e,m,g){var _="nth"!==f.slice(0,3),v="last"!==f.slice(-4),y="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,i){var a,n,r,s,o,u,h=_!==v?"nextSibling":"previousSibling",l=t.parentNode,c=y&&t.nodeName.toLowerCase(),d=!i&&!y,p=!1;if(l){if(_){for(;h;){for(s=t;s=s[h];)if(y?s.nodeName.toLowerCase()===c:1===s.nodeType)return!1;u=h="only"===f&&!u&&"nextSibling"}return!0}if(u=[v?l.firstChild:l.lastChild],v&&d){for(p=(o=(a=(n=(r=(s=l)[S]||(s[S]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===T&&a[1])&&a[2],s=o&&l.childNodes[o];s=++o&&s&&s[h]||(p=o=0)||u.pop();)if(1===s.nodeType&&++p&&s===t){n[f]=[T,o,p];break}}else if(d&&(p=o=(a=(n=(r=(s=t)[S]||(s[S]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===T&&a[1]),!1===p)for(;(s=++o&&s&&s[h]||(p=o=0)||u.pop())&&((y?s.nodeName.toLowerCase()!==c:1!==s.nodeType)||!++p||(d&&((n=(r=s[S]||(s[S]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]=[T,p]),s!==t)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(t,r){var e,s=b.pseudos[t]||b.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return s[S]?s(r):1<s.length?(e=[t,t,"",r],b.setFilters.hasOwnProperty(t.toLowerCase())?ot(function(t,e){for(var i,a=s(t,r),n=a.length;n--;)t[i=R(t,a[n])]=!(e[i]=a[n])}):function(t){return s(t,0,e)}):s}},pseudos:{not:ot(function(t){var a=[],n=[],o=c(t.replace(U,"$1"));return o[S]?ot(function(t,e,i,a){for(var n,r=o(t,null,a,[]),s=t.length;s--;)(n=r[s])&&(t[s]=!(e[s]=n))}):function(t,e,i){return a[0]=t,o(a,null,i,n),a[0]=null,!n.pop()}}),has:ot(function(e){return function(t){return 0<rt(e,t).length}}),contains:ot(function(e){return e=e.replace(Z,tt),function(t){return-1<(t.textContent||t.innerText||r(t)).indexOf(e)}}),lang:ot(function(i){return Y.test(i||"")||rt.error("unsupported lang: "+i),i=i.replace(Z,tt).toLowerCase(),function(t){var e;do{if(e=I?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===i||0===e.indexOf(i+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===s},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return V.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var a=i<0?i+e:i;0<=--a;)t.push(a);return t}),gt:ft(function(t,e,i){for(var a=i<0?i+e:i;++a<e;)t.push(a);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=dt(t);function gt(){}function _t(t){for(var e=0,i=t.length,a="";e<i;e++)a+=t[e].value;return a}function vt(o,t,e){var u=t.dir,h=t.next,l=h||u,c=e&&"parentNode"===l,d=a++;return t.first?function(t,e,i){for(;t=t[u];)if(1===t.nodeType||c)return o(t,e,i);return!1}:function(t,e,i){var a,n,r,s=[T,d];if(i){for(;t=t[u];)if((1===t.nodeType||c)&&o(t,e,i))return!0}else for(;t=t[u];)if(1===t.nodeType||c)if(n=(r=t[S]||(t[S]={}))[t.uniqueID]||(r[t.uniqueID]={}),h&&h===t.nodeName.toLowerCase())t=t[u]||t;else{if((a=n[l])&&a[0]===T&&a[1]===d)return s[2]=a[2];if((n[l]=s)[2]=o(t,e,i))return!0}return!1}}function yt(n){return 1<n.length?function(t,e,i){for(var a=n.length;a--;)if(!n[a](t,e,i))return!1;return!0}:n[0]}function bt(t,e,i,a,n){for(var r,s=[],o=0,u=t.length,h=null!=e;o<u;o++)(r=t[o])&&(i&&!i(r,a,n)||(s.push(r),h&&e.push(o)));return s}function wt(p,f,m,g,_,t){return g&&!g[S]&&(g=wt(g)),_&&!_[S]&&(_=wt(_,t)),ot(function(t,e,i,a){var n,r,s,o=[],u=[],h=e.length,l=t||function(t,e,i){for(var a=0,n=e.length;a<n;a++)rt(t,e[a],i);return i}(f||"*",i.nodeType?[i]:i,[]),c=!p||!t&&f?l:bt(l,o,p,i,a),d=m?_||(t?p:h||g)?[]:e:c;if(m&&m(c,d,i,a),g)for(n=bt(d,u),g(n,[],i,a),r=n.length;r--;)(s=n[r])&&(d[u[r]]=!(c[u[r]]=s));if(t){if(_||p){if(_){for(n=[],r=d.length;r--;)(s=d[r])&&n.push(c[r]=s);_(null,d=[],n,a)}for(r=d.length;r--;)(s=d[r])&&-1<(n=_?R(t,s):o[r])&&(t[n]=!(e[n]=s))}}else d=bt(d===e?d.splice(h,d.length):d),_?_(null,e,d,a):C.apply(e,d)})}function xt(t){for(var n,e,i,a=t.length,r=b.relative[t[0].type],s=r||b.relative[" "],o=r?1:0,u=vt(function(t){return t===n},s,!0),h=vt(function(t){return-1<R(n,t)},s,!0),l=[function(t,e,i){var a=!r&&(i||e!==w)||((n=e).nodeType?u(t,e,i):h(t,e,i));return n=null,a}];o<a;o++)if(e=b.relative[t[o].type])l=[vt(yt(l),e)];else{if((e=b.filter[t[o].type].apply(null,t[o].matches))[S]){for(i=++o;i<a&&!b.relative[t[i].type];i++);return wt(1<o&&yt(l),1<o&&_t(t.slice(0,o-1).concat({value:" "===t[o-2].type?"*":""})).replace(U,"$1"),e,o<i&&xt(t.slice(o,i)),i<a&&xt(t=t.slice(i)),i<a&&_t(t))}l.push(e)}return yt(l)}return gt.prototype=b.filters=b.pseudos,b.setFilters=new gt,f=rt.tokenize=function(t,e){var i,a,n,r,s,o,u,h=y[t+" "];if(h)return e?0:h.slice(0);for(s=t,o=[],u=b.preFilter;s;){for(r in i&&!(a=q.exec(s))||(a&&(s=s.slice(a[0].length)||s),o.push(n=[])),i=!1,(a=G.exec(s))&&(i=a.shift(),n.push({value:i,type:a[0].replace(U," ")}),s=s.slice(i.length)),b.filter)!(a=z[r].exec(s))||u[r]&&!(a=u[r](a))||(i=a.shift(),n.push({value:i,type:r,matches:a}),s=s.slice(i.length));if(!i)break}return e?s.length:s?rt.error(t):y(t,o).slice(0)},c=rt.compile=function(t,e){var i,g,_,v,y,a,n=[],r=[],s=A[t+" "];if(!s){for(e||(e=f(t)),i=e.length;i--;)(s=xt(e[i]))[S]?n.push(s):r.push(s);(s=A(t,(g=r,_=n,v=0<_.length,y=0<g.length,a=function(t,e,i,a,n){var r,s,o,u=0,h="0",l=t&&[],c=[],d=w,p=t||y&&b.find.TAG("*",n),f=T+=null==d?1:Math.random()||.1,m=p.length;for(n&&(w=e===D||e||n);h!==m&&null!=(r=p[h]);h++){if(y&&r){for(s=0,e||r.ownerDocument===D||(x(r),i=!I);o=g[s++];)if(o(r,e||D,i)){a.push(r);break}n&&(T=f)}v&&((r=!o&&r)&&u--,t&&l.push(r))}if(u+=h,v&&h!==u){for(s=0;o=_[s++];)o(l,c,e,i);if(t){if(0<u)for(;h--;)l[h]||c[h]||(c[h]=P.call(a));c=bt(c)}C.apply(a,c),n&&!t&&0<c.length&&1<u+_.length&&rt.uniqueSort(a)}return n&&(T=f,w=d),l},v?ot(a):a))).selector=t}return s},m=rt.select=function(t,e,i,a){var n,r,s,o,u,h="function"==typeof t&&t,l=!a&&f(t=h.selector||t);if(i=i||[],1===l.length){if(2<(r=l[0]=l[0].slice(0)).length&&"ID"===(s=r[0]).type&&9===e.nodeType&&I&&b.relative[r[1].type]){if(!(e=(b.find.ID(s.matches[0].replace(Z,tt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(n=z.needsContext.test(t)?0:r.length;n--&&(s=r[n],!b.relative[o=s.type]);)if((u=b.find[o])&&(a=u(s.matches[0].replace(Z,tt),J.test(r[0].type)&&mt(e.parentNode)||e))){if(r.splice(n,1),!(t=a.length&&_t(r)))return C.apply(i,a),i;break}}return(h||c(t,l))(a,e,!I,i,!e||J.test(t)&&mt(e.parentNode)||e),i},p.sortStable=S.split("").sort(k).join("")===S,p.detectDuplicates=!!h,x(),p.sortDetached=ut(function(t){return 1&t.compareDocumentPosition(D.createElement("fieldset"))}),ut(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&ut(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ut(function(t){return null==t.getAttribute("disabled")})||ht(N,function(t,e,i){var a;if(!i)return!0===t[e]?e.toLowerCase():(a=t.getAttributeNode(e))&&a.specified?a.value:null}),rt}(D);S.find=p,S.expr=p.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=p.uniqueSort,S.text=p.getText,S.isXMLDoc=p.isXML,S.contains=p.contains,S.escapeSelector=p.escape;var f=function(t,e,i){for(var a=[],n=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(n&&S(t).is(i))break;a.push(t)}return a},x=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},T=S.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function B(t,i,a){return v(i)?S.grep(t,function(t,e){return!!i.call(t,e,t)!==a}):i.nodeType?S.grep(t,function(t){return t===i!==a}):"string"!=typeof i?S.grep(t,function(t){return-1<n.call(i,t)!==a}):S.filter(i,t,a)}S.filter=function(t,e,i){var a=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===a.nodeType?S.find.matchesSelector(a,t)?[a]:[]:S.find.matches(t,S.grep(e,function(t){return 1===t.nodeType}))},S.fn.extend({find:function(t){var e,i,a=this.length,n=this;if("string"!=typeof t)return this.pushStack(S(t).filter(function(){for(e=0;e<a;e++)if(S.contains(n[e],this))return!0}));for(i=this.pushStack([]),e=0;e<a;e++)S.find(t,n[e],i);return 1<a?S.uniqueSort(i):i},filter:function(t){return this.pushStack(B(this,t||[],!1))},not:function(t){return this.pushStack(B(this,t||[],!0))},is:function(t){return!!B(this,"string"==typeof t&&T.test(t)?S(t):t||[],!1).length}});var P,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(t,e,i){var a,n;if(!t)return this;if(i=i||P,"string"==typeof t){if(!(a="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:E.exec(t))||!a[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(a[1]){if(e=e instanceof S?e[0]:e,S.merge(this,S.parseHTML(a[1],e&&e.nodeType?e.ownerDocument||e:I,!0)),k.test(a[1])&&S.isPlainObject(e))for(a in e)v(this[a])?this[a](e[a]):this.attr(a,e[a]);return this}return(n=I.getElementById(a[2]))&&(this[0]=n,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==i.ready?i.ready(t):t(S):S.makeArray(t,this)}).prototype=S.fn,P=S(I);var C=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};function R(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}S.fn.extend({has:function(t){var e=S(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(S.contains(this,e[t]))return!0})},closest:function(t,e){var i,a=0,n=this.length,r=[],s="string"!=typeof t&&S(t);if(!T.test(t))for(;a<n;a++)for(i=this[a];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?-1<s.index(i):1===i.nodeType&&S.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(1<r.length?S.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?n.call(S(t),this[0]):n.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),S.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,i){return f(t,"parentNode",i)},next:function(t){return R(t,"nextSibling")},prev:function(t){return R(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,i){return f(t,"nextSibling",i)},prevUntil:function(t,e,i){return f(t,"previousSibling",i)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return A(t,"iframe")?t.contentDocument:(A(t,"template")&&(t=t.content||t),S.merge([],t.childNodes))}},function(a,n){S.fn[a]=function(t,e){var i=S.map(this,n,t);return"Until"!==a.slice(-5)&&(e=t),e&&"string"==typeof e&&(i=S.filter(e,i)),1<this.length&&(O[a]||S.uniqueSort(i),C.test(a)&&i.reverse()),this.pushStack(i)}});var N=/[^\x20\t\r\n\f]+/g;function H(t){return t}function L(t){throw t}function M(t,e,i,a){var n;try{t&&v(n=t.promise)?n.call(t).done(e).fail(i):t&&v(n=t.then)?n.call(t,e,i):e.apply(void 0,[t].slice(a))}catch(t){i.apply(void 0,[t])}}S.Callbacks=function(a){var t,i;a="string"==typeof a?(t=a,i={},S.each(t.match(N)||[],function(t,e){i[e]=!0}),i):S.extend({},a);var n,e,r,s,o=[],u=[],h=-1,l=function(){for(s=s||a.once,r=n=!0;u.length;h=-1)for(e=u.shift();++h<o.length;)!1===o[h].apply(e[0],e[1])&&a.stopOnFalse&&(h=o.length,e=!1);a.memory||(e=!1),n=!1,s&&(o=e?[]:"")},c={add:function(){return o&&(e&&!n&&(h=o.length-1,u.push(e)),function i(t){S.each(t,function(t,e){v(e)?a.unique&&c.has(e)||o.push(e):e&&e.length&&"string"!==w(e)&&i(e)})}(arguments),e&&!n&&l()),this},remove:function(){return S.each(arguments,function(t,e){for(var i;-1<(i=S.inArray(e,o,i));)o.splice(i,1),i<=h&&h--}),this},has:function(t){return t?-1<S.inArray(t,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return s=u=[],o=e="",this},disabled:function(){return!o},lock:function(){return s=u=[],e||n||(o=e=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),n||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},S.extend({Deferred:function(t){var r=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],n="pending",s={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var n=arguments;return S.Deferred(function(a){S.each(r,function(t,e){var i=v(n[e[4]])&&n[e[4]];o[e[1]](function(){var t=i&&i.apply(this,arguments);t&&v(t.promise)?t.promise().progress(a.notify).done(a.resolve).fail(a.reject):a[e[0]+"With"](this,i?[t]:arguments)})}),n=null}).promise()},then:function(e,i,a){var u=0;function h(n,r,s,o){return function(){var i=this,a=arguments,t=function(){var t,e;if(!(n<u)){if((t=s.apply(i,a))===r.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,v(e)?o?e.call(t,h(u,r,H,o),h(u,r,L,o)):(u++,e.call(t,h(u,r,H,o),h(u,r,L,o),h(u,r,H,r.notifyWith))):(s!==H&&(i=void 0,a=[t]),(o||r.resolveWith)(i,a))}},e=o?t:function(){try{t()}catch(t){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(t,e.stackTrace),u<=n+1&&(s!==L&&(i=void 0,a=[t]),r.rejectWith(i,a))}};n?e():(S.Deferred.getStackHook&&(e.stackTrace=S.Deferred.getStackHook()),D.setTimeout(e))}}return S.Deferred(function(t){r[0][3].add(h(0,t,v(a)?a:H,t.notifyWith)),r[1][3].add(h(0,t,v(e)?e:H)),r[2][3].add(h(0,t,v(i)?i:L))}).promise()},promise:function(t){return null!=t?S.extend(t,s):s}},o={};return S.each(r,function(t,e){var i=e[2],a=e[5];s[e[1]]=i.add,a&&i.add(function(){n=a},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),i.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=i.fireWith}),s.promise(o),t&&t.call(o,o),o},when:function(t){var i=arguments.length,e=i,a=Array(e),n=o.call(arguments),r=S.Deferred(),s=function(e){return function(t){a[e]=this,n[e]=1<arguments.length?o.call(arguments):t,--i||r.resolveWith(a,n)}};if(i<=1&&(M(t,r.done(s(e)).resolve,r.reject,!i),"pending"===r.state()||v(n[e]&&n[e].then)))return r.then();for(;e--;)M(n[e],s(e),r.reject);return r.promise()}});var F=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(t,e){D.console&&D.console.warn&&t&&F.test(t.name)&&D.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},S.readyException=function(t){D.setTimeout(function(){throw t})};var j=S.Deferred();function U(){I.removeEventListener("DOMContentLoaded",U),D.removeEventListener("load",U),S.ready()}S.fn.ready=function(t){return j.then(t).catch(function(t){S.readyException(t)}),this},S.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--S.readyWait:S.isReady)||((S.isReady=!0)!==t&&0<--S.readyWait||j.resolveWith(I,[S]))}}),S.ready.then=j.then,"complete"===I.readyState||"loading"!==I.readyState&&!I.documentElement.doScroll?D.setTimeout(S.ready):(I.addEventListener("DOMContentLoaded",U),D.addEventListener("load",U));var q=function(t,e,i,a,n,r,s){var o=0,u=t.length,h=null==i;if("object"===w(i))for(o in n=!0,i)q(t,e,o,i[o],!0,r,s);else if(void 0!==a&&(n=!0,v(a)||(s=!0),h&&(s?(e.call(t,a),e=null):(h=e,e=function(t,e,i){return h.call(S(t),i)})),e))for(;o<u;o++)e(t[o],i,s?a:a.call(t[o],o,e(t[o],i)));return n?t:h?e.call(t):u?e(t[0],i):r},G=/^-ms-/,W=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function Y(t){return t.replace(G,"ms-").replace(W,X)}var z=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function $(){this.expando=S.expando+$.uid++}$.uid=1,$.prototype={cache:function(t){var e=t[this.expando];return e||(e={},z(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var a,n=this.cache(t);if("string"==typeof e)n[Y(e)]=i;else for(a in e)n[Y(a)]=e[a];return n},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,a=t[this.expando];if(void 0!==a){if(void 0!==e){i=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in a?[e]:e.match(N)||[]).length;for(;i--;)delete a[e[i]]}(void 0===e||S.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!S.isEmptyObject(e)}};var V=new $,K=new $,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,J=/[A-Z]/g;function Z(t,e,i){var a,n;if(void 0===i&&1===t.nodeType)if(a="data-"+e.replace(J,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(a))){try{i="true"===(n=i)||"false"!==n&&("null"===n?null:n===+n+""?+n:Q.test(n)?JSON.parse(n):n)}catch(t){}K.set(t,e,i)}else i=void 0;return i}S.extend({hasData:function(t){return K.hasData(t)||V.hasData(t)},data:function(t,e,i){return K.access(t,e,i)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,i){return V.access(t,e,i)},_removeData:function(t,e){V.remove(t,e)}}),S.fn.extend({data:function(i,t){var e,a,n,r=this[0],s=r&&r.attributes;if(void 0===i){if(this.length&&(n=K.get(r),1===r.nodeType&&!V.get(r,"hasDataAttrs"))){for(e=s.length;e--;)s[e]&&0===(a=s[e].name).indexOf("data-")&&(a=Y(a.slice(5)),Z(r,a,n[a]));V.set(r,"hasDataAttrs",!0)}return n}return"object"==typeof i?this.each(function(){K.set(this,i)}):q(this,function(t){var e;if(r&&void 0===t){if(void 0!==(e=K.get(r,i)))return e;if(void 0!==(e=Z(r,i)))return e}else this.each(function(){K.set(this,i,t)})},null,t,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){K.remove(this,t)})}}),S.extend({queue:function(t,e,i){var a;if(t)return e=(e||"fx")+"queue",a=V.get(t,e),i&&(!a||Array.isArray(i)?a=V.access(t,e,S.makeArray(i)):a.push(i)),a||[]},dequeue:function(t,e){e=e||"fx";var i=S.queue(t,e),a=i.length,n=i.shift(),r=S._queueHooks(t,e);"inprogress"===n&&(n=i.shift(),a--),n&&("fx"===e&&i.unshift("inprogress"),delete r.stop,n.call(t,function(){S.dequeue(t,e)},r)),!a&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return V.get(t,i)||V.access(t,i,{empty:S.Callbacks("once memory").add(function(){V.remove(t,[e+"queue",i])})})}}),S.fn.extend({queue:function(e,i){var t=2;return"string"!=typeof e&&(i=e,e="fx",t--),arguments.length<t?S.queue(this[0],e):void 0===i?this:this.each(function(){var t=S.queue(this,e,i);S._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&S.dequeue(this,e)})},dequeue:function(t){return this.each(function(){S.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,a=1,n=S.Deferred(),r=this,s=this.length,o=function(){--a||n.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=V.get(r[s],t+"queueHooks"))&&i.empty&&(a++,i.empty.add(o));return o(),n.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],at=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&S.contains(t.ownerDocument,t)&&"none"===S.css(t,"display")},nt=function(t,e,i,a){var n,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];for(r in n=i.apply(t,a||[]),e)t.style[r]=s[r];return n};function rt(t,e,i,a){var n,r,s=20,o=a?function(){return a.cur()}:function(){return S.css(t,e,"")},u=o(),h=i&&i[3]||(S.cssNumber[e]?"":"px"),l=(S.cssNumber[e]||"px"!==h&&+u)&&et.exec(S.css(t,e));if(l&&l[3]!==h){for(u/=2,h=h||l[3],l=+u||1;s--;)S.style(t,e,l+h),(1-r)*(1-(r=o()/u||.5))<=0&&(s=0),l/=r;l*=2,S.style(t,e,l+h),i=i||[]}return i&&(l=+l||+u||0,n=i[1]?l+(i[1]+1)*i[2]:+i[2],a&&(a.unit=h,a.start=l,a.end=n)),n}var st={};function ot(t,e){for(var i,a,n=[],r=0,s=t.length;r<s;r++)(a=t[r]).style&&(i=a.style.display,e?("none"===i&&(n[r]=V.get(a,"display")||null,n[r]||(a.style.display="")),""===a.style.display&&at(a)&&(n[r]=(c=h=u=void 0,h=(o=a).ownerDocument,l=o.nodeName,(c=st[l])||(u=h.body.appendChild(h.createElement(l)),c=S.css(u,"display"),u.parentNode.removeChild(u),"none"===c&&(c="block"),st[l]=c)))):"none"!==i&&(n[r]="none",V.set(a,"display",i)));var o,u,h,l,c;for(r=0;r<s;r++)null!=n[r]&&(t[r].style.display=n[r]);return t}S.fn.extend({show:function(){return ot(this,!0)},hide:function(){return ot(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){at(this)?S(this).show():S(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,ht=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,lt=/^$|^module$|\/(?:java|ecma)script/i,ct={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function dt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?S.merge([t],i):i}function pt(t,e){for(var i=0,a=t.length;i<a;i++)V.set(t[i],"globalEval",!e||V.get(e[i],"globalEval"))}ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td;var ft,mt,gt=/<|&#?\w+;/;function _t(t,e,i,a,n){for(var r,s,o,u,h,l,c=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===w(r))S.merge(d,r.nodeType?[r]:r);else if(gt.test(r)){for(s=s||c.appendChild(e.createElement("div")),o=(ht.exec(r)||["",""])[1].toLowerCase(),u=ct[o]||ct._default,s.innerHTML=u[1]+S.htmlPrefilter(r)+u[2],l=u[0];l--;)s=s.lastChild;S.merge(d,s.childNodes),(s=c.firstChild).textContent=""}else d.push(e.createTextNode(r));for(c.textContent="",p=0;r=d[p++];)if(a&&-1<S.inArray(r,a))n&&n.push(r);else if(h=S.contains(r.ownerDocument,r),s=dt(c.appendChild(r),"script"),h&&pt(s),i)for(l=0;r=s[l++];)lt.test(r.type||"")&&i.push(r);return c}ft=I.createDocumentFragment().appendChild(I.createElement("div")),(mt=I.createElement("input")).setAttribute("type","radio"),mt.setAttribute("checked","checked"),mt.setAttribute("name","t"),ft.appendChild(mt),_.checkClone=ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!ft.cloneNode(!0).lastChild.defaultValue;var vt=I.documentElement,yt=/^key/,bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wt=/^([^.]*)(?:\.(.+)|)/;function xt(){return!0}function Dt(){return!1}function It(){try{return I.activeElement}catch(t){}}function St(t,e,i,a,n,r){var s,o;if("object"==typeof e){for(o in"string"!=typeof i&&(a=a||i,i=void 0),e)St(t,o,i,a,e[o],r);return t}if(null==a&&null==n?(n=i,a=i=void 0):null==n&&("string"==typeof i?(n=a,a=void 0):(n=a,a=i,i=void 0)),!1===n)n=Dt;else if(!n)return t;return 1===r&&(s=n,(n=function(t){return S().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=S.guid++)),t.each(function(){S.event.add(this,e,n,a,i)})}S.event={global:{},add:function(e,t,i,a,n){var r,s,o,u,h,l,c,d,p,f,m,g=V.get(e);if(g)for(i.handler&&(i=(r=i).handler,n=r.selector),n&&S.find.matchesSelector(vt,n),i.guid||(i.guid=S.guid++),(u=g.events)||(u=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==S&&S.event.triggered!==t.type?S.event.dispatch.apply(e,arguments):void 0}),h=(t=(t||"").match(N)||[""]).length;h--;)p=m=(o=wt.exec(t[h])||[])[1],f=(o[2]||"").split(".").sort(),p&&(c=S.event.special[p]||{},p=(n?c.delegateType:c.bindType)||p,c=S.event.special[p]||{},l=S.extend({type:p,origType:m,data:a,handler:i,guid:i.guid,selector:n,needsContext:n&&S.expr.match.needsContext.test(n),namespace:f.join(".")},r),(d=u[p])||((d=u[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,a,f,s)||e.addEventListener&&e.addEventListener(p,s)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=i.guid)),n?d.splice(d.delegateCount++,0,l):d.push(l),S.event.global[p]=!0)},remove:function(t,e,i,a,n){var r,s,o,u,h,l,c,d,p,f,m,g=V.hasData(t)&&V.get(t);if(g&&(u=g.events)){for(h=(e=(e||"").match(N)||[""]).length;h--;)if(p=m=(o=wt.exec(e[h])||[])[1],f=(o[2]||"").split(".").sort(),p){for(c=S.event.special[p]||{},d=u[p=(a?c.delegateType:c.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)l=d[r],!n&&m!==l.origType||i&&i.guid!==l.guid||o&&!o.test(l.namespace)||a&&a!==l.selector&&("**"!==a||!l.selector)||(d.splice(r,1),l.selector&&d.delegateCount--,c.remove&&c.remove.call(t,l));s&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,f,g.handle)||S.removeEvent(t,p,g.handle),delete u[p])}else for(p in u)S.event.remove(t,p+e[h],i,a,!0);S.isEmptyObject(u)&&V.remove(t,"handle events")}},dispatch:function(t){var e,i,a,n,r,s,o=S.event.fix(t),u=new Array(arguments.length),h=(V.get(this,"events")||{})[o.type]||[],l=S.event.special[o.type]||{};for(u[0]=o,e=1;e<arguments.length;e++)u[e]=arguments[e];if(o.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,o)){for(s=S.event.handlers.call(this,o,h),e=0;(n=s[e++])&&!o.isPropagationStopped();)for(o.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(r.namespace)||(o.handleObj=r,o.data=r.data,void 0!==(a=((S.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,u))&&!1===(o.result=a)&&(o.preventDefault(),o.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,o),o.result}},handlers:function(t,e){var i,a,n,r,s,o=[],u=e.delegateCount,h=t.target;if(u&&h.nodeType&&!("click"===t.type&&1<=t.button))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(r=[],s={},i=0;i<u;i++)void 0===s[n=(a=e[i]).selector+" "]&&(s[n]=a.needsContext?-1<S(n,this).index(h):S.find(n,this,null,[h]).length),s[n]&&r.push(a);r.length&&o.push({elem:h,handlers:r})}return h=this,u<e.length&&o.push({elem:h,handlers:e.slice(u)}),o},addProp:function(e,t){Object.defineProperty(S.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[S.expando]?t:new S.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==It()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===It()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},S.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},S.Event=function(t,e){if(!(this instanceof S.Event))return new S.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?xt:Dt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&S.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Dt,isPropagationStopped:Dt,isImmediatePropagationStopped:Dt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=xt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=xt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=xt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&yt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},S.event.addProp),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,n){S.event.special[t]={delegateType:n,bindType:n,handle:function(t){var e,i=t.relatedTarget,a=t.handleObj;return i&&(i===this||S.contains(this,i))||(t.type=a.origType,e=a.handler.apply(this,arguments),t.type=n),e}}}),S.fn.extend({on:function(t,e,i,a){return St(this,t,e,i,a)},one:function(t,e,i,a){return St(this,t,e,i,a,1)},off:function(t,e,i){var a,n;if(t&&t.preventDefault&&t.handleObj)return a=t.handleObj,S(t.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof t){for(n in t)this.off(n,e,t[n]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=Dt),this.each(function(){S.event.remove(this,t,i,e)})}});var Tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,At=/<script|<style|<link/i,kt=/checked\s*(?:[^=]|=\s*.checked.)/i,Bt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Pt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&S(t).children("tbody")[0]||t}function Et(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ct(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Ot(t,e){var i,a,n,r,s,o,u,h;if(1===e.nodeType){if(V.hasData(t)&&(r=V.access(t),s=V.set(e,r),h=r.events))for(n in delete s.handle,s.events={},h)for(i=0,a=h[n].length;i<a;i++)S.event.add(e,n,h[n][i]);K.hasData(t)&&(o=K.access(t),u=S.extend({},o),K.set(e,u))}}function Rt(i,a,n,r){a=m.apply([],a);var t,e,s,o,u,h,l=0,c=i.length,d=c-1,p=a[0],f=v(p);if(f||1<c&&"string"==typeof p&&!_.checkClone&&kt.test(p))return i.each(function(t){var e=i.eq(t);f&&(a[0]=p.call(this,t,e.html())),Rt(e,a,n,r)});if(c&&(e=(t=_t(a,i[0].ownerDocument,!1,i,r)).firstChild,1===t.childNodes.length&&(t=e),e||r)){for(o=(s=S.map(dt(t,"script"),Et)).length;l<c;l++)u=t,l!==d&&(u=S.clone(u,!0,!0),o&&S.merge(s,dt(u,"script"))),n.call(i[l],u,l);if(o)for(h=s[s.length-1].ownerDocument,S.map(s,Ct),l=0;l<o;l++)u=s[l],lt.test(u.type||"")&&!V.access(u,"globalEval")&&S.contains(h,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&S._evalUrl(u.src):b(u.textContent.replace(Bt,""),h,u))}return i}function Nt(t,e,i){for(var a,n=e?S.filter(e,t):t,r=0;null!=(a=n[r]);r++)i||1!==a.nodeType||S.cleanData(dt(a)),a.parentNode&&(i&&S.contains(a.ownerDocument,a)&&pt(dt(a,"script")),a.parentNode.removeChild(a));return t}S.extend({htmlPrefilter:function(t){return t.replace(Tt,"<$1></$2>")},clone:function(t,e,i){var a,n,r,s,o,u,h,l=t.cloneNode(!0),c=S.contains(t.ownerDocument,t);if(!(_.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||S.isXMLDoc(t)))for(s=dt(l),a=0,n=(r=dt(t)).length;a<n;a++)o=r[a],u=s[a],void 0,"input"===(h=u.nodeName.toLowerCase())&&ut.test(o.type)?u.checked=o.checked:"input"!==h&&"textarea"!==h||(u.defaultValue=o.defaultValue);if(e)if(i)for(r=r||dt(t),s=s||dt(l),a=0,n=r.length;a<n;a++)Ot(r[a],s[a]);else Ot(t,l);return 0<(s=dt(l,"script")).length&&pt(s,!c&&dt(t,"script")),l},cleanData:function(t){for(var e,i,a,n=S.event.special,r=0;void 0!==(i=t[r]);r++)if(z(i)){if(e=i[V.expando]){if(e.events)for(a in e.events)n[a]?S.event.remove(i,a):S.removeEvent(i,a,e.handle);i[V.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),S.fn.extend({detach:function(t){return Nt(this,t,!0)},remove:function(t){return Nt(this,t)},text:function(t){return q(this,function(t){return void 0===t?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Rt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pt(this,t).appendChild(t)})},prepend:function(){return Rt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Rt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(S.cleanData(dt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return S.clone(this,t,e)})},html:function(t){return q(this,function(t){var e=this[0]||{},i=0,a=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!At.test(t)&&!ct[(ht.exec(t)||["",""])[1].toLowerCase()]){t=S.htmlPrefilter(t);try{for(;i<a;i++)1===(e=this[i]||{}).nodeType&&(S.cleanData(dt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var i=[];return Rt(this,arguments,function(t){var e=this.parentNode;S.inArray(this,i)<0&&(S.cleanData(dt(this)),e&&e.replaceChild(t,this))},i)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){S.fn[t]=function(t){for(var e,i=[],a=S(t),n=a.length-1,r=0;r<=n;r++)e=r===n?this:this.clone(!0),S(a[r])[s](e),u.apply(i,e.get());return this.pushStack(i)}});var Ht=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Lt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=D),e.getComputedStyle(t)},Mt=new RegExp(it.join("|"),"i");function Ft(t,e,i){var a,n,r,s,o=t.style;return(i=i||Lt(t))&&(""!==(s=i.getPropertyValue(e)||i[e])||S.contains(t.ownerDocument,t)||(s=S.style(t,e)),!_.pixelBoxStyles()&&Ht.test(s)&&Mt.test(e)&&(a=o.width,n=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=s,s=i.width,o.width=a,o.minWidth=n,o.maxWidth=r)),void 0!==s?s+"":s}function jt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){o.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",vt.appendChild(o).appendChild(u);var t=D.getComputedStyle(u);i="1%"!==t.top,s=12===e(t.marginLeft),u.style.right="60%",r=36===e(t.right),a=36===e(t.width),u.style.position="absolute",n=36===u.offsetWidth||"absolute",vt.removeChild(o),u=null}}function e(t){return Math.round(parseFloat(t))}var i,a,n,r,s,o=I.createElement("div"),u=I.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle="content-box"===u.style.backgroundClip,S.extend(_,{boxSizingReliable:function(){return t(),a},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),n}}))}();var Ut=/^(none|table(?!-c[ea]).+)/,qt=/^--/,Gt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","Moz","ms"],Yt=I.createElement("div").style;function zt(t){var e=S.cssProps[t];return e||(e=S.cssProps[t]=function(t){if(t in Yt)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Xt.length;i--;)if((t=Xt[i]+e)in Yt)return t}(t)||t),e}function $t(t,e,i){var a=et.exec(e);return a?Math.max(0,a[2]-(i||0))+(a[3]||"px"):e}function Vt(t,e,i,a,n,r){var s="width"===e?1:0,o=0,u=0;if(i===(a?"border":"content"))return 0;for(;s<4;s+=2)"margin"===i&&(u+=S.css(t,i+it[s],!0,n)),a?("content"===i&&(u-=S.css(t,"padding"+it[s],!0,n)),"margin"!==i&&(u-=S.css(t,"border"+it[s]+"Width",!0,n))):(u+=S.css(t,"padding"+it[s],!0,n),"padding"!==i?u+=S.css(t,"border"+it[s]+"Width",!0,n):o+=S.css(t,"border"+it[s]+"Width",!0,n));return!a&&0<=r&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-u-o-.5))),u}function Kt(t,e,i){var a=Lt(t),n=Ft(t,e,a),r="border-box"===S.css(t,"boxSizing",!1,a),s=r;if(Ht.test(n)){if(!i)return n;n="auto"}return s=s&&(_.boxSizingReliable()||n===t.style[e]),("auto"===n||!parseFloat(n)&&"inline"===S.css(t,"display",!1,a))&&(n=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(n=parseFloat(n)||0)+Vt(t,e,i||(r?"border":"content"),s,a,n)+"px"}function Qt(t,e,i,a,n){return new Qt.prototype.init(t,e,i,a,n)}S.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ft(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,a){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var n,r,s,o=Y(e),u=qt.test(e),h=t.style;if(u||(e=zt(o)),s=S.cssHooks[e]||S.cssHooks[o],void 0===i)return s&&"get"in s&&void 0!==(n=s.get(t,!1,a))?n:h[e];"string"==(r=typeof i)&&(n=et.exec(i))&&n[1]&&(i=rt(t,e,n),r="number"),null!=i&&i==i&&("number"===r&&(i+=n&&n[3]||(S.cssNumber[o]?"":"px")),_.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,a))||(u?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,a){var n,r,s,o=Y(e);return qt.test(e)||(e=zt(o)),(s=S.cssHooks[e]||S.cssHooks[o])&&"get"in s&&(n=s.get(t,!0,i)),void 0===n&&(n=Ft(t,e,a)),"normal"===n&&e in Wt&&(n=Wt[e]),""===i||i?(r=parseFloat(n),!0===i||isFinite(r)?r||0:n):n}}),S.each(["height","width"],function(t,o){S.cssHooks[o]={get:function(t,e,i){if(e)return!Ut.test(S.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Kt(t,o,i):nt(t,Gt,function(){return Kt(t,o,i)})},set:function(t,e,i){var a,n=Lt(t),r="border-box"===S.css(t,"boxSizing",!1,n),s=i&&Vt(t,o,i,r,n);return r&&_.scrollboxSize()===n.position&&(s-=Math.ceil(t["offset"+o[0].toUpperCase()+o.slice(1)]-parseFloat(n[o])-Vt(t,o,"border",!1,n)-.5)),s&&(a=et.exec(e))&&"px"!==(a[3]||"px")&&(t.style[o]=e,e=S.css(t,o)),$t(0,e,s)}}}),S.cssHooks.marginLeft=jt(_.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ft(t,"marginLeft"))||t.getBoundingClientRect().left-nt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(n,r){S.cssHooks[n+r]={expand:function(t){for(var e=0,i={},a="string"==typeof t?t.split(" "):[t];e<4;e++)i[n+it[e]+r]=a[e]||a[e-2]||a[0];return i}},"margin"!==n&&(S.cssHooks[n+r].set=$t)}),S.fn.extend({css:function(t,e){return q(this,function(t,e,i){var a,n,r={},s=0;if(Array.isArray(e)){for(a=Lt(t),n=e.length;s<n;s++)r[e[s]]=S.css(t,e[s],!1,a);return r}return void 0!==i?S.style(t,e,i):S.css(t,e)},t,e,1<arguments.length)}}),((S.Tween=Qt).prototype={constructor:Qt,init:function(t,e,i,a,n,r){this.elem=t,this.prop=i,this.easing=n||S.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=a,this.unit=r||(S.cssNumber[i]?"":"px")},cur:function(){var t=Qt.propHooks[this.prop];return t&&t.get?t.get(this):Qt.propHooks._default.get(this)},run:function(t){var e,i=Qt.propHooks[this.prop];return this.options.duration?this.pos=e=S.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Qt.propHooks._default.set(this),this}}).init.prototype=Qt.prototype,(Qt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=S.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){S.fx.step[t.prop]?S.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[S.cssProps[t.prop]]&&!S.cssHooks[t.prop]?t.elem[t.prop]=t.now:S.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Qt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},S.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},S.fx=Qt.prototype.init,S.fx.step={};var Jt,Zt,te,ee,ie=/^(?:toggle|show|hide)$/,ae=/queueHooks$/;function ne(){Zt&&(!1===I.hidden&&D.requestAnimationFrame?D.requestAnimationFrame(ne):D.setTimeout(ne,S.fx.interval),S.fx.tick())}function re(){return D.setTimeout(function(){Jt=void 0}),Jt=Date.now()}function se(t,e){var i,a=0,n={height:t};for(e=e?1:0;a<4;a+=2-e)n["margin"+(i=it[a])]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function oe(t,e,i){for(var a,n=(ue.tweeners[e]||[]).concat(ue.tweeners["*"]),r=0,s=n.length;r<s;r++)if(a=n[r].call(i,e,t))return a}function ue(r,t,e){var i,s,a=0,n=ue.prefilters.length,o=S.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var t=Jt||re(),e=Math.max(0,h.startTime+h.duration-t),i=1-(e/h.duration||0),a=0,n=h.tweens.length;a<n;a++)h.tweens[a].run(i);return o.notifyWith(r,[h,i,e]),i<1&&n?e:(n||o.notifyWith(r,[h,1,0]),o.resolveWith(r,[h]),!1)},h=o.promise({elem:r,props:S.extend({},t),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},e),originalProperties:t,originalOptions:e,startTime:Jt||re(),duration:e.duration,tweens:[],createTween:function(t,e){var i=S.Tween(r,h.opts,t,e,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(i),i},stop:function(t){var e=0,i=t?h.tweens.length:0;if(s)return this;for(s=!0;e<i;e++)h.tweens[e].run(1);return t?(o.notifyWith(r,[h,1,0]),o.resolveWith(r,[h,t])):o.rejectWith(r,[h,t]),this}}),l=h.props;for(function(t,e){var i,a,n,r,s;for(i in t)if(n=e[a=Y(i)],r=t[i],Array.isArray(r)&&(n=r[1],r=t[i]=r[0]),i!==a&&(t[a]=r,delete t[i]),(s=S.cssHooks[a])&&"expand"in s)for(i in r=s.expand(r),delete t[a],r)i in t||(t[i]=r[i],e[i]=n);else e[a]=n}(l,h.opts.specialEasing);a<n;a++)if(i=ue.prefilters[a].call(h,r,l,h.opts))return v(i.stop)&&(S._queueHooks(h.elem,h.opts.queue).stop=i.stop.bind(i)),i;return S.map(l,oe,h),v(h.opts.start)&&h.opts.start.call(r,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),S.fx.timer(S.extend(u,{elem:r,anim:h,queue:h.opts.queue})),h}S.Animation=S.extend(ue,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return rt(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(N);for(var i,a=0,n=t.length;a<n;a++)i=t[a],ue.tweeners[i]=ue.tweeners[i]||[],ue.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var a,n,r,s,o,u,h,l,c="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&at(t),g=V.get(t,"fxshow");for(a in i.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,o=s.empty.fire,s.empty.fire=function(){s.unqueued||o()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()})})),e)if(n=e[a],ie.test(n)){if(delete e[a],r=r||"toggle"===n,n===(m?"hide":"show")){if("show"!==n||!g||void 0===g[a])continue;m=!0}p[a]=g&&g[a]||S.style(t,a)}if((u=!S.isEmptyObject(e))||!S.isEmptyObject(p))for(a in c&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(h=g&&g.display)&&(h=V.get(t,"display")),"none"===(l=S.css(t,"display"))&&(h?l=h:(ot([t],!0),h=t.style.display||h,l=S.css(t,"display"),ot([t]))),("inline"===l||"inline-block"===l&&null!=h)&&"none"===S.css(t,"float")&&(u||(d.done(function(){f.display=h}),null==h&&(l=f.display,h="none"===l?"":l)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),u=!1,p)u||(g?"hidden"in g&&(m=g.hidden):g=V.access(t,"fxshow",{display:h}),r&&(g.hidden=!m),m&&ot([t],!0),d.done(function(){for(a in m||ot([t]),V.remove(t,"fxshow"),p)S.style(t,a,p[a])})),u=oe(m?g[a]:0,a,d),a in g||(g[a]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?ue.prefilters.unshift(t):ue.prefilters.push(t)}}),S.speed=function(t,e,i){var a=t&&"object"==typeof t?S.extend({},t):{complete:i||!i&&e||v(t)&&t,duration:t,easing:i&&e||e&&!v(e)&&e};return S.fx.off?a.duration=0:"number"!=typeof a.duration&&(a.duration in S.fx.speeds?a.duration=S.fx.speeds[a.duration]:a.duration=S.fx.speeds._default),null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){v(a.old)&&a.old.call(this),a.queue&&S.dequeue(this,a.queue)},a},S.fn.extend({fadeTo:function(t,e,i,a){return this.filter(at).css("opacity",0).show().end().animate({opacity:e},t,i,a)},animate:function(e,t,i,a){var n=S.isEmptyObject(e),r=S.speed(t,i,a),s=function(){var t=ue(this,S.extend({},e),r);(n||V.get(this,"finish"))&&t.stop(!0)};return s.finish=s,n||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(n,t,r){var s=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof n&&(r=t,t=n,n=void 0),t&&!1!==n&&this.queue(n||"fx",[]),this.each(function(){var t=!0,e=null!=n&&n+"queueHooks",i=S.timers,a=V.get(this);if(e)a[e]&&a[e].stop&&s(a[e]);else for(e in a)a[e]&&a[e].stop&&ae.test(e)&&s(a[e]);for(e=i.length;e--;)i[e].elem!==this||null!=n&&i[e].queue!==n||(i[e].anim.stop(r),t=!1,i.splice(e,1));!t&&r||S.dequeue(this,n)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=V.get(this),i=e[s+"queue"],a=e[s+"queueHooks"],n=S.timers,r=i?i.length:0;for(e.finish=!0,S.queue(this,s,[]),a&&a.stop&&a.stop.call(this,!0),t=n.length;t--;)n[t].elem===this&&n[t].queue===s&&(n[t].anim.stop(!0),n.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete e.finish})}}),S.each(["toggle","show","hide"],function(t,a){var n=S.fn[a];S.fn[a]=function(t,e,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(se(a,!0),t,e,i)}}),S.each({slideDown:se("show"),slideUp:se("hide"),slideToggle:se("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,a){S.fn[t]=function(t,e,i){return this.animate(a,t,e,i)}}),S.timers=[],S.fx.tick=function(){var t,e=0,i=S.timers;for(Jt=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||S.fx.stop(),Jt=void 0},S.fx.timer=function(t){S.timers.push(t),S.fx.start()},S.fx.interval=13,S.fx.start=function(){Zt||(Zt=!0,ne())},S.fx.stop=function(){Zt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(a,t){return a=S.fx&&S.fx.speeds[a]||a,t=t||"fx",this.queue(t,function(t,e){var i=D.setTimeout(t,a);e.stop=function(){D.clearTimeout(i)}})},te=I.createElement("input"),ee=I.createElement("select").appendChild(I.createElement("option")),te.type="checkbox",_.checkOn=""!==te.value,_.optSelected=ee.selected,(te=I.createElement("input")).value="t",te.type="radio",_.radioValue="t"===te.value;var he,le=S.expr.attrHandle;S.fn.extend({attr:function(t,e){return q(this,S.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){S.removeAttr(this,t)})}}),S.extend({attr:function(t,e,i){var a,n,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?S.prop(t,e,i):(1===r&&S.isXMLDoc(t)||(n=S.attrHooks[e.toLowerCase()]||(S.expr.match.bool.test(e)?he:void 0)),void 0!==i?null===i?void S.removeAttr(t,e):n&&"set"in n&&void 0!==(a=n.set(t,i,e))?a:(t.setAttribute(e,i+""),i):n&&"get"in n&&null!==(a=n.get(t,e))?a:null==(a=S.find.attr(t,e))?void 0:a)},attrHooks:{type:{set:function(t,e){if(!_.radioValue&&"radio"===e&&A(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,a=0,n=e&&e.match(N);if(n&&1===t.nodeType)for(;i=n[a++];)t.removeAttribute(i)}}),he={set:function(t,e,i){return!1===e?S.removeAttr(t,i):t.setAttribute(i,i),i}},S.each(S.expr.match.bool.source.match(/\w+/g),function(t,e){var s=le[e]||S.find.attr;le[e]=function(t,e,i){var a,n,r=e.toLowerCase();return i||(n=le[r],le[r]=a,a=null!=s(t,e,i)?r:null,le[r]=n),a}});var ce=/^(?:input|select|textarea|button)$/i,de=/^(?:a|area)$/i;function pe(t){return(t.match(N)||[]).join(" ")}function fe(t){return t.getAttribute&&t.getAttribute("class")||""}function me(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}S.fn.extend({prop:function(t,e){return q(this,S.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[S.propFix[t]||t]})}}),S.extend({prop:function(t,e,i){var a,n,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&S.isXMLDoc(t)||(e=S.propFix[e]||e,n=S.propHooks[e]),void 0!==i?n&&"set"in n&&void 0!==(a=n.set(t,i,e))?a:t[e]=i:n&&"get"in n&&null!==(a=n.get(t,e))?a:t[e]},propHooks:{tabIndex:{get:function(t){var e=S.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||de.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(S.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(e){var t,i,a,n,r,s,o,u=0;if(v(e))return this.each(function(t){S(this).addClass(e.call(this,t,fe(this)))});if((t=me(e)).length)for(;i=this[u++];)if(n=fe(i),a=1===i.nodeType&&" "+pe(n)+" "){for(s=0;r=t[s++];)a.indexOf(" "+r+" ")<0&&(a+=r+" ");n!==(o=pe(a))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,a,n,r,s,o,u=0;if(v(e))return this.each(function(t){S(this).removeClass(e.call(this,t,fe(this)))});if(!arguments.length)return this.attr("class","");if((t=me(e)).length)for(;i=this[u++];)if(n=fe(i),a=1===i.nodeType&&" "+pe(n)+" "){for(s=0;r=t[s++];)for(;-1<a.indexOf(" "+r+" ");)a=a.replace(" "+r+" "," ");n!==(o=pe(a))&&i.setAttribute("class",o)}return this},toggleClass:function(n,e){var r=typeof n,s="string"===r||Array.isArray(n);return"boolean"==typeof e&&s?e?this.addClass(n):this.removeClass(n):v(n)?this.each(function(t){S(this).toggleClass(n.call(this,t,fe(this),e),e)}):this.each(function(){var t,e,i,a;if(s)for(e=0,i=S(this),a=me(n);t=a[e++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==n&&"boolean"!==r||((t=fe(this))&&V.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===n?"":V.get(this,"__className__")||""))})},hasClass:function(t){var e,i,a=0;for(e=" "+t+" ";i=this[a++];)if(1===i.nodeType&&-1<(" "+pe(fe(i))+" ").indexOf(e))return!0;return!1}});var ge=/\r/g;S.fn.extend({val:function(i){var a,t,n,e=this[0];return arguments.length?(n=v(i),this.each(function(t){var e;1===this.nodeType&&(null==(e=n?i.call(this,t,S(this).val()):i)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=S.map(e,function(t){return null==t?"":t+""})),(a=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in a&&void 0!==a.set(this,e,"value")||(this.value=e))})):e?(a=S.valHooks[e.type]||S.valHooks[e.nodeName.toLowerCase()])&&"get"in a&&void 0!==(t=a.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(ge,""):null==t?"":t:void 0}}),S.extend({valHooks:{option:{get:function(t){var e=S.find.attr(t,"value");return null!=e?e:pe(S.text(t))}},select:{get:function(t){var e,i,a,n=t.options,r=t.selectedIndex,s="select-one"===t.type,o=s?null:[],u=s?r+1:n.length;for(a=r<0?u:s?r:0;a<u;a++)if(((i=n[a]).selected||a===r)&&!i.disabled&&(!i.parentNode.disabled||!A(i.parentNode,"optgroup"))){if(e=S(i).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var i,a,n=t.options,r=S.makeArray(e),s=n.length;s--;)((a=n[s]).selected=-1<S.inArray(S.valHooks.option.get(a),r))&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<S.inArray(S(t).val(),e)}},_.checkOn||(S.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),_.focusin="onfocusin"in D;var _e=/^(?:focusinfocus|focusoutblur)$/,ve=function(t){t.stopPropagation()};S.extend(S.event,{trigger:function(t,e,i,a){var n,r,s,o,u,h,l,c,d=[i||I],p=g.call(t,"type")?t.type:t,f=g.call(t,"namespace")?t.namespace.split("."):[];if(r=c=s=i=i||I,3!==i.nodeType&&8!==i.nodeType&&!_e.test(p+S.event.triggered)&&(-1<p.indexOf(".")&&(p=(f=p.split(".")).shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,(t=t[S.expando]?t:new S.Event(p,"object"==typeof t&&t)).isTrigger=a?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:S.makeArray(e,[t]),l=S.event.special[p]||{},a||!l.trigger||!1!==l.trigger.apply(i,e))){if(!a&&!l.noBubble&&!y(i)){for(o=l.delegateType||p,_e.test(o+p)||(r=r.parentNode);r;r=r.parentNode)d.push(r),s=r;s===(i.ownerDocument||I)&&d.push(s.defaultView||s.parentWindow||D)}for(n=0;(r=d[n++])&&!t.isPropagationStopped();)c=r,t.type=1<n?o:l.bindType||p,(h=(V.get(r,"events")||{})[t.type]&&V.get(r,"handle"))&&h.apply(r,e),(h=u&&r[u])&&h.apply&&z(r)&&(t.result=h.apply(r,e),!1===t.result&&t.preventDefault());return t.type=p,a||t.isDefaultPrevented()||l._default&&!1!==l._default.apply(d.pop(),e)||!z(i)||u&&v(i[p])&&!y(i)&&((s=i[u])&&(i[u]=null),S.event.triggered=p,t.isPropagationStopped()&&c.addEventListener(p,ve),i[p](),t.isPropagationStopped()&&c.removeEventListener(p,ve),S.event.triggered=void 0,s&&(i[u]=s)),t.result}},simulate:function(t,e,i){var a=S.extend(new S.Event,i,{type:t,isSimulated:!0});S.event.trigger(a,null,e)}}),S.fn.extend({trigger:function(t,e){return this.each(function(){S.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return S.event.trigger(t,e,i,!0)}}),_.focusin||S.each({focus:"focusin",blur:"focusout"},function(i,a){var n=function(t){S.event.simulate(a,t.target,S.event.fix(t))};S.event.special[a]={setup:function(){var t=this.ownerDocument||this,e=V.access(t,a);e||t.addEventListener(i,n,!0),V.access(t,a,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=V.access(t,a)-1;e?V.access(t,a,e):(t.removeEventListener(i,n,!0),V.remove(t,a))}}});var ye=D.location,be=Date.now(),we=/\?/;S.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new D.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+t),e};var xe=/\[\]$/,De=/\r?\n/g,Ie=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Te(i,t,a,n){var e;if(Array.isArray(t))S.each(t,function(t,e){a||xe.test(i)?n(i,e):Te(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,a,n)});else if(a||"object"!==w(t))n(i,t);else for(e in t)Te(i+"["+e+"]",t[e],a,n)}S.param=function(t,e){var i,a=[],n=function(t,e){var i=v(e)?e():e;a[a.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!S.isPlainObject(t))S.each(t,function(){n(this.name,this.value)});else for(i in t)Te(i,t[i],e,n);return a.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=S.prop(this,"elements");return t?S.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!S(this).is(":disabled")&&Se.test(this.nodeName)&&!Ie.test(t)&&(this.checked||!ut.test(t))}).map(function(t,e){var i=S(this).val();return null==i?null:Array.isArray(i)?S.map(i,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:i.replace(De,"\r\n")}}).get()}});var Ae=/%20/g,ke=/#.*$/,Be=/([?&])_=[^&]*/,Pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ee=/^(?:GET|HEAD)$/,Ce=/^\/\//,Oe={},Re={},Ne="*/".concat("*"),He=I.createElement("a");function Le(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var i,a=0,n=t.toLowerCase().match(N)||[];if(v(e))for(;i=n[a++];)"+"===i[0]?(i=i.slice(1)||"*",(r[i]=r[i]||[]).unshift(e)):(r[i]=r[i]||[]).push(e)}}function Me(e,n,r,s){var o={},u=e===Re;function h(t){var a;return o[t]=!0,S.each(e[t]||[],function(t,e){var i=e(n,r,s);return"string"!=typeof i||u||o[i]?u?!(a=i):void 0:(n.dataTypes.unshift(i),h(i),!1)}),a}return h(n.dataTypes[0])||!o["*"]&&h("*")}function Fe(t,e){var i,a,n=S.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((n[i]?t:a||(a={}))[i]=e[i]);return a&&S.extend(!0,t,a),t}He.href=ye.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ne,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,S.ajaxSettings),e):Fe(S.ajaxSettings,t)},ajaxPrefilter:Le(Oe),ajaxTransport:Le(Re),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var l,c,d,i,p,a,f,m,n,r,g=S.ajaxSetup({},e),_=g.context||g,v=g.context&&(_.nodeType||_.jquery)?S(_):S.event,y=S.Deferred(),b=S.Callbacks("once memory"),w=g.statusCode||{},s={},o={},u="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(f){if(!i)for(i={};e=Pe.exec(d);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return f?d:null},setRequestHeader:function(t,e){return null==f&&(t=o[t.toLowerCase()]=o[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==f&&(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(f)x.always(t[x.status]);else for(e in t)w[e]=[w[e],t[e]];return this},abort:function(t){var e=t||u;return l&&l.abort(e),h(0,e),this}};if(y.promise(x),g.url=((t||g.url||ye.href)+"").replace(Ce,ye.protocol+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(N)||[""],null==g.crossDomain){a=I.createElement("a");try{a.href=g.url,a.href=a.href,g.crossDomain=He.protocol+"//"+He.host!=a.protocol+"//"+a.host}catch(t){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=S.param(g.data,g.traditional)),Me(Oe,g,e,x),f)return x;for(n in(m=S.event&&g.global)&&0==S.active++&&S.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Ee.test(g.type),c=g.url.replace(ke,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Ae,"+")):(r=g.url.slice(c.length),g.data&&(g.processData||"string"==typeof g.data)&&(c+=(we.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(c=c.replace(Be,"$1"),r=(we.test(c)?"&":"?")+"_="+be+++r),g.url=c+r),g.ifModified&&(S.lastModified[c]&&x.setRequestHeader("If-Modified-Since",S.lastModified[c]),S.etag[c]&&x.setRequestHeader("If-None-Match",S.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&x.setRequestHeader("Content-Type",g.contentType),x.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Ne+"; q=0.01":""):g.accepts["*"]),g.headers)x.setRequestHeader(n,g.headers[n]);if(g.beforeSend&&(!1===g.beforeSend.call(_,x,g)||f))return x.abort();if(u="abort",b.add(g.complete),x.done(g.success),x.fail(g.error),l=Me(Re,g,e,x)){if(x.readyState=1,m&&v.trigger("ajaxSend",[x,g]),f)return x;g.async&&0<g.timeout&&(p=D.setTimeout(function(){x.abort("timeout")},g.timeout));try{f=!1,l.send(s,h)}catch(t){if(f)throw t;h(-1,t)}}else h(-1,"No Transport");function h(t,e,i,a){var n,r,s,o,u,h=e;f||(f=!0,p&&D.clearTimeout(p),l=void 0,d=a||"",x.readyState=0<t?4:0,n=200<=t&&t<300||304===t,i&&(o=function(t,e,i){for(var a,n,r,s,o=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===a&&(a=t.mimeType||e.getResponseHeader("Content-Type"));if(a)for(n in o)if(o[n]&&o[n].test(a)){u.unshift(n);break}if(u[0]in i)r=u[0];else{for(n in i){if(!u[0]||t.converters[n+" "+u[0]]){r=n;break}s||(s=n)}r=r||s}if(r)return r!==u[0]&&u.unshift(r),i[r]}(g,x,i)),o=function(t,e,i,a){var n,r,s,o,u,h={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];for(r=l.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!u&&a&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=r,r=l.shift())if("*"===r)r=u;else if("*"!==u&&u!==r){if(!(s=h[u+" "+r]||h["* "+r]))for(n in h)if((o=n.split(" "))[1]===r&&(s=h[u+" "+o[0]]||h["* "+o[0]])){!0===s?s=h[n]:!0!==h[n]&&(r=o[0],l.unshift(o[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+r}}}return{state:"success",data:e}}(g,o,x,n),n?(g.ifModified&&((u=x.getResponseHeader("Last-Modified"))&&(S.lastModified[c]=u),(u=x.getResponseHeader("etag"))&&(S.etag[c]=u)),204===t||"HEAD"===g.type?h="nocontent":304===t?h="notmodified":(h=o.state,r=o.data,n=!(s=o.error))):(s=h,!t&&h||(h="error",t<0&&(t=0))),x.status=t,x.statusText=(e||h)+"",n?y.resolveWith(_,[r,h,x]):y.rejectWith(_,[x,h,s]),x.statusCode(w),w=void 0,m&&v.trigger(n?"ajaxSuccess":"ajaxError",[x,g,n?r:s]),b.fireWith(_,[x,h]),m&&(v.trigger("ajaxComplete",[x,g]),--S.active||S.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,i){return S.get(t,e,i,"json")},getScript:function(t,e){return S.get(t,void 0,e,"script")}}),S.each(["get","post"],function(t,n){S[n]=function(t,e,i,a){return v(e)&&(a=a||i,i=e,e=void 0),S.ajax(S.extend({url:t,type:n,dataType:a,data:e,success:i},S.isPlainObject(t)&&t))}}),S._evalUrl=function(t){return S.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(i){return v(i)?this.each(function(t){S(this).wrapInner(i.call(this,t))}):this.each(function(){var t=S(this),e=t.contents();e.length?e.wrapAll(i):t.append(i)})},wrap:function(e){var i=v(e);return this.each(function(t){S(this).wrapAll(i?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(t){return!S.expr.pseudos.visible(t)},S.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new D.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},Ue=S.ajaxSettings.xhr();_.cors=!!Ue&&"withCredentials"in Ue,_.ajax=Ue=!!Ue,S.ajaxTransport(function(n){var r,s;if(_.cors||Ue&&!n.crossDomain)return{send:function(t,e){var i,a=n.xhr();if(a.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(i in n.xhrFields)a[i]=n.xhrFields[i];for(i in n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),n.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)a.setRequestHeader(i,t[i]);r=function(t){return function(){r&&(r=s=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?e(0,"error"):e(a.status,a.statusText):e(je[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=r(),s=a.onerror=a.ontimeout=r("error"),void 0!==a.onabort?a.onabort=s:a.onreadystatechange=function(){4===a.readyState&&D.setTimeout(function(){r&&s()})},r=r("abort");try{a.send(n.hasContent&&n.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}}),S.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return S.globalEval(t),t}}}),S.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),S.ajaxTransport("script",function(i){var a,n;if(i.crossDomain)return{send:function(t,e){a=S("<script>").prop({charset:i.scriptCharset,src:i.url}).on("load error",n=function(t){a.remove(),n=null,t&&e("error"===t.type?404:200,t.type)}),I.head.appendChild(a[0])},abort:function(){n&&n()}}});var qe,Ge=[],We=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||S.expando+"_"+be++;return this[t]=!0,t}}),S.ajaxPrefilter("json jsonp",function(t,e,i){var a,n,r,s=!1!==t.jsonp&&(We.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return a=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(We,"$1"+a):!1!==t.jsonp&&(t.url+=(we.test(t.url)?"&":"?")+t.jsonp+"="+a),t.converters["script json"]=function(){return r||S.error(a+" was not called"),r[0]},t.dataTypes[0]="json",n=D[a],D[a]=function(){r=arguments},i.always(function(){void 0===n?S(D).removeProp(a):D[a]=n,t[a]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(a)),r&&v(n)&&n(r[0]),r=n=void 0}),"script"}),_.createHTMLDocument=((qe=I.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qe.childNodes.length),S.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(_.createHTMLDocument?((a=(e=I.implementation.createHTMLDocument("")).createElement("base")).href=I.location.href,e.head.appendChild(a)):e=I),r=!i&&[],(n=k.exec(t))?[e.createElement(n[1])]:(n=_t([t],e,r),r&&r.length&&S(r).remove(),S.merge([],n.childNodes)));var a,n,r},S.fn.load=function(t,e,i){var a,n,r,s=this,o=t.indexOf(" ");return-1<o&&(a=pe(t.slice(o)),t=t.slice(0,o)),v(e)?(i=e,e=void 0):e&&"object"==typeof e&&(n="POST"),0<s.length&&S.ajax({url:t,type:n||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(a?S("<div>").append(S.parseHTML(t)).find(a):t)}).always(i&&function(t,e){s.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){S.fn[e]=function(t){return this.on(e,t)}}),S.expr.pseudos.animated=function(e){return S.grep(S.timers,function(t){return e===t.elem}).length},S.offset={setOffset:function(t,e,i){var a,n,r,s,o,u,h=S.css(t,"position"),l=S(t),c={};"static"===h&&(t.style.position="relative"),o=l.offset(),r=S.css(t,"top"),u=S.css(t,"left"),("absolute"===h||"fixed"===h)&&-1<(r+u).indexOf("auto")?(s=(a=l.position()).top,n=a.left):(s=parseFloat(r)||0,n=parseFloat(u)||0),v(e)&&(e=e.call(t,i,S.extend({},o))),null!=e.top&&(c.top=e.top-o.top+s),null!=e.left&&(c.left=e.left-o.left+n),"using"in e?e.using.call(t,c):l.css(c)}},S.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){S.offset.setOffset(this,e,t)});var t,i,a=this[0];return a?a.getClientRects().length?(t=a.getBoundingClientRect(),i=a.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,a=this[0],n={top:0,left:0};if("fixed"===S.css(a,"position"))e=a.getBoundingClientRect();else{for(e=this.offset(),i=a.ownerDocument,t=a.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===S.css(t,"position");)t=t.parentNode;t&&t!==a&&1===t.nodeType&&((n=S(t).offset()).top+=S.css(t,"borderTopWidth",!0),n.left+=S.css(t,"borderLeftWidth",!0))}return{top:e.top-n.top-S.css(a,"marginTop",!0),left:e.left-n.left-S.css(a,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===S.css(t,"position");)t=t.offsetParent;return t||vt})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;S.fn[e]=function(t){return q(this,function(t,e,i){var a;if(y(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===i)return a?a[n]:t[e];a?a.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):t[e]=i},e,t,arguments.length)}}),S.each(["top","left"],function(t,i){S.cssHooks[i]=jt(_.pixelPosition,function(t,e){if(e)return e=Ft(t,i),Ht.test(e)?S(t).position()[i]+"px":e})}),S.each({Height:"height",Width:"width"},function(s,o){S.each({padding:"inner"+s,content:o,"":"outer"+s},function(a,r){S.fn[r]=function(t,e){var i=arguments.length&&(a||"boolean"!=typeof t),n=a||(!0===t||!0===e?"margin":"border");return q(this,function(t,e,i){var a;return y(t)?0===r.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+s],a["scroll"+s],t.body["offset"+s],a["offset"+s],a["client"+s])):void 0===i?S.css(t,e,n):S.style(t,e,i,n)},o,i?t:void 0,i)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,i){S.fn[i]=function(t,e){return 0<arguments.length?this.on(i,null,t,e):this.trigger(i)}}),S.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),S.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,a){return this.on(e,t,i,a)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),S.proxy=function(t,e){var i,a,n;if("string"==typeof e&&(i=t[e],e=t,t=i),v(t))return a=o.call(arguments,2),(n=function(){return t.apply(e||this,a.concat(o.call(arguments)))}).guid=t.guid=t.guid||S.guid++,n},S.holdReady=function(t){t?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=v,S.isWindow=y,S.camelCase=Y,S.type=w,S.now=Date.now,S.isNumeric=function(t){var e=S.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Xe=D.jQuery,Ye=D.$;return S.noConflict=function(t){return D.$===S&&(D.$=Ye),t&&D.jQuery===S&&(D.jQuery=Xe),S},t||(D.jQuery=D.$=S),S});var Utils,Elements,__extends,requestAnimFrame,previousTime,canvas,ctx,canvasX,canvasY,canvasScaleX,canvasScaleY,div,sound,music,audioType,muted,splash,splashTimer,assetLib,preAssetLib,rotatePause,manualPause,isMobile,gameState,aLangs,curLang,isBugBrowser,isIE10,delta,deviceAgent,userInput,panel,hud,background,totalScore,levelScore,levelNum,aLevelUps,levelBonusScore,bonusScore,panelFrame,oLogoData,oLogoBut,musicTween,oImageIds,branch,squirrel,swipeState,swipeDetect,radian,controlState,oGameData,endGameSequence,aPowerUpBarData,aPowerUpButsData,saveDataHandler,aEffects,firstRun,hasHorizAction,hasVertAction,q9O={h:function(t){var h={},l=function(t,e){var i=65535&e;return 0|(0|(e-i)*t)+(0|i*t)},r=function(){}.constructor(new function(a){this.q=a,this.r=function(t){var e,i=new String;for(e=0;e<a.length;e++)i+=String.fromCharCode(a.charCodeAt(e)-t);return i}}("zm|}zv(lwk}umv|6lwuiqvC").r(8))(),s=function(t,e,i){var a,n,r,s,o,u;if(void 0!==h[i])return h[i];for(a=3432918353,n=461845907,r=i,s=-4&e,o=0;o<s;o+=4)u=255&t.charCodeAt(o)|(255&t.charCodeAt(o+1))<<8|(255&t.charCodeAt(o+2))<<16|(255&t.charCodeAt(o+3))<<24,u=l(u,a),r=0|5*(r=(524287&(r^=u=l(u=(131071&u)<<15|u>>>17,n)))<<13|r>>>19)+3864292196;switch(u=0,e%4){case 3:u=(255&t.charCodeAt(s+2))<<16;case 2:u|=(255&t.charCodeAt(s+1))<<8;case 1:u|=255&t.charCodeAt(s),u=l(u,a),r^=u=l(u=(131071&u)<<15|u>>>17,n)}return r^=e,r=l(r^=r>>>16,2246822507),r=l(r^=r>>>13,3266489909),r^=r>>>16,h[i]=r};return{R:l,v:s,u:function(t,e,i){var a,n;return n=(a=0<i?r.substring(t,i):null===t||t<=0?r.substring(0,r.length):r.substring(r.length-t,r.length)).length,s(a,n,e)}}}()};!function(t){var e;e=function(){function t(t,e,i,a,n,r){var s;for(void 0===r&&(r=!0),this.oAssetData={},this.assetsLoaded=0,this.totalAssets=e.length,this.ctx=i,this.canvasWidth=a,this.canvasHeight=n,this.showBar=r,this.topLeftX=this.canvasWidth/2-a/4,this.topLeftY=440,this.showBar&&(ctx.strokeStyle="#222D6F",ctx.lineWidth=2,ctx.fillStyle="#AFD2F4",ctx.moveTo(this.topLeftX,this.topLeftY),ctx.lineTo(this.topLeftX+a/2,this.topLeftY+0),ctx.lineTo(this.topLeftX+a/2,this.topLeftY+40),ctx.lineTo(this.topLeftX+0,this.topLeftY+40),ctx.lineTo(this.topLeftX+0,this.topLeftY+0),ctx.stroke()),s=0;s<e.length;s++)this.loadImage(e[s])}return t.prototype.loadImage=function(e){var i,a;i=this,(a=new Image).onload=function(){var t;i.oAssetData[e.id]={},i.oAssetData[e.id].img=a,i.oAssetData[e.id].oData={},0!=(t=i.getSpriteSize(e.file))[0]?(i.oAssetData[e.id].oData.spriteWidth=t[0],i.oAssetData[e.id].oData.spriteHeight=t[1]):(i.oAssetData[e.id].oData.spriteWidth=i.oAssetData[e.id].img.width,i.oAssetData[e.id].oData.spriteHeight=i.oAssetData[e.id].img.height),e.oAnims&&(i.oAssetData[e.id].oData.oAnims=e.oAnims),i.oAssetData[e.id].oData.oAtlasData=e.oAtlasData?e.oAtlasData:{none:{x:0,y:0,width:i.oAssetData[e.id].oData.spriteWidth,height:i.oAssetData[e.id].oData.spriteHeight}},++i.assetsLoaded,i.showBar&&ctx.fillRect(i.topLeftX+2,i.topLeftY+2,(i.canvasWidth/2-4)/i.totalAssets*i.assetsLoaded,36),i.checkLoadComplete()},a.src=e.file},t.prototype.getSpriteSize=function(t){var e,i,a,n,r,s;for(e=new Array,a=i="",n=0,r=t.lastIndexOf("."),s=!0;s;)r--,0==n&&this.isNumber(t.charAt(r))?i=t.charAt(r)+i:0==n&&0<i.length&&"x"==t.charAt(r)?(r--,n=1,a=t.charAt(r)+a):1==n&&this.isNumber(t.charAt(r))?a=t.charAt(r)+a:1==n&&0<a.length&&"_"==t.charAt(r)?(s=!1,e=[parseInt(a),parseInt(i)]):(s=!1,e=[0,0]);return e},t.prototype.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},t.prototype.checkLoadComplete=function(){this.assetsLoaded==this.totalAssets&&this.loadedCallback()},t.prototype.onReady=function(t){this.loadedCallback=t},t.prototype.getImg=function(t){return this.oAssetData[t].img},t.prototype.getData=function(t){return this.oAssetData[t]},t}(),t.AssetLoader=e}(Utils||(Utils={})),function(t){var e;e=function(){function t(t,e,i,a){this.x=0,this.y=0,this.rotation=0,this.radius=10,this.removeMe=!1,this.frameInc=0,this.animType="loop",this.offsetX=0,this.offsetY=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.oImgData=t,this.oAnims=this.oImgData.oData.oAnims,this.fps=e,this.radius=i,this.animId=a,this.centreX=Math.round(this.oImgData.oData.spriteWidth/2),this.centreY=Math.round(this.oImgData.oData.spriteHeight/2)}return t.prototype.updateAnimation=function(t){this.frameInc+=this.fps*t},t.prototype.changeImgData=function(t,e){this.oImgData=t,this.oAnims=this.oImgData.oData.oAnims,this.animId=e,this.centreX=Math.round(this.oImgData.oData.spriteWidth/2),this.centreY=Math.round(this.oImgData.oData.spriteHeight/2),this.resetAnim()},t.prototype.resetAnim=function(){this.frameInc=0},t.prototype.setFrame=function(t){this.fixedFrame=t},t.prototype.setAnimType=function(t,e,i){switch(void 0===i&&(i=!0),this.animId=e,this.animType=t,i&&this.resetAnim(),t){case"loop":break;case"once":this.maxIdx=this.oAnims[this.animId].length-1}},t.prototype.render=function(t){var e,i,a,n;t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.globalAlpha=this.alpha,null!=this.animId?(e=this.oAnims[this.animId].length,i=Math.floor(this.frameInc),this.curFrame=this.oAnims[this.animId][i%e],a=this.curFrame*this.oImgData.oData.spriteWidth%this.oImgData.img.width,n=Math.floor(this.curFrame/(this.oImgData.img.width/this.oImgData.oData.spriteWidth))*this.oImgData.oData.spriteHeight,"once"==this.animType&&i>this.maxIdx&&(this.fixedFrame=this.oAnims[this.animId][e-1],(this.animId=null)!=this.animEndedFunc&&this.animEndedFunc(),a=this.fixedFrame*this.oImgData.oData.spriteWidth%this.oImgData.img.width,n=Math.floor(this.fixedFrame/(this.oImgData.img.width/this.oImgData.oData.spriteWidth))*this.oImgData.oData.spriteHeight)):(a=this.fixedFrame*this.oImgData.oData.spriteWidth%this.oImgData.img.width,n=Math.floor(this.fixedFrame/(this.oImgData.img.width/this.oImgData.oData.spriteWidth))*this.oImgData.oData.spriteHeight),t.drawImage(this.oImgData.img,a,n,this.oImgData.oData.spriteWidth,this.oImgData.oData.spriteHeight,-this.centreX+this.offsetX,-this.centreY+this.offsetY,this.oImgData.oData.spriteWidth,this.oImgData.oData.spriteHeight),t.restore()},t.prototype.renderSimple=function(t){var e,i,a,n;if(null!=this.animId){if(e=this.oAnims[this.animId].length,i=Math.floor(this.frameInc),this.curFrame=this.oAnims[this.animId][i%e],a=this.curFrame*this.oImgData.oData.spriteWidth%this.oImgData.img.width,n=Math.floor(this.curFrame/(this.oImgData.img.width/this.oImgData.oData.spriteWidth))*this.oImgData.oData.spriteHeight,"once"==this.animType&&i>this.maxIdx){if(this.fixedFrame=this.oAnims[this.animId][e-1],(this.animId=null)!=this.animEndedFunc)return void this.animEndedFunc();a=this.fixedFrame*this.oImgData.oData.spriteWidth%this.oImgData.img.width,n=Math.floor(this.fixedFrame/(this.oImgData.img.width/this.oImgData.oData.spriteWidth))*this.oImgData.oData.spriteHeight}}else a=this.fixedFrame*this.oImgData.oData.spriteWidth%this.oImgData.img.width,n=Math.floor(this.fixedFrame/(this.oImgData.img.width/this.oImgData.oData.spriteWidth))*this.oImgData.oData.spriteHeight;t.drawImage(this.oImgData.img,a,n,this.oImgData.oData.spriteWidth,this.oImgData.oData.spriteHeight,this.x-(this.centreX-this.offsetX)*this.scaleX,this.y-(this.centreY-this.offsetY)*this.scaleY,this.oImgData.oData.spriteWidth*this.scaleX,this.oImgData.oData.spriteHeight*this.scaleY)},t}(),t.AnimSprite=e}(Utils||(Utils={})),function(t){var e=function(){function t(t,e,i){void 0===i&&(i=0),this.x=0,this.y=0,this.rotation=0,this.radius=10,this.removeMe=!1,this.offsetX=0,this.offsetY=0,this.scaleX=1,this.scaleY=1,this.oImgData=t,this.radius=e,this.setFrame(i)}return t.prototype.setFrame=function(t){this.frameNum=t},t.prototype.render=function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY);var e=this.frameNum*this.oImgData.oData.spriteWidth%this.oImgData.img.width,i=Math.floor(this.frameNum/(this.oImgData.img.width/this.oImgData.oData.spriteWidth))*this.oImgData.oData.spriteHeight;t.drawImage(this.oImgData.img,e,i,this.oImgData.oData.spriteWidth,this.oImgData.oData.spriteHeight,-this.oImgData.oData.spriteWidth/2+this.offsetX,-this.oImgData.oData.spriteHeight/2+this.offsetY,this.oImgData.oData.spriteWidth,this.oImgData.oData.spriteHeight),t.restore()},t}();t.BasicSprite=e}(Utils||(Utils={})),function(t){var e=function(){function t(t,e){var i=this;this.canvasX=0,this.canvasY=0,this.canvasScaleX=1,this.canvasScaleY=1,this.prevHitTime=0,this.pauseIsOn=!1,this.isDown=!1,this.isDetectingKeys=!1,this.isBugBrowser=e,t.addEventListener("touchstart",function(t){for(var e=0;e<t.changedTouches.length;e++)i.hitDown(t,t.changedTouches[e].pageX,t.changedTouches[e].pageY,t.changedTouches[e].identifier)},!1),t.addEventListener("touchend",function(t){for(var e=0;e<t.changedTouches.length;e++)i.hitUp(t,t.changedTouches[e].pageX,t.changedTouches[e].pageY,t.changedTouches[e].identifier)},!1),t.addEventListener("touchmove",function(t){for(var e=0;e<i.aHitAreas.length;e++)i.move(t,t.changedTouches[e].pageX,t.changedTouches[e].pageY,t.changedTouches[e].identifier,!0)},!1),t.addEventListener("mousedown",function(t){i.isDown=!0,i.hitDown(t,t.pageX,t.pageY,1)},!1),t.addEventListener("mouseup",function(t){i.isDown=!1,i.hitUp(t,t.pageX,t.pageY,1)},!1),t.addEventListener("mousemove",function(t){i.move(t,t.pageX,t.pageY,1,i.isDown)},!1),this.aHitAreas=new Array,this.aKeys=new Array}return t.prototype.setCanvas=function(t,e,i,a){return this.canvasX=t,this.canvasY=e,this.canvasScaleX=i,void(this.canvasScaleY=a)},t.prototype.hitDown=function(t,e,i,a){var n,r;if(t.preventDefault(),t.stopPropagation(),!this.pauseIsOn){for(n=(new Date).getTime(),e=(e-this.canvasX)*this.canvasScaleX,i=(i-this.canvasY)*this.canvasScaleY,r=0;r<this.aHitAreas.length;r++)if(this.aHitAreas[r].rect&&e>this.aHitAreas[r].area[0]&&i>this.aHitAreas[r].area[1]&&e<this.aHitAreas[r].area[2]&&i<this.aHitAreas[r].area[3]){if(this.aHitAreas[r].aTouchIdentifiers.push(a),this.aHitAreas[r].oData.hasLeft=!1,!this.aHitAreas[r].oData.isDown){if(this.aHitAreas[r].oData.isDown=!0,this.aHitAreas[r].oData.x=e,this.aHitAreas[r].oData.y=i,n-this.prevHitTime<500&&("game"!=gameState||"pause"==this.aHitAreas[r].id)&&isBugBrowser)return;this.aHitAreas[r].callback(this.aHitAreas[r].id,this.aHitAreas[r].oData)}break}this.prevHitTime=n}},t.prototype.hitUp=function(t,e,i,a){var n,r;if(!this.pauseIsOn)for(t.preventDefault(),t.stopPropagation(),e=(e-this.canvasX)*this.canvasScaleX,i=(i-this.canvasY)*this.canvasScaleY,n=0;n<this.aHitAreas.length;n++)if(this.aHitAreas[n].rect&&e>this.aHitAreas[n].area[0]&&i>this.aHitAreas[n].area[1]&&e<this.aHitAreas[n].area[2]&&i<this.aHitAreas[n].area[3]){for(r=0;r<this.aHitAreas[n].aTouchIdentifiers.length;r++)this.aHitAreas[n].aTouchIdentifiers[r]==a&&(this.aHitAreas[n].aTouchIdentifiers.splice(r,1),r-=1);0==this.aHitAreas[n].aTouchIdentifiers.length&&(this.aHitAreas[n].oData.isDown=!1,this.aHitAreas[n].oData.multiTouch&&(this.aHitAreas[n].oData.x=e,this.aHitAreas[n].oData.y=i,this.aHitAreas[n].callback(this.aHitAreas[n].id,this.aHitAreas[n].oData)));break}},t.prototype.move=function(t,e,i,a,n){var r,s;if(!this.pauseIsOn&&n)for(e=(e-this.canvasX)*this.canvasScaleX,i=(i-this.canvasY)*this.canvasScaleY,r=0;r<this.aHitAreas.length;r++)if(this.aHitAreas[r].rect)if(e>this.aHitAreas[r].area[0]&&i>this.aHitAreas[r].area[1]&&e<this.aHitAreas[r].area[2]&&i<this.aHitAreas[r].area[3])this.aHitAreas[r].oData.hasLeft=!1,this.aHitAreas[r].oData.isDown||(this.aHitAreas[r].oData.isDown=!0,this.aHitAreas[r].oData.x=e,this.aHitAreas[r].oData.y=i,this.aHitAreas[r].aTouchIdentifiers.push(a),this.aHitAreas[r].oData.multiTouch&&this.aHitAreas[r].callback(this.aHitAreas[r].id,this.aHitAreas[r].oData)),this.aHitAreas[r].oData.isDraggable&&(this.aHitAreas[r].oData.isBeingDragged=!0,this.aHitAreas[r].oData.x=e,this.aHitAreas[r].oData.y=i,this.aHitAreas[r].callback(this.aHitAreas[r].id,this.aHitAreas[r].oData),this.aHitAreas[r].oData.isBeingDragged=!1);else if(this.aHitAreas[r].oData.isDown&&!this.aHitAreas[r].oData.hasLeft){for(s=0;s<this.aHitAreas[r].aTouchIdentifiers.length;s++)this.aHitAreas[r].aTouchIdentifiers[s]==a&&(this.aHitAreas[r].aTouchIdentifiers.splice(s,1),s-=1);0==this.aHitAreas[r].aTouchIdentifiers.length&&(this.aHitAreas[r].oData.hasLeft=!0,this.aHitAreas[r].oData.isBeingDragged||(this.aHitAreas[r].oData.isDown=!1),this.aHitAreas[r].oData.multiTouch&&this.aHitAreas[r].callback(this.aHitAreas[r].id,this.aHitAreas[r].oData))}},t.prototype.keyDown=function(t){for(var e=0;e<this.aKeys.length;e++)t.keyCode==this.aKeys[e].keyCode&&(this.aKeys[e].oData.isDown=!0,this.aKeys[e].callback(this.aKeys[e].id,this.aKeys[e].oData))},t.prototype.keyUp=function(t){for(var e=0;e<this.aKeys.length;e++)t.keyCode==this.aKeys[e].keyCode&&(this.aKeys[e].oData.isDown=!1,this.aKeys[e].callback(this.aKeys[e].id,this.aKeys[e].oData))},t.prototype.addKey=function(t,e,i,a){var n=this;this.isDetectingKeys||(window.focus(),window.addEventListener("keydown",function(t){n.keyDown(t)},!1),window.addEventListener("keyup",function(t){n.keyUp(t)},!1),this.isDetectingKeys=!0),null==i&&(i=new Object),this.aKeys.push({id:t,callback:e,oData:i,keyCode:a})},t.prototype.removeKey=function(t){for(var e=0;e<this.aKeys.length;e++)this.aKeys[e].id==t&&(this.aKeys.splice(e,1),e-=1)},t.prototype.addHitArea=function(t,e,i,a,n,r){var s,o;switch(void 0===r&&(r=!1),null==i&&(i=new Object),r&&this.removeHitArea(t),n.scale||(n.scale=1),s=new Array,a){case"image":o=new Array(n.aPos[0]-n.oImgData.oData.oAtlasData[n.id].width/2*n.scale,n.aPos[1]-n.oImgData.oData.oAtlasData[n.id].height/2*n.scale,n.aPos[0]+n.oImgData.oData.oAtlasData[n.id].width/2*n.scale,n.aPos[1]+n.oImgData.oData.oAtlasData[n.id].height/2*n.scale),this.aHitAreas.push({id:t,aTouchIdentifiers:s,callback:e,oData:i,rect:!0,area:o});break;case"rect":this.aHitAreas.push({id:t,aTouchIdentifiers:s,callback:e,oData:i,rect:!0,area:n.aRect})}},t.prototype.removeHitArea=function(t){for(var e=0;e<this.aHitAreas.length;e++)this.aHitAreas[e].id==t&&(this.aHitAreas.splice(e,1),e-=1)},t}();t.UserInput=e}(Utils||(Utils={})),function(t){var e=function(){function t(t){this.updateFreq=10,this.updateInc=0,this.frameAverage=0,this.display=1,this.log="",this.render=function(t){this.frameAverage+=this.delta/this.updateFreq,++this.updateInc>=this.updateFreq&&(this.updateInc=0,this.display=this.frameAverage,this.frameAverage=0),t.textAlign="left",ctx.font="10px Helvetica",t.fillStyle="#333333",t.beginPath(),t.rect(0,this.canvasHeight-15,40,15),t.closePath(),t.fill(),t.fillStyle="#ffffff",t.fillText(Math.round(1e3/(1e3*this.display))+" fps "+this.log,5,this.canvasHeight-5)},this.canvasHeight=t}return t.prototype.update=function(t){this.delta=t},t}();t.FpsMeter=e}(Utils||(Utils={})),function(t){var e=function(){function t(t,e,i){this.x=0,this.y=0,this.incY=0,this.renderState=null,this.targX=0,this.targY=0,this.projectX=0,this.projectY=0,this.oImgData=t,this.canvasWidth=e,this.canvasHeight=i,this.x=this.projectX=this.targX,this.y=this.projectY=this.targY}return t.prototype.update=function(){switch(this.renderState){case"menuScroll":this.incY+=5*delta,this.x=this.x-100*Math.sin(this.incY/10)*delta,this.y=this.y-200*delta;break;case"game":!endGameSequence&&branch.aBranches[0]&&(branch.aBranches[0].startSkewFrame<30&&(this.targX+=25*(branch.aBranches[0].startSkewFrame-branch.skewMidFrame)*delta),this.targY-=1e3*(branch.aBranches[0].startHeightFactor-.25)*delta),this.x+=5*(this.targX-this.x)*delta,this.y+=5*(this.targY-this.y)*delta}},t.prototype.render=function(){switch(this.renderState){case"menuScroll":case"game":this.projectX=this.x%this.oImgData.img.width/2,this.projectY=this.y%this.oImgData.img.height/2,this.projectX<0&&(this.projectX+=this.oImgData.img.width/2),this.projectY<0&&(this.projectY+=this.oImgData.img.height/2),ctx.drawImage(this.oImgData.img,this.projectX,this.projectY,this.canvasWidth,this.canvasHeight,0,0,this.canvasWidth,this.canvasHeight);break;case"none":ctx.drawImage(this.oImgData.img,0,0)}},t}();t.Background=e}(Elements||(Elements={})),function(t){var e=function(){function t(t,e,i){this.inc=0,this.oSplashScreenImgData=t,this.canvasWidth=e,this.canvasHeight=i,this.posY=-this.canvasHeight,TweenLite.to(this,.5,{posY:0})}return t.prototype.render=function(t,e){this.inc+=5*e,t.drawImage(this.oSplashScreenImgData.img,0,0-this.posY)},t}();t.Splash=e}(Elements||(Elements={})),function(t){var e=function(){function t(t,e){this.posY=0,this.numberSpace=18,this.incY=0,this.flareRot=0,this.oPanelsImgData=assetLib.getData("panels"),this.oNumbersImgData=assetLib.getData("numbersWhite"),this.oBranchElementsImgData=assetLib.getData("branchElements"),this.oTopFlareImgData=assetLib.getData("topFlare"),this.panelType=t,this.aButs=e}return t.prototype.update=function(t){this.incY+=5*t},t.prototype.startTween1=function(){this.posY=550,TweenLite.to(this,.8,{posY:0,ease:"Back.easeOut"})},t.prototype.startTween2=function(){this.posY=550,TweenLite.to(this,.5,{posY:0,ease:"Quad.easeOut"})},t.prototype.render=function(t,e){var i,a,n,r,s,o,u,h,l;switch(void 0===e&&(e=!0),e||this.addButs(t),this.panelType){case"start":for(this.flareRot+=delta/3,t.save(),t.translate(canvas.width/2,292+this.posY),t.rotate(this.flareRot),t.scale(1.5,1.5),t.drawImage(this.oTopFlareImgData.img,-this.oTopFlareImgData.img.width/2,-this.oTopFlareImgData.img.height/2),t.restore(),a=(i=0)*this.oPanelsImgData.oData.spriteWidth%this.oPanelsImgData.img.width,n=Math.floor(i/(this.oPanelsImgData.img.width/this.oPanelsImgData.oData.spriteWidth))*this.oPanelsImgData.oData.spriteHeight,t.drawImage(this.oPanelsImgData.img,a,n+1,this.oPanelsImgData.oData.spriteWidth,this.oPanelsImgData.oData.spriteHeight-2,0,0+this.posY,this.oPanelsImgData.oData.spriteWidth,this.oPanelsImgData.oData.spriteHeight),r=oGameData.totalGems,s=0;s<r.toString().length;s++)a=(i=parseFloat(r.toString().charAt(s)))*this.oNumbersImgData.oData.spriteWidth%this.oNumbersImgData.img.width,n=Math.floor(i/(this.oNumbersImgData.img.width/this.oNumbersImgData.oData.spriteWidth))*this.oNumbersImgData.oData.spriteHeight,t.drawImage(this.oNumbersImgData.img,a,n,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight,54+s*this.numberSpace,11+this.posY,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight);break;case"credits":a=(i=1)*this.oPanelsImgData.oData.spriteWidth%this.oPanelsImgData.img.width,n=Math.floor(i/(this.oPanelsImgData.img.width/this.oPanelsImgData.oData.spriteWidth))*this.oPanelsImgData.oData.spriteHeight,t.drawImage(this.oPanelsImgData.img,a,n,this.oPanelsImgData.oData.spriteWidth,this.oPanelsImgData.oData.spriteHeight,0,0+this.posY,this.oPanelsImgData.oData.spriteWidth,this.oPanelsImgData.oData.spriteHeight);break;case"gameOver":for(a=(i=2)*this.oPanelsImgData.oData.spriteWidth%this.oPanelsImgData.img.width,n=Math.floor(i/(this.oPanelsImgData.img.width/this.oPanelsImgData.oData.spriteWidth))*this.oPanelsImgData.oData.spriteHeight,t.drawImage(this.oPanelsImgData.img,a,n+1,this.oPanelsImgData.oData.spriteWidth,this.oPanelsImgData.oData.spriteHeight-2,0,0+this.posY,this.oPanelsImgData.oData.spriteWidth,this.oPanelsImgData.oData.spriteHeight),r=oGameData.totalGems,s=0;s<r.toString().length;s++)a=(i=parseFloat(r.toString().charAt(s)))*this.oNumbersImgData.oData.spriteWidth%this.oNumbersImgData.img.width,n=Math.floor(i/(this.oNumbersImgData.img.width/this.oNumbersImgData.oData.spriteWidth))*this.oNumbersImgData.oData.spriteHeight,t.drawImage(this.oNumbersImgData.img,a,n,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight,54+s*this.numberSpace,11+this.posY,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight);for(r=oGameData.distance,s=0;s<r.toString().length;s++)a=(i=parseFloat(r.toString().charAt(s)))*this.oNumbersImgData.oData.spriteWidth%this.oNumbersImgData.img.width,n=Math.floor(i/(this.oNumbersImgData.img.width/this.oNumbersImgData.oData.spriteWidth))*this.oNumbersImgData.oData.spriteHeight,t.drawImage(this.oNumbersImgData.img,a,n,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight,300+s*this.numberSpace-this.numberSpace*r.toString().length/2,177+this.posY,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight);for(o=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.cm].x,u=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.cm].y,h=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.cm].width,l=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.cm].height,ctx.drawImage(this.oBranchElementsImgData.img,o,u,h,l,300+this.numberSpace*r.toString().length/2+5,177+this.posY,h,l),r=saveDataHandler.aLevelStore[1],s=0;s<r.toString().length;s++)a=(i=parseFloat(r.toString().charAt(s)))*this.oNumbersImgData.oData.spriteWidth%this.oNumbersImgData.img.width,n=Math.floor(i/(this.oNumbersImgData.img.width/this.oNumbersImgData.oData.spriteWidth))*this.oNumbersImgData.oData.spriteHeight,t.drawImage(this.oNumbersImgData.img,a,n,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight,300+s*(this.numberSpace/1.5)-this.numberSpace/1.5*r.toString().length/2,247+this.posY,this.oNumbersImgData.oData.spriteWidth/1.5,this.oNumbersImgData.oData.spriteHeight/1.5);for(o=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.cm].x,u=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.cm].y,h=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.cm].width,l=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.cm].height,ctx.drawImage(this.oBranchElementsImgData.img,o,u,h,l,300+this.numberSpace/1.5*r.toString().length/2+3,247+this.posY,h/1.5,l/1.5),r=oGameData.curGems,s=0;s<r.toString().length;s++)a=(i=parseFloat(r.toString().charAt(s)))*this.oNumbersImgData.oData.spriteWidth%this.oNumbersImgData.img.width,n=Math.floor(i/(this.oNumbersImgData.img.width/this.oNumbersImgData.oData.spriteWidth))*this.oNumbersImgData.oData.spriteHeight,t.drawImage(this.oNumbersImgData.img,a,n,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight,307+s*this.numberSpace-this.numberSpace*r.toString().length/2,348+this.posY,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight);for(r=oGameData.boostNum,s=0;s<r.toString().length;s++)a=(i=parseFloat(r.toString().charAt(s)))*this.oNumbersImgData.oData.spriteWidth%this.oNumbersImgData.img.width,n=Math.floor(i/(this.oNumbersImgData.img.width/this.oNumbersImgData.oData.spriteWidth))*this.oNumbersImgData.oData.spriteHeight,t.drawImage(this.oNumbersImgData.img,a,n,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight,307+s*this.numberSpace-this.numberSpace*r.toString().length/2,450+this.posY,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight);break;case"upgrade":for(a=(i=3)*this.oPanelsImgData.oData.spriteWidth%this.oPanelsImgData.img.width,n=Math.floor(i/(this.oPanelsImgData.img.width/this.oPanelsImgData.oData.spriteWidth))*this.oPanelsImgData.oData.spriteHeight,t.drawImage(this.oPanelsImgData.img,a,n+1,this.oPanelsImgData.oData.spriteWidth,this.oPanelsImgData.oData.spriteHeight-2,0,0+this.posY,this.oPanelsImgData.oData.spriteWidth,this.oPanelsImgData.oData.spriteHeight),r=oGameData.totalGems,s=0;s<r.toString().length;s++)a=(i=parseFloat(r.toString().charAt(s)))*this.oNumbersImgData.oData.spriteWidth%this.oNumbersImgData.img.width,n=Math.floor(i/(this.oNumbersImgData.img.width/this.oNumbersImgData.oData.spriteWidth))*this.oNumbersImgData.oData.spriteHeight,t.drawImage(this.oNumbersImgData.img,a,n,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight,54+s*this.numberSpace,11+this.posY,this.oNumbersImgData.oData.spriteWidth,this.oNumbersImgData.oData.spriteHeight);for(s=0;s<4;s++)o=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.upgradeBar].x,u=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.upgradeBar].y,h=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.upgradeBar].width,l=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.upgradeBar].height,ctx.drawImage(this.oBranchElementsImgData.img,o,u,h,l,65,203+110*s+this.posY,h*aPowerUpBarData[s]*(1/8),l);break;case"pause":t.fillStyle="rgba(0, 0, 0, 0.75)",t.fillRect(0,0,canvas.width,canvas.height)}e&&this.addButs(t)},t.prototype.addButs=function(t){var e,i,a,n,r,s,o;for(e=0;e<this.aButs.length;e++)i=this.posY,(a=0)==this.incY||this.aButs[e].noMove||(a=5*Math.sin(2*this.incY+e)),this.aButs[e].scale||(this.aButs[e].scale=1),n=this.aButs[e].oImgData.oData.oAtlasData[this.aButs[e].id].x,r=this.aButs[e].oImgData.oData.oAtlasData[this.aButs[e].id].y,s=this.aButs[e].oImgData.oData.oAtlasData[this.aButs[e].id].width,o=this.aButs[e].oImgData.oData.oAtlasData[this.aButs[e].id].height,this.aButs[e].tweenVert?t.drawImage(this.aButs[e].oImgData.img,n,r,s,o,this.aButs[e].aPos[0]-s/2-a/2,this.aButs[e].aPos[1]-o/2+a/2+i,s+a,o-a):t.drawImage(this.aButs[e].oImgData.img,n,r,s,o,this.aButs[e].aPos[0]-s/2+i-a/2,this.aButs[e].aPos[1]-o/2+a/2,s+a,o-a)},t}();t.Panel=e}(Elements||(Elements={})),function(t){var e=function(){function t(){this.bigNumberSpace=19,this.smallNumberSpace=13,this.barPerc=.1,this.chainBarFlipCount=0,this.flareRot=0,this.flareY=0,this.boostShadeY=canvas.height,this.tutState=0,this.tutCount=0,this.tutAnimFlip=!0,this.oHudImgData=assetLib.getData("hud"),this.oNumbersWhiteImgData=assetLib.getData("numbersWhite"),this.oNumbersOrangeImgData=assetLib.getData("numbersOrange"),this.oBranchElementsImgData=assetLib.getData("branchElements"),this.oBoostShadeImgData=assetLib.getData("boostShade"),this.oTopFlareImgData=assetLib.getData("topFlare"),firstRun&&this.tutAnimHoriz(this)}return t.prototype.tutAnimHoriz=function(t){t.tutAnimFlip=!t.tutAnimFlip,t.tutAnimFlip?(this.tutHandX=50,this.tutHandY=320,t.tutTween=TweenMax.to(t,.5,{tutHandX:canvas.width-100,ease:"Cubic.easeOut",delay:.5,onComplete:t.tutAnimHoriz,onCompleteParams:[t]})):(this.tutHandX=canvas.width-100,this.tutHandY=320,t.tutTween=TweenMax.to(t,.5,{tutHandX:100,ease:"Cubic.easeOut",delay:.5,onComplete:t.tutAnimHoriz,onCompleteParams:[t]}))},t.prototype.tutAnimVert=function(t){t.tutAnimFlip=!t.tutAnimFlip,t.tutAnimFlip?(this.tutHandX=325,this.tutHandY=300,t.tutTween=TweenMax.to(t,.5,{tutHandY:500,ease:"Cubic.easeOut",delay:.5,onComplete:t.tutAnimVert,onCompleteParams:[t]})):(this.tutHandX=325,this.tutHandY=500,t.tutTween=TweenMax.to(t,.5,{tutHandY:300,ease:"Cubic.easeOut",delay:.5,onComplete:t.tutAnimVert,onCompleteParams:[t]}))},t.prototype.collectGem=function(){this.chainBarFlipCount=1},t.prototype.render=function(t){var e,i,a,n,r,s,o,u,h,l;for(this.flareRot+=2*(background.targX-background.x)*delta/500,1<=branch.aBranches.length&&(this.flareY+=5*(-175*branch.aBranches[0].startHeightFactor-this.flareY)*delta),t.save(),t.translate(canvas.width/2,-100+this.flareY),t.rotate(this.flareRot),t.scale(2,2),t.drawImage(this.oTopFlareImgData.img,-this.oTopFlareImgData.img.width/2,-this.oTopFlareImgData.img.height/2),t.restore(),t.drawImage(this.oBoostShadeImgData.img,0,this.boostShadeY),t.drawImage(this.oHudImgData.img,0,0),e=0;e<oGameData.curGems.toString().length;e++)a=(i=parseFloat(oGameData.curGems.toString().charAt(e)))*this.oNumbersWhiteImgData.oData.spriteWidth%this.oNumbersWhiteImgData.img.width,n=Math.floor(i/(this.oNumbersWhiteImgData.img.width/this.oNumbersWhiteImgData.oData.spriteWidth))*this.oNumbersWhiteImgData.oData.spriteHeight,t.drawImage(this.oNumbersWhiteImgData.img,a,n,this.oNumbersWhiteImgData.oData.spriteWidth,this.oNumbersWhiteImgData.oData.spriteHeight,206+e*this.bigNumberSpace,10,this.oNumbersWhiteImgData.oData.spriteWidth,this.oNumbersWhiteImgData.oData.spriteHeight);for(e=0;e<oGameData.boostNum.toString().length;e++)a=(i=parseFloat(oGameData.boostNum.toString().charAt(e)))*this.oNumbersOrangeImgData.oData.spriteWidth%this.oNumbersOrangeImgData.img.width,n=Math.floor(i/(this.oNumbersOrangeImgData.img.width/this.oNumbersOrangeImgData.oData.spriteWidth))*this.oNumbersOrangeImgData.oData.spriteHeight,t.drawImage(this.oNumbersOrangeImgData.img,a,n,this.oNumbersOrangeImgData.oData.spriteWidth,this.oNumbersOrangeImgData.oData.spriteHeight,70+e*this.smallNumberSpace,52,this.oNumbersOrangeImgData.oData.spriteWidth,this.oNumbersOrangeImgData.oData.spriteHeight);r=.075+oGameData.curGemChain/(5+3*oGameData.boostNum),0<this.chainBarFlipCount&&(this.chainBarFlipCount-=2*delta),1<=r&&(this.barPerc=1,branch.scrollSpeed=Math.min(1500,branch.scrollSpeed+50+3*aPowerUpBarData[1]),oGameData.boostNum++,r=oGameData.curGemChain=0,this.boostShadeY=canvas.height,TweenMax.to(this,1,{boostShadeY:-canvas.height,ease:"Quint.easeIn"}),playSound("boost"),this.chainBarFlipCount=2),this.barPerc+=2*(r-this.barPerc)*delta,this.barPerc=Math.min(this.barPerc,1),s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["chainBar"+Math.ceil(Math.min(this.chainBarFlipCount,1))]].x,o=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["chainBar"+Math.ceil(Math.min(this.chainBarFlipCount,1))]].y,u=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["chainBar"+Math.ceil(Math.min(this.chainBarFlipCount,1))]].width,h=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["chainBar"+Math.ceil(Math.min(this.chainBarFlipCount,1))]].height,ctx.drawImage(this.oBranchElementsImgData.img,s,o,u*this.barPerc,h,13,28-h/2*(1+this.chainBarFlipCount),u*this.barPerc,h*(1+this.chainBarFlipCount)),s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.chainBarGem].x,o=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.chainBarGem].y,l=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.chainBarGem].width,h=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.chainBarGem].height,ctx.drawImage(this.oBranchElementsImgData.img,s,o,l,h,10+u*this.barPerc-h/2*(1+this.chainBarFlipCount),30-h/2*(1+this.chainBarFlipCount),l*(1+this.chainBarFlipCount),h*(1+this.chainBarFlipCount)),firstRun&&(this.tutCount+=delta,0==this.tutState&&4<this.tutCount&&1==hasHorizAction&&(this.tutState=1,this.tutCount=0,this.tutTween&&(this.tutTween.kill(),this.tutAnimVert(this))),1==this.tutState&&4<this.tutCount&&1==hasVertAction&&(firstRun=!1,this.tutTween&&this.tutTween.kill()),isMobile?(s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["tutMobile"+this.tutState]].x,o=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["tutMobile"+this.tutState]].y,u=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["tutMobile"+this.tutState]].width,h=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["tutMobile"+this.tutState]].height,ctx.drawImage(this.oBranchElementsImgData.img,s,o,u,h,canvas.width/2-u/2,70,u,h),s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.tutHand].x,o=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.tutHand].y,u=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.tutHand].width,h=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.tutHand].height,ctx.drawImage(this.oBranchElementsImgData.img,s,o,u,h,this.tutHandX-u/2,this.tutHandY-h/2,u,h)):(s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["tutDesktop"+this.tutState]].x,o=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["tutDesktop"+this.tutState]].y,u=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["tutDesktop"+this.tutState]].width,h=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["tutDesktop"+this.tutState]].height,ctx.drawImage(this.oBranchElementsImgData.img,s,o,u,h,canvas.width/2-u/2,80,u,h)))},t}();t.Hud=e}(Elements||(Elements={})),function(t){var e;e=function(){function t(){var t,e,i,a;for(this.perspScaleFactor=.876,this.skewOffset=3,this.entireScale=1.8,this.incY=0,this.scrollSpeed=400,this.skewMidFrame=15,this.segNum=30,this.scaletoSpeedRatio=523,this.sineInc=0,this.canChangeBehaviour=!0,this.canAddBranch=!0,this.horizontalBranchState=0,this.justTurned=!1,this.turnOffset=0,this.behaviourChangeInc=0,this.behaviourChangeTarg=3,this.curveChangeInc=0,this.curveChangeTarg=2,this.hillChangeInc=0,this.hillChangeTarg=2,this.curveType=0,this.hillType=0,this.heightFactorTarg=.25,this.curveTarg=15,this.gapState=0,this.gapInc=0,this.nextBlockType=0,this.coinInc=0,this.fixedSegHeight=42,this.segCount=0,this.lastGemCount=0,this.powerUpCount=30,this.oBranchImgData=assetLib.getData("branches"),this.oBranchElementsImgData=assetLib.getData("branchElements"),this.aBranches=new Array,1,e=t=0,i=this.skewMidFrame,a=0;a<this.segNum;a++)0==a?(t=canvas.width/2,e=canvas.height-this.oBranchImgData.oData.spriteHeight*this.entireScale,this.aBranches.push({powerUpState:squirrel.powerUpState,count:this.segCount++,coinOffset:2*Math.random()-1,blockType:0,gapState:this.gapState,startSkewFrame:i,skewFrame:i,curSkewOffset:0,xPos:t,yPos:e,scale:1,startHeightFactor:.25,heightFactor:.25})):this.addSegment(!1);TweenMax.to(this,.5,{scrollSpeed:800+25*aPowerUpBarData[0],ease:"Quad.easeIn"})}return t.prototype.addSegment=function(t,e,i){var a,n,r,s,o,u,h;void 0===t&&(t=!0),void 0===e&&(e=0),void 0===i&&(i=1),this.sineInc+=.1,a=this.aBranches[this.aBranches.length-1].skewFrame,this.aBranches[this.aBranches.length-1].startSkewFrame<60&&(a-=Math.round((this.aBranches[this.aBranches.length-1].startSkewFrame-this.curveTarg)/2)),n=this.aBranches[this.aBranches.length-1].startHeightFactor,n-=(this.aBranches[this.aBranches.length-1].startHeightFactor-this.heightFactorTarg)/2,r=(this.aBranches[this.aBranches.length-1].skewFrame-this.skewMidFrame)*this.skewOffset,s=this.aBranches[this.aBranches.length-1].xPos,this.aBranches[0].scale=1,this.aBranches[0].yPos=canvas.height-this.oBranchImgData.oData.spriteHeight*this.aBranches[0].heightFactor*this.entireScale,o=this.gapState,u=a,1==this.gapState&&(this.gapInc--,this.aBranches[this.aBranches.length-1].startSkewFrame<60?(u=60,o=0):u=60,this.gapInc<=0&&(u=61,o=this.gapState=0,this.canChangeBehaviour=!0,this.behaviourChangeTarg=2*Math.random()+.5)),this.lastGemCount++,(4<this.lastGemCount||"gems"==squirrel.powerUpState&&2<this.lastGemCount)&&0==this.nextBlockType&&0==this.gapInc&&t&&60!=u&&61!=u&&(1*Math.random()>.85-aPowerUpBarData[3]/40||"gems"==squirrel.powerUpState)&&(!firstRun&&--this.powerUpCount<0?(this.powerUpCount=30-2*aPowerUpBarData[2],this.lastGemCount=-10,this.nextBlockType=11+Math.floor(4*Math.random())):firstRun&&0!=hud.tutState||(this.lastGemCount=0,this.nextBlockType=6+Math.floor(5*Math.random()))),h=2*Math.random()-1,firstRun&&0==hud.tutState&&0==Math.round(h)&&(h=-1),this.aBranches.push({powerUpState:squirrel.powerUpState,count:this.segCount++,coinOffset:h,blockType:this.nextBlockType,gapState:o,startSkewFrame:u,skewFrame:a,curSkewOffset:r,xPos:s,yPos:0,scale:0,startHeightFactor:n,heightFactor:n}),this.nextBlockType=0},t.prototype.resetBranchBase=function(t,e){void 0===t&&(t=0),void 0===e&&(e=1),this.aBranches[0].scale=1,this.aBranches[0].yPos=canvas.height-this.oBranchImgData.oData.spriteHeight*this.aBranches[0].heightFactor*this.entireScale},t.prototype.addHorizontal=function(){this.canAddBranch=!1;var t=(this.aBranches[this.aBranches.length-1].skewFrame-this.skewMidFrame)*this.skewOffset,e=this.aBranches[this.aBranches.length-1].xPos,i=this.aBranches[this.aBranches.length-1].startHeightFactor;i-=(this.aBranches[this.aBranches.length-1].startHeightFactor-this.heightFactorTarg)/2,this.aBranches[0].scale=1,this.aBranches[0].yPos=canvas.height-this.oBranchImgData.oData.spriteHeight*this.aBranches[0].heightFactor*this.entireScale,this.aBranches.push({powerUpState:squirrel.powerUpState,count:this.segCount++,coinOffset:2*Math.random()-1,blockType:0,gapState:this.gapState,startSkewFrame:-1,skewFrame:-1,curSkewOffset:t,xPos:e,yPos:0,scale:0,startHeightFactor:i,heightFactor:i})},t.prototype.triggerTurn=function(t){var e,i,a,n,r;for(this.horizontalBranchState=0,this.canAddBranch=!0,this.canChangeBehaviour=!0,this.justTurned=!0,this.behaviourChangeTarg=2*Math.random(),playSound("makeTurn"),this.aBranches=new Array,1,i=e=0,a=this.skewMidFrame,this.heightFactorTarg=1.5*Math.random()-.5,n=Math.round(Math.random()*(this.segNum/2)+this.segNum/3),r=0;r<this.segNum;r++)if(0==r)e=canvas.width/2,i=canvas.height-this.oBranchImgData.oData.spriteHeight*this.entireScale,this.aBranches.push({powerUpState:squirrel.powerUpState,count:this.segCount++,coinOffset:2*Math.random()-1,blockType:0,gapState:this.gapState,startSkewFrame:a,skewFrame:a,curSkewOffset:0,xPos:e,yPos:i,scale:1,startHeightFactor:.75,heightFactor:.75});else{if(r==n&&(this.changeBehaviour(),0<this.horizontalBranchState)){this.addHorizontal();break}r<this.segNum/4?this.addSegment(!1):this.addSegment()}"right"==t?(this.turnOffset=1,this.turnTween=TweenMax.to(this,.4,{turnOffset:0,ease:"Cubic.easeOut"}),background.targX+=1500):(this.turnOffset=-1,this.turnTween=TweenMax.to(this,.4,{turnOffset:0,ease:"Cubic.easeOut"}),background.targX-=1500)},t.prototype.changeBehaviour=function(){var t=Math.floor(9*Math.random());switch(firstRun&&1==hud.tutState&&(t=7),this.lastGemCount=0,t){case 0:this.horizontalBranchState=1,this.canChangeBehaviour=!1;break;case 1:this.horizontalBranchState=2,this.canChangeBehaviour=!1;break;case 2:this.horizontalBranchState=3,this.canChangeBehaviour=!1;break;case 3:this.gapState=1,this.gapInc=Math.floor(5*Math.random())+3,this.curveTarg=this.skewMidFrame,this.canChangeBehaviour=!1;break;case 4:this.nextBlockType=1;break;case 5:this.nextBlockType=2;break;case 6:this.nextBlockType=3;break;case 7:this.nextBlockType=4;break;case 8:this.nextBlockType=5}},t.prototype.changeCurve=function(){this.curveTarg=Math.floor(30*Math.random())},t.prototype.changeHill=function(){this.heightFactorTarg=firstRun?.75*Math.random()-.5:1.5*Math.random()-.5},t.prototype.update=function(){if(!this.canChangeBehaviour||firstRun&&1!=hud.tutState||(this.behaviourChangeInc+=delta,this.behaviourChangeInc>this.behaviourChangeTarg&&5<this.lastGemCount&&(this.behaviourChangeInc=0,this.behaviourChangeTarg=1*Math.random()+.7,this.changeBehaviour())),oGameData.distance=Math.round(oGameData.distance+this.scrollSpeed/10*delta),this.curveChangeInc+=delta,this.curveChangeInc>this.curveChangeTarg&&(this.curveChangeInc=0,this.curveChangeTarg=3*Math.random()+1,this.changeCurve()),this.hillChangeInc+=delta,this.hillChangeInc>this.hillChangeTarg&&(this.hillChangeInc=0,this.hillChangeTarg=3*Math.random()+1,this.changeHill()),this.centreLine=75*(squirrel.leftSteer+squirrel.rightSteer)+canvas.width/2,0<this.horizontalBranchState&&2==this.aBranches.length?(1==this.horizontalBranchState||3==this.horizontalBranchState)&&squirrel.leftSteer+squirrel.rightSteer<0?this.triggerTurn("right"):(2==this.horizontalBranchState||3==this.horizontalBranchState)&&0<squirrel.leftSteer+squirrel.rightSteer&&this.triggerTurn("left"):0<this.horizontalBranchState&&this.aBranches.length<=0&&(squirrel.overGap=!0),0<this.aBranches.length&&this.aBranches[0].yPos>canvas.height){var t=this.aBranches[0].yPos-canvas.height,e=this.aBranches[0].scale*this.perspScaleFactor;this.aBranches.splice(0,1),this.canAddBranch?0<this.horizontalBranchState?this.addHorizontal():this.addSegment(!0,t,e):0<this.aBranches.length&&this.resetBranchBase(t,e)}},t.prototype.render=function(){var t,e,i,a,n,r,s,o,u,h,l;for(e=0;e<this.aBranches.length;e++)-1<this.aBranches[e].skewFrame?0==e?(this.aBranches[e].scale+=this.scrollSpeed/this.scaletoSpeedRatio*delta,this.aBranches[e].virtualXPos=this.centreLine,this.aBranches[e].xPos+=(this.aBranches[e].virtualXPos-this.aBranches[e].xPos)*((this.aBranches.length-e)/25+.5)*delta,this.aBranches[e].yPos+=this.scrollSpeed*this.aBranches[e].heightFactor*delta):(e<this.skewMidFrame&&(this.aBranches[e].skewFrame<this.skewMidFrame-e?this.aBranches[e].skewFrame+=1:this.aBranches[e].skewFrame>this.skewMidFrame+e&&(this.aBranches[e].skewFrame-=1),this.aBranches[e].curSkewOffset=this.aBranches[e-1].startSkewFrame<60?(this.aBranches[e-1].skewFrame-this.skewMidFrame)*this.skewOffset:0),this.aBranches[e].scale=this.aBranches[e-1].scale*this.perspScaleFactor,this.aBranches[e].heightFactor=this.aBranches[e].startHeightFactor+this.aBranches[e].scale*(1.5-this.aBranches[e].startHeightFactor),this.aBranches[e].virtualXPos=this.aBranches[e-1].virtualXPos+this.aBranches[e].curSkewOffset*this.aBranches[e-1].scale,this.aBranches[e].xPos+=(this.aBranches[e].virtualXPos-this.aBranches[e].xPos)*((this.aBranches.length-e)/15+.5)*delta,this.aBranches[e].yPos=this.aBranches[e-1].yPos-(this.oBranchImgData.oData.spriteHeight-1)*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale):(a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["horiz"+this.horizontalBranchState]].x,n=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["horiz"+this.horizontalBranchState]].y,r=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["horiz"+this.horizontalBranchState]].width,s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["horiz"+this.horizontalBranchState]].height,0==e?(this.aBranches[e].scale+=this.scrollSpeed/this.scaletoSpeedRatio*delta,this.aBranches[e].virtualXPos=this.centreLine,this.aBranches[e].xPos+=(this.aBranches[e].virtualXPos-this.aBranches[e].xPos)*((this.aBranches.length-e)/25+.5)*delta,this.aBranches[e].yPos+=this.scrollSpeed*delta):(e<this.skewMidFrame&&(this.aBranches[e].curSkewOffset=(this.aBranches[e-1].skewFrame-this.skewMidFrame)*this.skewOffset),this.aBranches[e].scale=this.aBranches[e-1].scale*this.perspScaleFactor,this.aBranches[e].heightFactor=Math.max(this.aBranches[e].startHeightFactor+this.aBranches[e].scale*(1.5-this.aBranches[e].startHeightFactor),.5),this.aBranches[e].virtualXPos=this.aBranches[e-1].virtualXPos+this.aBranches[e].curSkewOffset*this.aBranches[e-1].scale,this.aBranches[e].xPos+=(this.aBranches[e].virtualXPos-this.aBranches[e].xPos)*((this.aBranches.length-e)/25+.5)*delta,this.aBranches[e].yPos=this.aBranches[e-1].yPos-(s-.5)*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale));for(e=this.aBranches.length-1;0<=e;e--)-1<this.aBranches[e].skewFrame?0==e?(t=this.aBranches[e].skewFrame,29<this.aBranches[e].startSkewFrame?t=this.aBranches[e].startSkewFrame:0==Math.floor(this.aBranches[e].count/2)%2&&(t+=30),o=t*this.oBranchImgData.oData.spriteWidth%this.oBranchImgData.img.width,u=Math.floor(t/(this.oBranchImgData.img.width/this.oBranchImgData.oData.spriteWidth))*this.oBranchImgData.oData.spriteHeight,0==this.aBranches[e].gapState&&ctx.drawImage(this.oBranchImgData.img,o,u,this.oBranchImgData.oData.spriteWidth,this.oBranchImgData.oData.spriteHeight,this.aBranches[e].xPos-this.oBranchImgData.oData.spriteWidth/2*this.aBranches[e].scale*this.entireScale,this.aBranches[e].yPos,this.oBranchImgData.oData.spriteWidth*this.aBranches[e].scale*this.entireScale,this.oBranchImgData.oData.spriteHeight*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale)):(t=this.aBranches[e].skewFrame,29<this.aBranches[e].startSkewFrame?t=this.aBranches[e].startSkewFrame:0!=this.aBranches[e].count%2&&(t+=30),o=t*this.oBranchImgData.oData.spriteWidth%this.oBranchImgData.img.width,u=Math.floor(t/(this.oBranchImgData.img.width/this.oBranchImgData.oData.spriteWidth))*this.oBranchImgData.oData.spriteHeight,0==this.aBranches[e].gapState&&ctx.drawImage(this.oBranchImgData.img,o,u,this.oBranchImgData.oData.spriteWidth,this.oBranchImgData.oData.spriteHeight,this.aBranches[e].xPos-this.oBranchImgData.oData.spriteWidth/2*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,this.aBranches[e].yPos,this.oBranchImgData.oData.spriteWidth*this.aBranches[e].scale*this.entireScale,Math.max(this.oBranchImgData.oData.spriteHeight*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale,1))):(a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["horiz"+this.horizontalBranchState]].x,n=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["horiz"+this.horizontalBranchState]].y,r=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["horiz"+this.horizontalBranchState]].width,s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["horiz"+this.horizontalBranchState]].height,0==e?(i=r/2,1==this.horizontalBranchState?i=this.oBranchImgData.oData.spriteWidth/2:2==this.horizontalBranchState&&(i=r-this.oBranchImgData.oData.spriteWidth/2),ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,this.aBranches[e].xPos-i*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,this.aBranches[e].yPos,r*this.aBranches[e].scale*this.entireScale,s*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale)):(i=r/2,1==this.horizontalBranchState?i=this.oBranchImgData.oData.spriteWidth/2:2==this.horizontalBranchState&&(i=r-this.oBranchImgData.oData.spriteWidth/2),ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,this.aBranches[e].xPos-i*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,this.aBranches[e].yPos,r*this.aBranches[e].scale*this.entireScale,s*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale),a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.straightHoriz].x,n=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.straightHoriz].y,r=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.straightHoriz].width,s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.straightHoriz].height,1==this.horizontalBranchState?(h=this.aBranches[e].xPos+(this.oBranchElementsImgData.oData.oAtlasData[oImageIds.horiz1].width-this.oBranchImgData.oData.spriteWidth/2)*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,h,this.aBranches[e].yPos,Math.max(canvas.width-h,r),Math.max(s*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale,1)),a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignRight].x,n=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignRight].y,r=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignRight].width,s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignRight].height,ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,this.aBranches[e].xPos+20*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,this.aBranches[e].yPos-(s*this.aBranches[e].scale-this.oBranchImgData.oData.spriteHeight/2*this.aBranches[e].scale*this.aBranches[e].heightFactor)*this.entireScale,r*this.aBranches[e].scale*this.entireScale,s*this.aBranches[e].scale*this.entireScale)):2==this.horizontalBranchState?(h=this.aBranches[e].xPos-(this.oBranchElementsImgData.oData.oAtlasData[oImageIds.horiz2].width-this.oBranchImgData.oData.spriteWidth/2)*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,h-Math.max(h,r),this.aBranches[e].yPos,Math.max(h,r),s*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale),a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignLeft].x,n=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignLeft].y,r=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignLeft].width,s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignLeft].height,ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,this.aBranches[e].xPos+(-20-r)*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,this.aBranches[e].yPos-(s*this.aBranches[e].scale-this.oBranchImgData.oData.spriteHeight/2*this.aBranches[e].scale*this.aBranches[e].heightFactor)*this.entireScale,r*this.aBranches[e].scale*this.entireScale,s*this.aBranches[e].scale*this.entireScale)):(h=this.aBranches[e].xPos+this.oBranchElementsImgData.oData.oAtlasData[oImageIds.horiz3].width/2*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,h,this.aBranches[e].yPos,Math.max(canvas.width-h,r),s*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale),h=this.aBranches[e].xPos-this.oBranchElementsImgData.oData.oAtlasData[oImageIds.horiz3].width/2*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,h-Math.max(h,r),this.aBranches[e].yPos,Math.max(h,r),s*this.aBranches[e].scale*this.aBranches[e].heightFactor*this.entireScale),a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignT].x,n=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignT].y,r=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignT].width,s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.turnSignT].height,ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,this.aBranches[e].xPos-r/2*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,this.aBranches[e].yPos-(s*this.aBranches[e].scale-this.oBranchImgData.oData.spriteHeight/2*this.aBranches[e].scale*this.aBranches[e].heightFactor)*this.entireScale,r*this.aBranches[e].scale*this.entireScale,s*this.aBranches[e].scale*this.entireScale))));for(e=this.aBranches.length-1;0<=e;e--){if((0==e||1==e)&&2<this.aBranches.length&&(squirrel.overGap=1==this.aBranches[e].gapState),0==e&&0<this.aBranches[e].blockType&&"invincible"!=squirrel.powerUpState)switch(this.aBranches[e].blockType){case 1:(squirrel.checkHit(-1)||squirrel.checkHit(0))&&"blocked"!=squirrel.actionState&&endGameEvent("block");break;case 2:(squirrel.checkHit(1)||squirrel.checkHit(0))&&"blocked"!=squirrel.actionState&&endGameEvent("block");break;case 3:"ducking"!=squirrel.actionState&&"blocked"!=squirrel.actionState&&endGameEvent("block");break;case 4:"jumping"!=squirrel.actionState&&"falling"!=squirrel.actionState&&"blocked"!=squirrel.actionState&&endGameEvent("block");break;case 5:squirrel.checkHit(0)&&"blocked"!=squirrel.actionState&&endGameEvent("block")}e<2&&6<=this.aBranches[e].blockType&&("magnet"==this.aBranches[e].powerUpState||squirrel.checkHit(Math.round(this.aBranches[e].coinOffset)))&&(this.aBranches[e].blockType<11?gemEvent(1):powerUpEvent(this.aBranches[e].blockType-11),addParticle("collectGem",this.aBranches[e].xPos-75*Math.round(this.aBranches[e].coinOffset)*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,550),this.aBranches[e].blockType=0),0<this.aBranches[e].blockType&&(a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["block"+this.aBranches[e].blockType]].x,n=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["block"+this.aBranches[e].blockType]].y,r=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["block"+this.aBranches[e].blockType]].width,s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["block"+this.aBranches[e].blockType]].height,l=0,6<=this.aBranches[e].blockType&&("magnet"!=this.aBranches[e].powerUpState?l=75*Math.round(this.aBranches[e].coinOffset):(l+=75*Math.round(this.aBranches[e].coinOffset)*(e/this.segNum),l=-(squirrel.x-branch.aBranches[e].xPos)*(1-e/this.segNum))),ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,this.aBranches[e].xPos-(r/2+l)*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,this.aBranches[e].yPos-(s*this.aBranches[e].scale-this.oBranchImgData.oData.spriteHeight/2*this.aBranches[e].scale*this.aBranches[e].heightFactor)*this.entireScale,r*this.aBranches[e].scale*this.entireScale,s*this.aBranches[e].scale*this.entireScale)),(0==this.aBranches[e].blockType||5<=this.aBranches[e].blockType)&&-1<this.aBranches[e].skewFrame&&0==this.aBranches[e].gapState&&this.aBranches[e].startSkewFrame<=29&&(a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["plant"+this.aBranches[e].count%4]].x,n=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["plant"+this.aBranches[e].count%4]].y,r=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["plant"+this.aBranches[e].count%4]].width,s=this.oBranchElementsImgData.oData.oAtlasData[oImageIds["plant"+this.aBranches[e].count%4]].height,ctx.drawImage(this.oBranchElementsImgData.img,a,n,r,s,this.aBranches[e].xPos-r/2*this.aBranches[e].scale*this.entireScale+25*this.turnOffset*e,this.aBranches[e].yPos-(s*this.aBranches[e].scale-this.oBranchImgData.oData.spriteHeight/2*this.aBranches[e].scale*this.aBranches[e].heightFactor)*this.entireScale,r*this.aBranches[e].scale*this.entireScale,s*this.aBranches[e].scale*this.entireScale)),1==e&&"blocked"!=squirrel.actionState&&(squirrel.update(),squirrel.render())}(this.aBranches.length<=1||"blocked"==squirrel.actionState)&&(squirrel.update(),squirrel.render())},t}(),t.Branch=e}(Elements||(Elements={})),__extends=this.__extends||function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i},function(t){var e;e=function(n){function t(){n.call(this,assetLib.getData("squirrel"),25,30,"falling"),this.incY=0,this.groundY=550,this.leftSteer=0,this.rightSteer=0,this.allowRight=!0,this.allowLeft=!0,this.actionState="running",this.overGap=!1,this.rotInc=0,this.blockX=0,this.powerUpState=null,this.powerUpTimer=0,this.flickerInc=0,this.flickerState=!1,this.oBranchElementsImgData=assetLib.getData("branchElements"),this.x=canvas.width/2,this.y=this.groundY-200}return __extends(t,n),t.prototype.jump=function(){0==this.incY&&(this.incY=-15,playSound("jump"),this.setAnimType("once","jumping"),this.animEndedFunc=function(){this.setAnimType("loop","falling")},this.actionState="jumping")},t.prototype.turn=function(t){"left"==t&&this.allowLeft?(this.leftSteer=1,this.rightSteer=0,"running"==this.actionState&&(addParticle("dust",this.x,625),playSound("sideStep")),this.allowLeft=!1,this.turnTween&&this.turnTween.kill(),this.turnTween=TweenMax.to(this,.66-branch.scrollSpeed/5e3,{rightSteer:0,leftSteer:0,ease:"Cubic.easeOut",delay:.46-branch.scrollSpeed/5e3})):"right"==t&&this.allowRight&&(this.leftSteer=0,this.rightSteer=-1,"running"==this.actionState&&(addParticle("dust",this.x,625),playSound("sideStep")),this.allowRight=!1,this.turnTween&&this.turnTween.kill(),this.turnTween=TweenMax.to(this,.66-branch.scrollSpeed/5e3,{rightSteer:0,leftSteer:0,ease:"Cubic.easeOut",delay:.42-branch.scrollSpeed/7e3}))},t.prototype.duck=function(){0==this.incY&&"ducking"!=this.animId&&(this.setAnimType("once","ducking"),playSound("duck"),this.animEndedFunc=function(){this.actionState="running",this.setAnimType("loop","running")},this.actionState="ducking")},t.prototype.checkHit=function(t){return t==this.leftSteer+this.rightSteer||3<=branch.aBranches.length&&t==Math.round((branch.aBranches[2].xPos-this.x)/120)},t.prototype.fallOff=function(){this.actionState="falling",this.setAnimType("loop","falling"),this.incY=Math.max(this.incY,20)},t.prototype.hitBlock=function(){this.actionState="blocked",this.setAnimType("loop","blocked")},t.prototype.update=function(){n.prototype.updateAnimation.call(this,delta),null!=this.powerUpState&&(this.powerUpTimer-=delta,this.powerUpTimer<0&&(playSound("powerUpEnd"),this.powerUpState=null)),this.fps=branch.scrollSpeed/32,this.y+=this.incY,"blocked"!=this.actionState?(3<branch.aBranches.length&&(this.x+=5*(branch.aBranches[2].xPos-120*(this.leftSteer+this.rightSteer)-this.x)*delta),this.rotation=-(this.leftSteer+this.rightSteer)/8):this.rotation=0,this.y>=this.groundY&&"falling"!=this.actionState&&"blocked"!=this.actionState?(this.incY=0,this.y=this.groundY,("jumping"==this.animId||"falling"==this.animId)&&(this.setAnimType("loop","running"),this.actionState="running",addParticle("dust",this.x,625))):this.incY+=(20+branch.scrollSpeed/40)*delta,this.y==this.groundY&&this.overGap&&"falling"!=this.actionState&&endGameEvent("fall")},t.prototype.render=function(){if("blocked"!=this.actionState&&"falling"!=this.actionState&&branch.aBranches[2]&&1!=branch.aBranches[0].gapState&&1!=branch.aBranches[1].gapState&&1!=branch.aBranches[2].gapState){var t=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.heroShadow].x,e=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.heroShadow].y,i=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.heroShadow].width,a=this.oBranchElementsImgData.oData.oAtlasData[oImageIds.heroShadow].height;ctx.drawImage(this.oBranchElementsImgData.img,t,e,i,a,this.x-i/2,605,i,a)}this.scaleX<4&&("invincible"==this.powerUpState?(this.flickerInc-=delta,this.flickerInc<0&&(this.flickerState=!this.flickerState,this.flickerInc=.1),this.alpha=this.flickerState?2<squirrel.powerUpTimer?.6:1:.3):this.alpha=1,n.prototype.render.call(this,ctx))},t}(Utils.AnimSprite),t.Squirrel=e}(Elements||(Elements={})),function(t){var e=function(){function t(){this.startX=null,this.startY=null,this.isTracking=!1,this.lastDir=null,this.curX=null,this.curY=null,this.resetInc=0}return t.prototype.reset=function(){this.lastDir=null,this.resetInc=0},t.prototype.keyTrack=function(t){this.lastDir=t},t.prototype.getDir=function(){return this.isTracking&&this.stopTrack(this.curX,this.curY,!0),this.lastDir},t.prototype.track=function(t,e){this.curX=t,this.curY=e,null==this.startX&&(this.startX=t,this.startY=e),this.isTracking=!0},t.prototype.stopTrack=function(t,e,i){var a,n,r,s;return void 0===i&&(i=!1),!i&&((a=this.startY-e)*a+(n=this.startX-t)*n<200||null==this.startX)?(this.isTracking=!1,void(this.startX=this.startY=null)):(45<(s=Math.atan2(this.startY-e,this.startX-t)/radian)&&s<135?(r=0,squirrel.jump(),firstRun&&1==hud.tutState&&(hasVertAction=!0)):135<s||s<-135?(r=1,squirrel.allowRight=!0,squirrel.turn("right"),firstRun&&0==hud.tutState&&(hasHorizAction=!0)):-135<s&&s<-45?(r=2,squirrel.duck(),firstRun&&1==hud.tutState&&(hasVertAction=!0)):(r=3,squirrel.allowLeft=!0,squirrel.turn("left"),firstRun&&0==hud.tutState&&(hasHorizAction=!0)),this.isTracking=!1,this.startX=this.startY=null,void(this.lastDir=r))},t}();t.SwipeDetect=e}(Utils||(Utils={})),function(t){var e=function(){function t(t){this.dataGroupNum=2,this.saveDataId=t,this.clearData(),this.setInitialData()}return t.prototype.clearData=function(){this.aLevelStore=new Array,this.aLevelStore.push(0),this.aLevelStore.push(0),this.aLevelStore.push(0),this.aLevelStore.push(0),this.aLevelStore.push(0),this.aLevelStore.push(0)},t.prototype.resetData=function(){this.aLevelStore=new Array,this.aLevelStore.push(0),this.aLevelStore.push(0),this.aLevelStore.push(0),this.aLevelStore.push(0),this.aLevelStore.push(0),this.aLevelStore.push(0),this.saveData()},t.prototype.setInitialData=function(){if("undefined"!=typeof Storage)if(null!=localStorage.getItem(this.saveDataId)&&""!=localStorage.getItem(this.saveDataId))for(var t in this.aLevelStore=localStorage.getItem(this.saveDataId).split(","),this.aLevelStore)this.aLevelStore[t]=parseInt(this.aLevelStore[t]);else this.resetData()},t.prototype.setData=function(t,e){var i,a;for(i=0;i<e.length;i++)if(0==this.aLevelStore.length||this.aLevelStore.length<=t*this.dataGroupNum+i){for(a=0;a<t*this.dataGroupNum+i-this.aLevelStore.length-1;a++)this.aLevelStore.push(0);this.aLevelStore.push(e[i])}else this.aLevelStore[t*this.dataGroupNum+i]=e[i]},t.prototype.getData=function(t,e){return this.aLevelStore[t*this.dataGroupNum+e]},t.prototype.saveData=function(){var t,e;if("undefined"!=typeof Storage){for(t="",e=0;e<this.aLevelStore.length;e++)t+=this.aLevelStore[e],e<this.aLevelStore.length-1&&(t+=",");localStorage.setItem(this.saveDataId,t)}},t}();t.SaveDataHandler=e}(Utils||(Utils={})),function(t){var e=function(a){function t(t,e,i){a.call(this,assetLib.getData(t),23,30,"explode"),this.x=e,this.y=i,this.setAnimType("once","explode"),"collectGem"==t?TweenMax.to(this,.5,{y:this.y-50,scaleX:3,scaleY:3,ease:"Quad.easeOut"}):"dust"==t&&TweenMax.to(this,.5,{y:this.y+100,ease:"Quad.easeIn"}),this.animEndedFunc=function(){this.removeMe=!0}}return __extends(t,a),t.prototype.update=function(){a.prototype.updateAnimation.call(this,delta)},t.prototype.render=function(){a.prototype.renderSimple.call(this,ctx)},t}(Utils.AnimSprite);t.Particle=e}(Elements||(Elements={})),requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60,(new Date).getTime())},canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),canvas.width=450,canvas.height=700,div=document.getElementById("viewporter"),splashTimer=audioType=0,isMobile=manualPause=rotatePause=muted=!1,gameState="loading",aLangs=new Array("EN"),curLang="",isIE10=isBugBrowser=!1,navigator.userAgent.match(/MSIE\s([\d]+)/)&&(isIE10=!0),((deviceAgent=navigator.userAgent.toLowerCase()).match(/(iphone|ipod|ipad)/)||deviceAgent.match(/(android)/)||deviceAgent.match(/(iemobile)/)||deviceAgent.match(/iphone/i)||deviceAgent.match(/ipad/i)||deviceAgent.match(/ipod/i)||deviceAgent.match(/blackberry/i)||deviceAgent.match(/bada/i))&&(isMobile=!0,deviceAgent.match(/(android)/)&&!/Chrome/.test(navigator.userAgent)&&(isBugBrowser=!0)),userInput=new Utils.UserInput(canvas,isBugBrowser),resizeCanvas(),window.onresize=function(){setTimeout(function(){resizeCanvas()},1)},window.addEventListener("load",function(){setTimeout(function(){resizeCanvas()},0),window.addEventListener("orientationchange",function(){setTimeout(function(){resizeCanvas()},500)},!1)}),void 0===window.AudioContext&&void 0===window.webkitAudioContext&&-1!=navigator.userAgent.indexOf("Android")?audioType=0:(audioType=1,sound=new Howl({src:["audio/sound.ogg","audio/sound.mp3"],html5:!1,sprite:{hitBlock:[0,750],gem0:[0,750],gem1:[0,750],gem2:[0,750],gem3:[0,750],click:[0,750],collectPowerUp:[0,750],fall:[0,750],boost:[0,750],startGame:[0,750],jump:[0,750],makeTurn:[0,750],sideStep:[0,750],duck:[0,750],powerUpEnd:[0,750]}}),music=new Howl({src:["audio/music.ogg","audio/music.mp3"],volume:.01,loop:!0})),levelNum=levelScore=totalScore=0,oLogoData={},oImageIds={},swipeState=1,radian=Math.PI/180,oGameData={distance:0,curGemChain:0,curGems:0,boostNum:0,totalGems:0},aPowerUpBarData=new Array(0,0,0,0),aPowerUpButsData=new Array(20,20,50,50,80,80,120,120,175,175),saveDataHandler=new Utils.SaveDataHandler("hopdontstop1"),firstRun=!0,hasVertAction=hasHorizAction=1,Howler.mobileAutoEnable=!0,loadPreAssets(),function(t){t.Bmob=t.Bmob||{},t.Bmob.VERSION="js0.0.1"}(this),function(){var t=this,e=t._,s={},n=Array.prototype,i=Object.prototype,a=Function.prototype,r=n.push,o=n.slice,u=n.concat,c=i.toString,h=i.hasOwnProperty,l=n.forEach,d=n.map,p=n.reduce,f=n.reduceRight,m=n.filter,g=n.every,_=n.some,v=n.indexOf,y=n.lastIndexOf,b=Array.isArray,w=Object.keys,x=a.bind,D=function(t){return t instanceof D?t:this instanceof D?void(this._wrapped=t):new D(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=D),exports._=D):t._=D,D.VERSION="1.4.4";var I=D.each=D.forEach=function(t,e,i){if(null!=t)if(l&&t.forEach===l)t.forEach(e,i);else if(t.length===+t.length){for(var a=0,n=t.length;a<n;a++)if(e.call(i,t[a],a,t)===s)return}else for(var r in t)if(D.has(t,r)&&e.call(i,t[r],r,t)===s)return};D.map=D.collect=function(t,a,n){var r=[];return null==t?r:d&&t.map===d?t.map(a,n):(I(t,function(t,e,i){r[r.length]=a.call(n,t,e,i)}),r)};var S="Reduce of empty array with no initial value";D.reduce=D.foldl=D.inject=function(t,a,n,r){var s=2<arguments.length;if(null==t&&(t=[]),p&&t.reduce===p)return r&&(a=D.bind(a,r)),s?t.reduce(a,n):t.reduce(a);if(I(t,function(t,e,i){s?n=a.call(r,n,t,e,i):(n=t,s=!0)}),!s)throw new TypeError(S);return n},D.reduceRight=D.foldr=function(a,n,r,s){var o=2<arguments.length;if(null==a&&(a=[]),f&&a.reduceRight===f)return s&&(n=D.bind(n,s)),o?a.reduceRight(n,r):a.reduceRight(n);var u=a.length;if(u!==+u){var h=D.keys(a);u=h.length}if(I(a,function(t,e,i){e=h?h[--u]:--u,o?r=n.call(s,r,a[e],e,i):(r=a[e],o=!0)}),!o)throw new TypeError(S);return r},D.find=D.detect=function(t,a,n){var r;return T(t,function(t,e,i){if(a.call(n,t,e,i))return r=t,!0}),r},D.filter=D.select=function(t,a,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(a,n):(I(t,function(t,e,i){a.call(n,t,e,i)&&(r[r.length]=t)}),r)},D.reject=function(t,a,n){return D.filter(t,function(t,e,i){return!a.call(n,t,e,i)},n)},D.every=D.all=function(t,a,n){a||(a=D.identity);var r=!0;return null==t?r:g&&t.every===g?t.every(a,n):(I(t,function(t,e,i){if(!(r=r&&a.call(n,t,e,i)))return s}),!!r)};var T=D.some=D.any=function(t,a,n){a||(a=D.identity);var r=!1;return null==t?r:_&&t.some===_?t.some(a,n):(I(t,function(t,e,i){if(r||(r=a.call(n,t,e,i)))return s}),!!r)};D.contains=D.include=function(t,e){return null!=t&&(v&&t.indexOf===v?-1!=t.indexOf(e):T(t,function(t){return t===e}))},D.invoke=function(t,e){var i=o.call(arguments,2),a=D.isFunction(e);return D.map(t,function(t){return(a?e:t[e]).apply(t,i)})},D.pluck=function(t,e){return D.map(t,function(t){return t[e]})},D.where=function(t,i,e){return D.isEmpty(i)?e?null:[]:D[e?"find":"filter"](t,function(t){for(var e in i)if(i[e]!==t[e])return!1;return!0})},D.findWhere=function(t,e){return D.where(t,e,!0)},D.max=function(t,n,r){if(!n&&D.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!n&&D.isEmpty(t))return-1/0;var s={computed:-1/0,value:-1/0};return I(t,function(t,e,i){var a=n?n.call(r,t,e,i):t;a>=s.computed&&(s={value:t,computed:a})}),s.value},D.min=function(t,n,r){if(!n&&D.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!n&&D.isEmpty(t))return 1/0;var s={computed:1/0,value:1/0};return I(t,function(t,e,i){var a=n?n.call(r,t,e,i):t;a<s.computed&&(s={value:t,computed:a})}),s.value},D.shuffle=function(t){var e,i=0,a=[];return I(t,function(t){_request,e=D.random(i++),a[i-1]=a[e],a[e]=t}),a};var A=function(e){return D.isFunction(e)?e:function(t){return t[e]}};D.sortBy=function(t,e,a){var n=A(e);return D.pluck(D.map(t,function(t,e,i){return{value:t,index:e,criteria:n.call(a,t,e,i)}}).sort(function(t,e){var i=t.criteria,a=e.criteria;if(i!==a){if(a<i||void 0===i)return 1;if(i<a||void 0===a)return-1}return t.index<e.index?-1:1}),"value")};var k=function(a,t,n,r){var s={},o=A(t||D.identity);return I(a,function(t,e){var i=o.call(n,t,e,a);r(s,i,t)}),s};D.groupBy=function(t,e,i){return k(t,e,i,function(t,e,i){(D.has(t,e)?t[e]:t[e]=[]).push(i)})},D.countBy=function(t,e,i){return k(t,e,i,function(t,e){D.has(t,e)||(t[e]=0),t[e]++})},D.sortedIndex=function(t,e,i,a){for(var n=(i=null==i?D.identity:A(i)).call(a,e),r=0,s=t.length;r<s;){var o=r+s>>>1;i.call(a,t[o])<n?r=o+1:s=o}return r},D.toArray=function(t){return t?D.isArray(t)?o.call(t):t.length===+t.length?D.map(t,D.identity):D.values(t):[]},D.size=function(t){return null==t?0:t.length===+t.length?t.length:D.keys(t).length},D.first=D.head=D.take=function(t,e,i){if(null!=t)return null==e||i?t[0]:o.call(t,0,e)},D.initial=function(t,e,i){return o.call(t,0,t.length-(null==e||i?1:e))},D.last=function(t,e,i){if(null!=t)return null==e||i?t[t.length-1]:o.call(t,Math.max(t.length-e,0))},D.rest=D.tail=D.drop=function(t,e,i){return o.call(t,null==e||i?1:e)},D.compact=function(t){return D.filter(t,D.identity)};var B=function(t,e,i){return I(t,function(t){D.isArray(t)?e?r.apply(i,t):B(t,e,i):i.push(t)}),i};D.flatten=function(t,e){return B(t,e,[])},D.without=function(t){return D.difference(t,o.call(arguments,1))},D.uniq=D.unique=function(i,a,t,e){D.isFunction(a)&&(e=t,t=a,a=!1);var n=t?D.map(i,t,e):i,r=[],s=[];return I(n,function(t,e){(a?e&&s[s.length-1]===t:D.contains(s,t))||(s.push(t),r.push(i[e]))}),r},D.union=function(){return D.uniq(u.apply(n,arguments))},D.intersection=function(t){var i=o.call(arguments,1);return D.filter(D.uniq(t),function(e){return D.every(i,function(t){return 0<=D.indexOf(t,e)})})},D.difference=function(t){var e=u.apply(n,o.call(arguments,1));return D.filter(t,function(t){return!D.contains(e,t)})},D.zip=function(){for(var t=o.call(arguments),e=D.max(D.pluck(t,"length")),i=new Array(e),a=0;a<e;a++)i[a]=D.pluck(t,""+a);return i},D.object=function(t,e){if(null==t)return{};for(var i={},a=0,n=t.length;a<n;a++)e?i[t[a]]=e[a]:i[t[a][0]]=t[a][1];return i},D.indexOf=function(t,e,i){if(null==t)return-1;var a=0,n=t.length;if(i){if("number"!=typeof i)return t[a=D.sortedIndex(t,e)]===e?a:-1;a=i<0?Math.max(0,n+i):i}if(v&&t.indexOf===v)return t.indexOf(e,i);for(;a<n;a++)if(t[a]===e)return a;return-1},D.lastIndexOf=function(t,e,i){if(null==t)return-1;var a=null!=i;if(y&&t.lastIndexOf===y)return a?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var n=a?i:t.length;n--;)if(t[n]===e)return n;return-1},D.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=i||1;for(var a=Math.max(Math.ceil((e-t)/i),0),n=0,r=new Array(a);n<a;)r[n++]=t,t+=i;return r},D.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,o.call(arguments,1));var i=o.call(arguments,2);return function(){return t.apply(e,i.concat(o.call(arguments)))}},D.partial=function(t){var e=o.call(arguments,1);return function(){return t.apply(this,e.concat(o.call(arguments)))}},D.bindAll=function(e){var t=o.call(arguments,1);return 0===t.length&&(t=D.functions(e)),I(t,function(t){e[t]=D.bind(e[t],e)}),e},D.memoize=function(e,i){var a={};return i||(i=D.identity),function(){var t=i.apply(this,arguments);return D.has(a,t)?a[t]:a[t]=e.apply(this,arguments)}},D.delay=function(t,e){var i=o.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},D.defer=function(t){return D.delay.apply(D,[t,1].concat(o.call(arguments,1)))},D.throttle=function(i,a){var n,r,s,o,u=0,h=function(){u=new Date,s=null,o=i.apply(n,r)};return function(){var t=new Date,e=a-(t-u);return n=this,r=arguments,e<=0?(clearTimeout(s),s=null,u=t,o=i.apply(n,r)):s||(s=setTimeout(h,e)),o}},D.debounce=function(a,n,r){var s,o;return function(){var t=this,e=arguments,i=r&&!s;return clearTimeout(s),s=setTimeout(function(){s=null,r||(o=a.apply(t,e))},n),i&&(o=a.apply(t,e)),o}},D.once=function(t){var e,i=!1;return function(){return i||(i=!0,e=t.apply(this,arguments),t=null),e}},D.wrap=function(e,i){return function(){var t=[e];return r.apply(t,arguments),i.apply(this,t)}},D.compose=function(){var i=arguments;return function(){for(var t=arguments,e=i.length-1;0<=e;e--)t=[i[e].apply(this,t)];return t[0]}},D.after=function(t,e){return t<=0?e():function(){if(--t<1)return e.apply(this,arguments)}},D.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)D.has(t,i)&&(e[e.length]=i);return e},D.values=function(t){var e=[];for(var i in t)D.has(t,i)&&e.push(t[i]);return e},D.pairs=function(t){var e=[];for(var i in t)D.has(t,i)&&e.push([i,t[i]]);return e},D.invert=function(t){var e={};for(var i in t)D.has(t,i)&&(e[t[i]]=i);return e},D.functions=D.methods=function(t){var e=[];for(var i in t)D.isFunction(t[i])&&e.push(i);return e.sort()},D.extend=function(i){return I(o.call(arguments,1),function(t){if(t)for(var e in t)i[e]=t[e]}),i},D.pick=function(e){var i={},t=u.apply(n,o.call(arguments,1));return I(t,function(t){t in e&&(i[t]=e[t])}),i},D.omit=function(t){var e={},i=u.apply(n,o.call(arguments,1));for(var a in t)D.contains(i,a)||(e[a]=t[a]);return e},D.defaults=function(i){return I(o.call(arguments,1),function(t){if(t)for(var e in t)null==i[e]&&(i[e]=t[e])}),i},D.clone=function(t){return D.isObject(t)?D.isArray(t)?t.slice():D.extend({},t):t},D.tap=function(t,e){return e(t),t};var P=function(t,e,i,a){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof D&&(t=t._wrapped),e instanceof D&&(e=e._wrapped);var n=c.call(t);if(n!=c.call(e))return!1;switch(n){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=i.length;r--;)if(i[r]==t)return a[r]==e;i.push(t),a.push(e);var s=0,o=!0;if("[object Array]"==n){if(o=(s=t.length)==e.length)for(;s--&&(o=P(t[s],e[s],i,a)););}else{var u=t.constructor,h=e.constructor;if(u!==h&&!(D.isFunction(u)&&u instanceof u&&D.isFunction(h)&&h instanceof h))return!1;for(var l in t)if(D.has(t,l)&&(s++,!(o=D.has(e,l)&&P(t[l],e[l],i,a))))break;if(o){for(l in e)if(D.has(e,l)&&!s--)break;o=!s}}return i.pop(),a.pop(),o};D.isEqual=function(t,e){return P(t,e,[],[])},D.isEmpty=function(t){if(null==t)return!0;if(D.isArray(t)||D.isString(t))return 0===t.length;for(var e in t)if(D.has(t,e))return!1;return!0},D.isElement=function(t){return!(!t||1!==t.nodeType)},D.isArray=b||function(t){return"[object Array]"==c.call(t)},D.isObject=function(t){return t===Object(t)},I(["Arguments","Function","String","Number","Date","RegExp"],function(e){D["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),D.isArguments(arguments)||(D.isArguments=function(t){return!(!t||!D.has(t,"callee"))}),"function"!=typeof/./&&(D.isFunction=function(t){return"function"==typeof t}),D.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},D.isNaN=function(t){return D.isNumber(t)&&t!=+t},D.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==c.call(t)},D.isNull=function(t){return null===t},D.isUndefined=function(t){return void 0===t},D.has=function(t,e){return h.call(t,e)},D.noConflict=function(){return t._=e,this},D.identity=function(t){return t},D.times=function(t,e,i){for(var a=Array(t),n=0;n<t;n++)a[n]=e.call(i,n);return a},D.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};E.unescape=D.invert(E.escape);var C={escape:new RegExp("["+D.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+D.keys(E.unescape).join("|")+")","g")};D.each(["escape","unescape"],function(e){D[e]=function(t){return null==t?"":(""+t).replace(C[e],function(t){return E[e][t]})}}),D.result=function(t,e){if(null==t)return null;var i=t[e];return D.isFunction(i)?i.call(t):i},D.mixin=function(i){I(D.functions(i),function(t){var e=D[t]=i[t];D.prototype[t]=function(){var t=[this._wrapped];return r.apply(t,arguments),L.call(this,e.apply(D,t))}})};var O=0;D.uniqueId=function(t){var e=++O+"";return t?t+e:e},D.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,N={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\t|\u2028|\u2029/g;D.template=function(r,t,e){var i;e=D.defaults({},e,D.templateSettings);var a=new RegExp([(e.escape||R).source,(e.interpolate||R).source,(e.evaluate||R).source].join("|")+"|$","g"),s=0,o="__p+='";r.replace(a,function(t,e,i,a,n){return o+=r.slice(s,n).replace(H,function(t){return"\\"+N[t]}),e&&(o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),a&&(o+="';\n"+a+"\n__p+='"),s=n+t.length,t}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{i=new Function(e.variable||"obj","_",o)}catch(t){throw t.source=o,t}if(t)return i(t,D);var n=function(t){return i.call(this,t,D)};return n.source="function("+(e.variable||"obj")+"){\n"+o+"}",n},D.chain=function(t){return D(t).chain()};var L=function(t){return this._chain?D(t).chain():t};D.mixin(D),I(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var i=n[e];D.prototype[e]=function(){var t=this._wrapped;return i.apply(t,arguments),"shift"!=e&&"splice"!=e||0!==t.length||delete t[0],L.call(this,t)}}),I(["concat","join","slice"],function(t){var e=n[t];D.prototype[t]=function(){return L.call(this,e.apply(this._wrapped,arguments))}}),D.extend(D.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(t){t.Bmob=t.Bmob||{};var h=t.Bmob;if("undefined"!=typeof exports&&exports._){h._=exports._.noConflict();try{h.localStorage=require("localStorage")}catch(t){h.localStorage=require("./localStorage.js").localStorage}h.XMLHttpRequest=require("xmlhttprequest").XMLHttpRequest,exports.Bmob=h}else h._=_.noConflict(),"undefined"!=typeof localStorage&&(h.localStorage=localStorage),"undefined"!=typeof XMLHttpRequest&&(h.XMLHttpRequest=XMLHttpRequest);"undefined"!=typeof $&&(h.$=$);var o=function(){};h.serverURL="https://api.bmob.cn",h.fileURL="http://file.bmob.cn","undefined"!=typeof process&&process.versions&&process.versions.node&&(h._isNode=!0),h.initialize=function(t,e,i){h._initialize(t,e,i)},h._initialize=function(t,e,i){h.applicationId=t,h.applicationKey=e,h.masterKey=i,h._useMasterKey=!0},h._isNode&&(h.initialize=h._initialize),h._getBmobPath=function(t){if(!h.applicationId)throw"You need to call Bmob.initialize before using Bmob.";if(t||(t=""),!h._.isString(t))throw"Tried to get a localStorage path that wasn't a String.";return"/"===t[0]&&(t=t.substring(1)),"Bmob/"+h.applicationId+"/"+t},h._installationId=null,h._getInstallationId=function(){if(h._installationId)return h._installationId;var t=h._getBmobPath("installationId");if(h._installationId=h.localStorage.getItem(t),!h._installationId||""===h._installationId){var e=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};h._installationId=e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e(),h.localStorage.setItem(t,h._installationId)}return h._installationId},h._parseDate=function(t){var e=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$").exec(t);if(!e)return null;var i=e[1]||0,a=(e[2]||1)-1,n=e[3]||0,r=e[4]||0,s=e[5]||0,o=e[6]||0,u=e[8]||0;return new Date(Date.UTC(i,a,n,r,s,o,u))},h._ajaxIE8=function(t,e,i){var a=new h.Promise,n=new XDomainRequest;return n.onload=function(){var t;try{t=JSON.parse(n.responseText)}catch(t){a.reject(t)}t&&a.resolve(t)},n.onerror=n.ontimeout=function(){a.reject(n)},n.onprogress=function(){},n.open(t,e),n.send(i),a},h._ajax=function(t,e,i,a,n){var r={success:a,error:n};if("undefined"!=typeof XDomainRequest)return h._ajaxIE8(t,e,i)._thenRunCallbacks(r);var s=new h.Promise,o=!1,u=new h.XMLHttpRequest;return u.onreadystatechange=function(){if(4===u.readyState){if(o)return;var t;o=!0;try{t=JSON.parse(u.responseText)}catch(t){}if(200==u.status&&t&&t.code&&t.error)u.status=400,s.reject(u);else if(200<=u.status&&u.status<300){var e;try{e=JSON.parse(u.responseText)}catch(t){s.reject(t)}e&&s.resolve(e,u.status,u)}}},u.open(t,e,!0),u.setRequestHeader("Content-Type","text/plain"),h._isNode&&u.setRequestHeader("User-Agent","Bmob/"+h.VERSION+" (NodeJS "+process.versions.node+")"),u.send(i),s._thenRunCallbacks(r)},h._extend=function(t,e){var i,a,n,r,s=(i=this,n=e,r=(a=t)&&a.hasOwnProperty("constructor")?a.constructor:function(){i.apply(this,arguments)},h._.extend(r,i),o.prototype=i.prototype,r.prototype=new o,a&&h._.extend(r.prototype,a),n&&h._.extend(r,n),(r.prototype.constructor=r).__super__=i.prototype,r);return s.extend=this.extend,s},h._request=function(t,e,i,a,n){if(!h.applicationId)throw"You must specify your applicationId using Bmob.initialize";if(!h.applicationKey&&!h.masterKey)throw"You must specify a key using Bmob.initialize";var r=h.serverURL;"/"!==r.charAt(r.length-1)&&(r+="/"),t.indexOf("2/")<0?r+="1/"+t:r+=t,e&&(r+="/"+e),i&&(r+="/"+i),"users"!==t&&"classes"!==t||"PUT"!==a||!n._fetchWhenSave||(delete n._fetchWhenSave,r+="?new=true"),n=h._.clone(n||{}),"POST"!==a&&(n._Method=a,a="POST"),n._ApplicationId=h.applicationId,n._RestKey=h.applicationKey,h._useMasterKey&&null!=h.masterKey&&(n._MasterKey=h.masterKey),n._ClientVersion=h.VERSION,n._InstallationId=h._getInstallationId();var s=h.User.current();s&&s._sessionToken&&(n._SessionToken=s._sessionToken);var o=JSON.stringify(n);return h._ajax(a,r,o).then(null,function(t){var e;if(t&&t.responseText)try{var i=JSON.parse(t.responseText);i&&(e=new h.Error(i.code,i.error))}catch(t){}return e=e||new h.Error(-1,t.responseText),h.Promise.error(e)})},h._getValue=function(t,e){return t&&t[e]?h._.isFunction(t[e])?t[e]():t[e]:null},h._encode=function(t,i,a){var e=h._;if(t instanceof h.Object){if(a)throw"Bmob.Objects not allowed here";if(!i||e.include(i,t)||!t._hasData)return t._toPointer();if(!t.dirty())return i=i.concat(t),h._encode(t._toFullJSON(i),i,a);throw"Tried to save an object with a pointer to a new, unsaved object."}if(t instanceof h.ACL)return t.toJSON();if(e.isDate(t))return{__type:"Date",iso:t.toJSON()};if(t instanceof h.GeoPoint)return t.toJSON();if(e.isArray(t))return e.map(t,function(t){return h._encode(t,i,a)});if(e.isRegExp(t))return t.source;if(t instanceof h.Relation)return t.toJSON();if(t instanceof h.Op)return t.toJSON();if(t instanceof h.File){if(!t.url())throw"Tried to save an object containing an unsaved file.";return{__type:"File",cdn:t.cdn(),filename:t.name(),url:t.url()}}if(e.isObject(t)){var n={};return h._objectEach(t,function(t,e){n[e]=h._encode(t,i,a)}),n}return t},h._decode=function(t,i){var e=h._;if(!e.isObject(i))return i;if(e.isArray(i))return h._arrayEach(i,function(t,e){i[e]=h._decode(e,t)}),i;if(i instanceof h.Object)return i;if(i instanceof h.File)return i;if(i instanceof h.Op)return i;if(i.__op)return h.Op._decode(i);if("Pointer"===i.__type){var a=i.className,n=h.Object._create(a);return i.createdAt?(delete i.__type,delete i.className,n._finishFetch(i,!0)):n._finishFetch({objectId:i.objectId},!1),n}if("Object"===i.__type){a=i.className;delete i.__type,delete i.className;var r=h.Object._create(a);return r._finishFetch(i,!0),r}if("Date"===i.__type)return i.iso;if("GeoPoint"===i.__type)return new h.GeoPoint({latitude:i.latitude,longitude:i.longitude});if("ACL"===t)return i instanceof h.ACL?i:new h.ACL(i);if("Relation"===i.__type){var s=new h.Relation(null,t);return s.targetClassName=i.className,s}if("File"===i.__type){if(null!=i.url&&null!=i.url)if(0<=i.url.indexOf("http"))var o={_name:i.filename,_url:i.url,_group:i.group};else o={_name:i.filename,_url:h.fileURL+"/"+i.url,_group:i.group};else o={_name:i.filename,_url:i.url,_group:i.group};return o}return h._objectEach(i,function(t,e){i[e]=h._decode(e,t)}),i},h._arrayEach=h._.each,h._traverse=function(a,n,r){if(a instanceof h.Object){if(r=r||[],0<=h._.indexOf(r,a))return;return r.push(a),h._traverse(a.attributes,n,r),n(a)}return a instanceof h.Relation||a instanceof h.File||(h._.isArray(a)?h._.each(a,function(t,e){var i=h._traverse(t,n,r);i&&(a[e]=i)}):h._.isObject(a)&&h._each(a,function(t,e){var i=h._traverse(t,n,r);i&&(a[e]=i)})),n(a)},h._objectEach=h._each=function(e,i){var t=h._;t.isObject(e)?t.each(t.keys(e),function(t){i(e[t],t)}):t.each(e,i)},h._isNullOrUndefined=function(t){return h._.isNull(t)||h._.isUndefined(t)}}(this),function(t){t.Bmob=t.Bmob||{};var e=t.Bmob,i=e._;e.Error=function(t,e){this.code=t,this.message=e},i.extend(e.Error,{OTHER_CAUSE:-1,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,RELATIONDOCNOTEXISTS:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,USERNAME_PASSWORD_REQUIRED:108,INCORRECT_TYPE:111,REQUEST_MUST_ARRAY:112,REQUEST_MUST_OBJECT:113,OBJECT_TOO_LARGE:114,GEO_ERROR:117,EMAIL_VERIFY_MUST_OPEN:120,CACHE_MISS:120,INVALID_DEVICE_TOKEN:131,INVALID_INSTALLID:132,INVALID_DEVICE_TYPE:133,DEVICE_TOKEN_EXIST:134,INSTALLID_EXIST:135,DEVICE_TOKEN_NOT_FOR_ANDROID:136,INVALID_INSTALL_OPERATE:137,READ_ONLY:138,INVALID_ROLE_NAME:139,MISS_PUSH_DATA:141,INVALID_PUSH_TIME:142,INVALID_PUSH_EXPIRE:143,PUSH_TIME_MUST_BEFORE_NOW:144,FILE_SIZE_ERROR:145,FILE_NAME_ERROR:146,FILE_NAME_ERROR:147,FILE_LEN_ERROR:148,FILE_UPLOAD_ERROR:150,FILE_DELETE_ERROR:151,IMAGE_ERROR:160,IMAGE_MODE_ERROR:161,IMAGE_WIDTH_ERROR:162,IMAGE_HEIGHT_ERROR:163,IMAGE_LONGEDGE_ERROR:164,IMAGE_SHORTEDGE_ERROR:165,USER_MISSING:201,USER_NAME_TOKEN:202,EMAIL_EXIST:203,NO_EMAIL:204,NOT_FOUND_EMAIL:205,SESSIONTOKEN_ERROR:206,VALID_ERROR:301})}(this),function(){var t=this.Bmob||(this.Bmob={}),h=/\s+/,u=Array.prototype.slice;t.Events={on:function(t,e,i){var a,n,r,s,o;if(!e)return this;for(t=t.split(h),a=this._callbacks||(this._callbacks={}),n=t.shift();n;)(r=(o=a[n])?o.tail:{}).next=s={},r.context=i,r.callback=e,a[n]={tail:s,next:o?o.next:r},n=t.shift();return this},off:function(t,e,i){var a,n,r,s,o,u;if(n=this._callbacks){if(!(t||e||i))return delete this._callbacks,this;for(a=(t=t?t.split(h):_.keys(n)).shift();a;)if(r=n[a],delete n[a],r&&(e||i)){for(s=r.tail,r=r.next;r!==s;)o=r.callback,u=r.context,(e&&o!==e||i&&u!==i)&&this.on(a,o,u),r=r.next;a=t.shift()}return this}},trigger:function(t){var e,i,a,n,r,s,o;if(!(a=this._callbacks))return this;for(s=a.all,t=t.split(h),o=u.call(arguments,1),e=t.shift();e;){if(i=a[e])for(n=i.tail;(i=i.next)!==n;)i.callback.apply(i.context||this,o);if(i=s)for(n=i.tail,r=[e].concat(o);(i=i.next)!==n;)i.callback.apply(i.context||this,r);e=t.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}.call(this),function(t){t.Bmob=t.Bmob||{};var a=t.Bmob,n=a._;a.GeoPoint=function(t,e){n.isArray(t)?(a.GeoPoint._validate(t[0],t[1]),this.latitude=t[0],this.longitude=t[1]):n.isObject(t)?(a.GeoPoint._validate(t.latitude,t.longitude),this.latitude=t.latitude,this.longitude=t.longitude):n.isNumber(t)&&n.isNumber(e)?(a.GeoPoint._validate(t,e),this.latitude=t,this.longitude=e):(this.latitude=0,this.longitude=0);var i=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return i._latitude}),this.__defineGetter__("longitude",function(){return i._longitude}),this.__defineSetter__("latitude",function(t){a.GeoPoint._validate(t,i.longitude),i._latitude=t}),this.__defineSetter__("longitude",function(t){a.GeoPoint._validate(i.latitude,t),i._longitude=t}))},a.GeoPoint._validate=function(t,e){if(t<-90)throw"Bmob.GeoPoint latitude "+t+" < -90.0.";if(90<t)throw"Bmob.GeoPoint latitude "+t+" > 90.0.";if(e<-180)throw"Bmob.GeoPoint longitude "+e+" < -180.0.";if(180<e)throw"Bmob.GeoPoint longitude "+e+" > 180.0."},a.GeoPoint.current=function(t){var e=new a.Promise;return navigator.geolocation.getCurrentPosition(function(t){e.resolve(new a.GeoPoint({latitude:t.coords.latitude,longitude:t.coords.longitude}))},function(t){e.reject(t)}),e._thenRunCallbacks(t)},a.GeoPoint.prototype={toJSON:function(){return a.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(t){var e=Math.PI/180,i=this.latitude*e,a=this.longitude*e,n=t.latitude*e,r=i-n,s=a-t.longitude*e,o=Math.sin(r/2),u=Math.sin(s/2),h=o*o+Math.cos(i)*Math.cos(n)*u*u;return h=Math.min(1,h),2*Math.asin(Math.sqrt(h))},kilometersTo:function(t){return 6371*this.radiansTo(t)},milesTo:function(t){return 3958.8*this.radiansTo(t)}}}(this),function(t){t.Bmob=t.Bmob||{};var n=t.Bmob,r=n._;n.ACL=function(t){var a=this;if(a.permissionsById={},r.isObject(t))if(t instanceof n.User)a.setReadAccess(t,!0),a.setWriteAccess(t,!0);else{if(r.isFunction(t))throw"Bmob.ACL() called with a function.  Did you forget ()?";n._objectEach(t,function(t,i){if(!r.isString(i))throw"Tried to create an ACL with an invalid userId.";a.permissionsById[i]={},n._objectEach(t,function(t,e){if("read"!==e&&"write"!==e)throw"Tried to create an ACL with an invalid permission type.";if(!r.isBoolean(t))throw"Tried to create an ACL with an invalid permission value.";a.permissionsById[i][e]=t})})}},n.ACL.prototype.toJSON=function(){return r.clone(this.permissionsById)},n.ACL.prototype._setAccess=function(t,e,i){if(e instanceof n.User?e=e.id:e instanceof n.Role&&(e="role:"+e.getName()),!r.isString(e))throw"userId must be a string.";if(!r.isBoolean(i))throw"allowed must be either true or false.";var a=this.permissionsById[e];if(!a){if(!i)return;a={},this.permissionsById[e]=a}i?this.permissionsById[e][t]=!0:(delete a[t],r.isEmpty(a)&&delete a[e])},n.ACL.prototype._getAccess=function(t,e){e instanceof n.User?e=e.id:e instanceof n.Role&&(e="role:"+e.getName());var i=this.permissionsById[e];return!!i&&!!i[t]},n.ACL.prototype.setReadAccess=function(t,e){this._setAccess("read",t,e)},n.ACL.prototype.getReadAccess=function(t){return this._getAccess("read",t)},n.ACL.prototype.setWriteAccess=function(t,e){this._setAccess("write",t,e)},n.ACL.prototype.getWriteAccess=function(t){return this._getAccess("write",t)},n.ACL.prototype.setPublicReadAccess=function(t){this.setReadAccess("*",t)},n.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess("*")},n.ACL.prototype.setPublicWriteAccess=function(t){this.setWriteAccess("*",t)},n.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess("*")},n.ACL.prototype.getRoleReadAccess=function(t){if(t instanceof n.Role&&(t=t.getName()),r.isString(t))return this.getReadAccess("role:"+t);throw"role must be a Bmob.Role or a String"},n.ACL.prototype.getRoleWriteAccess=function(t){if(t instanceof n.Role&&(t=t.getName()),r.isString(t))return this.getWriteAccess("role:"+t);throw"role must be a Bmob.Role or a String"},n.ACL.prototype.setRoleReadAccess=function(t,e){if(t instanceof n.Role&&(t=t.getName()),!r.isString(t))throw"role must be a Bmob.Role or a String";this.setReadAccess("role:"+t,e)},n.ACL.prototype.setRoleWriteAccess=function(t,e){if(t instanceof n.Role&&(t=t.getName()),!r.isString(t))throw"role must be a Bmob.Role or a String";this.setWriteAccess("role:"+t,e)}}(this),function(t){t.Bmob=t.Bmob||{};var n=t.Bmob,r=n._;n.Op=function(){this._initialize.apply(this,arguments)},n.Op.prototype={_initialize:function(){}},r.extend(n.Op,{_extend:n._extend,_opDecoderMap:{},_registerDecoder:function(t,e){n.Op._opDecoderMap[t]=e},_decode:function(t){var e=n.Op._opDecoderMap[t.__op];return e?e(t):void 0}}),n.Op._registerDecoder("Batch",function(t){var e=null;return n._arrayEach(t.ops,function(t){t=n.Op._decode(t),e=t._mergeWithPrevious(e)}),e}),n.Op.Set=n.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return n._encode(this.value())},_mergeWithPrevious:function(t){return this},_estimate:function(t){return this.value()}}),n.Op._UNSET={},n.Op.Unset=n.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(t){return this},_estimate:function(t){return n.Op._UNSET}}),n.Op._registerDecoder("Delete",function(t){return new n.Op.Unset}),n.Op.Increment=n.Op._extend({_initialize:function(t){this._amount=t},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(t){if(t){if(t instanceof n.Op.Unset)return new n.Op.Set(this.amount());if(t instanceof n.Op.Set)return new n.Op.Set(t.value()+this.amount());if(t instanceof n.Op.Increment)return new n.Op.Increment(this.amount()+t.amount());throw"Op is invalid after previous op."}return this},_estimate:function(t){return t?t+this.amount():this.amount()}}),n.Op._registerDecoder("Increment",function(t){return new n.Op.Increment(t.amount)}),n.Op.Add=n.Op._extend({_initialize:function(t){this._objects=t},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:n._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof n.Op.Unset)return new n.Op.Set(this.objects());if(t instanceof n.Op.Set)return new n.Op.Set(this._estimate(t.value()));if(t instanceof n.Op.Add)return new n.Op.Add(t.objects().concat(this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(t){return t?t.concat(this.objects()):r.clone(this.objects())}}),n.Op._registerDecoder("Add",function(t){return new n.Op.Add(n._decode(void 0,t.objects))}),n.Op.AddUnique=n.Op._extend({_initialize:function(t){this._objects=r.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:n._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof n.Op.Unset)return new n.Op.Set(this.objects());if(t instanceof n.Op.Set)return new n.Op.Set(this._estimate(t.value()));if(t instanceof n.Op.AddUnique)return new n.Op.AddUnique(this._estimate(t.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(t){if(t){var a=r.clone(t);return n._arrayEach(this.objects(),function(e){if(e instanceof n.Object&&e.id){var t=r.find(a,function(t){return t instanceof n.Object&&t.id===e.id});if(t){var i=r.indexOf(a,t);a[i]=e}else a.push(e)}else r.contains(a,e)||a.push(e)}),a}return r.clone(this.objects())}}),n.Op._registerDecoder("AddUnique",function(t){return new n.Op.AddUnique(n._decode(void 0,t.objects))}),n.Op.Remove=n.Op._extend({_initialize:function(t){this._objects=r.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:n._encode(this.objects())}},_mergeWithPrevious:function(t){if(t){if(t instanceof n.Op.Unset)return t;if(t instanceof n.Op.Set)return new n.Op.Set(this._estimate(t.value()));if(t instanceof n.Op.Remove)return new n.Op.Remove(r.union(t.objects(),this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(t){if(t){var i=r.difference(t,this.objects());return n._arrayEach(this.objects(),function(e){e instanceof n.Object&&e.id&&(i=r.reject(i,function(t){return t instanceof n.Object&&t.id===e.id}))}),i}return[]}}),n.Op._registerDecoder("Remove",function(t){return new n.Op.Remove(n._decode(void 0,t.objects))}),n.Op.Relation=n.Op._extend({_initialize:function(t,e){this._targetClassName=null;var i=this,a=function(t){if(t instanceof n.Object){if(!t.id)throw"You can't add an unsaved Bmob.Object to a relation.";if(i._targetClassName||(i._targetClassName=t.className),i._targetClassName!==t.className)throw"Tried to create a Bmob.Relation with 2 different types: "+i._targetClassName+" and "+t.className+".";return t.id}return t};this.relationsToAdd=r.uniq(r.map(t,a)),this.relationsToRemove=r.uniq(r.map(e,a))},added:function(){var i=this;return r.map(this.relationsToAdd,function(t){var e=n.Object._create(i._targetClassName);return e.id=t,e})},removed:function(){var i=this;return r.map(this.relationsToRemove,function(t){var e=n.Object._create(i._targetClassName);return e.id=t,e})},toJSON:function(){var t=null,e=null,i=this,a=function(t){return{__type:"Pointer",className:i._targetClassName,objectId:t}};return 0<this.relationsToAdd.length&&(t={__op:"AddRelation",objects:r.map(this.relationsToAdd,a)}),0<this.relationsToRemove.length&&(e={__op:"RemoveRelation",objects:r.map(this.relationsToRemove,a)}),t&&e?{__op:"Batch",ops:[t,e]}:t||e||{}},_mergeWithPrevious:function(t){if(t){if(t instanceof n.Op.Unset)throw"You can't modify a relation after deleting it.";if(t instanceof n.Op.Relation){if(t._targetClassName&&t._targetClassName!==this._targetClassName)throw"Related object must be of class "+t._targetClassName+", but "+this._targetClassName+" was passed in.";var e=r.union(r.difference(t.relationsToAdd,this.relationsToRemove),this.relationsToAdd),i=r.union(r.difference(t.relationsToRemove,this.relationsToAdd),this.relationsToRemove),a=new n.Op.Relation(e,i);return a._targetClassName=this._targetClassName,a}throw"Op is invalid after previous op."}return this},_estimate:function(t,e,i){if(t){if(t instanceof n.Relation){if(this._targetClassName)if(t.targetClassName){if(t.targetClassName!==this._targetClassName)throw"Related object must be a "+t.targetClassName+", but a "+this._targetClassName+" was passed in."}else t.targetClassName=this._targetClassName;return t}throw"Op is invalid after previous op."}new n.Relation(e,i).targetClassName=this._targetClassName}}),n.Op._registerDecoder("AddRelation",function(t){return new n.Op.Relation(n._decode(void 0,t.objects),[])}),n.Op._registerDecoder("RemoveRelation",function(t){return new n.Op.Relation([],n._decode(void 0,t.objects))})}(this),function(t){t.Bmob=t.Bmob||{};var n=t.Bmob,i=n._;n.Relation=function(t,e){this.parent=t,this.key=e,this.targetClassName=null},n.Relation.reverseQuery=function(t,e,i){var a=new n.Query(t);return a.equalTo(e,i._toPointer()),a},n.Relation.prototype={_ensureParentAndKey:function(t,e){if(this.parent=this.parent||t,this.key=this.key||e,this.parent!==t)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==e)throw"Internal Error. Relation retrieved from two different keys."},add:function(t){i.isArray(t)||(t=[t]);var e=new n.Op.Relation(t,[]);this.parent.set(this.key,e),this.targetClassName=e._targetClassName},remove:function(t){i.isArray(t)||(t=[t]);var e=new n.Op.Relation([],t);this.parent.set(this.key,e),this.targetClassName=e._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function(){var t,e;return this.targetClassName?(t=n.Object._getSubclass(this.targetClassName),e=new n.Query(t)):(t=n.Object._getSubclass(this.parent.className),(e=new n.Query(t))._extraOptions.redirectClassNameForKey=this.key),e._addCondition("$relatedTo","object",this.parent._toPointer()),e._addCondition("$relatedTo","key",this.key),e}}}(this),function(t){t.Bmob=t.Bmob||{};var u=t.Bmob,n=u._;u.Promise=function(){this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[]},n.extend(u.Promise,{is:function(t){return t&&t.then&&n.isFunction(t.then)},as:function(){var t=new u.Promise;return t.resolve.apply(t,arguments),t},error:function(){var t=new u.Promise;return t.reject.apply(t,arguments),t},when:function(t){var e,i=(e=t&&u._isNullOrUndefined(t.length)?arguments:t).length,a=!1,n=[],r=[];if(n.length=e.length,r.length=e.length,0===i)return u.Promise.as.apply(this,n);var s=new u.Promise,o=function(){0===(i-=1)&&(a?s.reject(r):s.resolve.apply(s,n))};return u._arrayEach(e,function(t,e){u.Promise.is(t)?t.then(function(t){n[e]=t,o()},function(t){r[e]=t,a=!0,o()}):(n[e]=t,o())}),s},_continueWhile:function(t,e){return t()?e().then(function(){return u.Promise._continueWhile(t,e)}):u.Promise.as()}}),n.extend(u.Promise.prototype,{resolve:function(t){if(this._resolved||this._rejected)throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._resolved=!0;var e=this._result=arguments;u._arrayEach(this._resolvedCallbacks,function(t){t.apply(this,e)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},reject:function(e){if(this._resolved||this._rejected)throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._rejected=!0,this._error=e,u._arrayEach(this._rejectedCallbacks,function(t){t(e)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},then:function(e,i){var a=new u.Promise,t=function(){var t=arguments;e&&(t=[e.apply(this,t)]),1===t.length&&u.Promise.is(t[0])?t[0].then(function(){a.resolve.apply(a,arguments)},function(t){a.reject(t)}):a.resolve.apply(a,t)},n=function(t){var e=[];i?1===(e=[i(t)]).length&&u.Promise.is(e[0])?e[0].then(function(){a.resolve.apply(a,arguments)},function(t){a.reject(t)}):a.reject(e[0]):a.reject(t)};return this._resolved?t.apply(this,this._result):this._rejected?n(this._error):(this._resolvedCallbacks.push(t),this._rejectedCallbacks.push(n)),a},_thenRunCallbacks:function(t,e){var i;if(n.isFunction(t)){var a=t;i={success:function(t){a(t,null)},error:function(t){a(null,t)}}}else i=n.clone(t);return i=i||{},this.then(function(t){return i.success?i.success.apply(this,arguments):e&&e.trigger("sync",e,t,i),u.Promise.as.apply(u.Promise,arguments)},function(t){return i.error?n.isUndefined(e)?i.error(t):i.error(e,t):e&&e.trigger("error",e,t,i),u.Promise.error(t)})},_continueWith:function(e){return this.then(function(){return e(arguments,null)},function(t){return e(null,t)})}})}(this),function(t){t.Bmob=t.Bmob||{};var s=t.Bmob,o=(s._,function(t){var e,i,a,n,r,s,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=t.length,i=0,e="";i<a;){if(n=255&t.charCodeAt(i++),i==a){e+=o.charAt(n>>2),e+=o.charAt((3&n)<<4),e+="==";break}if(r=t.charCodeAt(i++),i==a){e+=o.charAt(n>>2),e+=o.charAt((3&n)<<4|(240&r)>>4),e+=o.charAt((15&r)<<2),e+="=";break}s=t.charCodeAt(i++),e+=o.charAt(n>>2),e+=o.charAt((3&n)<<4|(240&r)>>4),e+=o.charAt((15&r)<<2|(192&s)>>6),e+=o.charAt(63&s)}return e}),u={ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",asc:"text/plain",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",cdf:"application/x-netcdf",cgm:"image/cgm",class:"application/octet-stream",cpio:"application/x-cpio",cpt:"application/mac-compactpro",csh:"application/x-csh",css:"text/css",dcr:"application/x-director",dif:"video/x-dv",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",dxr:"application/x-director",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",ez:"application/andrew-inset",gif:"image/gif",gram:"application/srgs",grxml:"application/srgs+xml",gtar:"application/x-gtar",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htm:"text/html",html:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",kar:"audio/midi",latex:"application/x-latex",lha:"application/octet-stream",lzh:"application/octet-stream",m3u:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",mac:"image/x-macpaint",man:"application/x-troff-man",mathml:"application/mathml+xml",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",ms:"application/x-troff-ms",msh:"model/mesh",mxu:"video/vnd.mpegurl",nc:"application/x-netcdf",oda:"application/oda",ogg:"application/ogg",pbm:"image/x-portable-bitmap",pct:"image/pict",pdb:"chemical/x-pdb",pdf:"application/pdf",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pic:"image/pict",pict:"image/pict",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",pntg:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ps:"application/postscript",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"application/x-troff",rtf:"text/rtf",rtx:"text/richtext",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",silo:"model/mesh",sit:"application/x-stuffit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",smi:"application/smil",smil:"application/smil",snd:"audio/basic",so:"application/octet-stream",spl:"application/x-futuresplash",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",swf:"application/x-shockwave-flash",t:"application/x-troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"application/x-troff",tsv:"text/tab-separated-values",txt:"text/plain",ustar:"application/x-ustar",vcd:"application/x-cdlink",vrml:"model/vrml",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wbmxl:"application/vnd.wap.wbxml",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wrl:"model/vrml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zip:"application/zip"};s.File=function(t,e,i){this._name=o(function(t){var e,i,a,n;for(e="",a=t.length,i=0;i<a;i++)1<=(n=t.charCodeAt(i))&&n<=127?e+=t.charAt(i):(2047<n?(e+=String.fromCharCode(224|n>>12&15),e+=String.fromCharCode(128|n>>6&63)):e+=String.fromCharCode(192|n>>6&31),e+=String.fromCharCode(128|n>>0&63));return e}(t));var a=s.User.current();this._metaData={owner:null!=a?a.id:"unknown"};var n=/\.([^.]*)$/.exec(t);n&&(n=n[1].toLowerCase());var r=i||u[n]||"text/plain";this._guessedType=r,"undefined"!=typeof File&&e instanceof File?this._source=function(t,e){var i=new s.Promise;if("undefined"==typeof FileReader)return s.Promise.error(new s.Error(-1,"Attempted to use a FileReader on an unsupported browser."));var a=new FileReader;return a.onloadend=function(){i.resolve(a.result)},a.readAsBinaryString(t),i}(e):(this._source=s.Promise.as(e,r),this._metaData.size=e.length)},s.File.prototype={name:function(){return this._name},setName:function(t){this._name=t},url:function(){return this._url},setUrl:function(t){this._url=t},cdn:function(){return this._cdn},metaData:function(t,e){return null!=t&&null!=e?(this._metaData[t]=e,this):null!=t?this._metaData[t]:this._metaData},destroy:function(t){if(!this._url&&!this._cdn)return s.Promise.error("The file url and cdn is not eixsts.")._thenRunCallbacks(t);var e={cdn:this._cdn,_ContentType:"application/json",url:this._url,metaData:self._metaData};return s._request("2/files",null,null,"DELETE",e)._thenRunCallbacks(t)},save:function(t){var a=this;if(!a._previousSave){if(!a._source)throw"not source file";a._previousSave=a._source.then(function(t,e){var i={base64:o(t),_ContentType:"text/plain",mime_type:"text/plain",metaData:a._metaData};return a._metaData.size||(a._metaData.size=t.length),s._request("2/files",a._name,null,"POST",i)}).then(function(t){return a._name=t.filename,a._url=t.url,a._cdn=t.cdn,a})}return a._previousSave._thenRunCallbacks(t)}}}(this),function(t){t.Bmob=t.Bmob||{};var d=t.Bmob,p=d._;d.Object=function(t,e){if(p.isString(t))return d.Object._create.apply(this,arguments);t=t||{},e&&e.parse&&(t=this.parse(t));var i=d._getValue(this,"defaults");if(i&&(t=p.extend({},i,t)),e&&e.collection&&(this.collection=e.collection),this._serverData={},this._opSetQueue=[{}],this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=p.uniqueId("c"),this.changed={},this._silent={},this._pending={},!this.set(t,{silent:!0}))throw new Error("Can't create an invalid Bmob.Object");this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=p.clone(this.attributes),this.initialize.apply(this,arguments)},d.Object.saveAll=function(t,e){return d.Object._deepSaveAsync(t)._thenRunCallbacks(e)},p.extend(d.Object.prototype,d.Events,{_existed:!1,_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(t){if("boolean"!=typeof t)throw"Expect boolean value for fetchWhenSave";this._fetchWhenSave=t},toJSON:function(){var e=this._toFullJSON();return d._arrayEach(["__type","className"],function(t){delete e[t]}),e},_toFullJSON:function(i){var a=p.clone(this.attributes);return d._objectEach(a,function(t,e){a[e]=d._encode(t,i)}),d._objectEach(this._operations,function(t,e){a[e]=t}),p.has(this,"id")&&(a.objectId=this.id),p.has(this,"createdAt")&&(p.isDate(this.createdAt)?a.createdAt=this.createdAt.toJSON():a.createdAt=this.createdAt),p.has(this,"updatedAt")&&(p.isDate(this.updatedAt)?a.updatedAt=this.updatedAt.toJSON():a.updatedAt=this.updatedAt),a.__type="Object",a.className=this.className,a},_refreshCache:function(){var i=this;i._refreshingCache||(i._refreshingCache=!0,d._objectEach(this.attributes,function(t,e){t instanceof d.Object?t._refreshCache():p.isObject(t)&&i._resetCacheForKey(e)&&i.set(e,new d.Op.Set(t),{silent:!0})}),delete i._refreshingCache)},dirty:function(t){this._refreshCache();var e=p.last(this._opSetQueue);return t?!!e[t]:!this.id||0<p.keys(e).length},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(t){return this.attributes[t]},relation:function(t){var e=this.get(t);if(e){if(!(e instanceof d.Relation))throw"Called relation() on non-relation field "+t;return e._ensureParentAndKey(this,t),e}return new d.Relation(this,t)},escape:function(t){var e=this._escapedAttributes[t];if(e)return e;var i,a=this.attributes[t];return i=d._isNullOrUndefined(a)?"":p.escape(a.toString()),this._escapedAttributes[t]=i},has:function(t){return!d._isNullOrUndefined(this.attributes[t])},_mergeMagicFields:function(e){var i=this;d._arrayEach(["id","objectId","createdAt","updatedAt"],function(t){e[t]&&("objectId"===t?i.id=e[t]:i[t]=e[t],delete e[t])})},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var n=p.first(this._opSetQueue);this._opSetQueue=p.rest(this._opSetQueue);var r=p.first(this._opSetQueue);d._objectEach(n,function(t,e){var i=n[e],a=r[e];i&&a?r[e]=a._mergeWithPrevious(i):i&&(r[e]=i)}),this._saving=this._saving-1},_finishSave:function(t){var a={};d._traverse(this.attributes,function(t){t instanceof d.Object&&t.id&&t._hasData&&(a[t.id]=t)});var e=p.first(this._opSetQueue);this._opSetQueue=p.rest(this._opSetQueue),this._applyOpSet(e,this._serverData),this._mergeMagicFields(t);var n=this;d._objectEach(t,function(t,e){n._serverData[e]=d._decode(e,t);var i=d._traverse(n._serverData[e],function(t){if(t instanceof d.Object&&a[t.id])return a[t.id]});i&&(n._serverData[e]=i)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(t,e){this._opSetQueue=[{}],this._mergeMagicFields(t);var i=this;d._objectEach(t,function(t,e){i._serverData[e]=d._decode(e,t)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=e},_applyOpSet:function(t,i){var a=this;d._objectEach(t,function(t,e){i[e]=t._estimate(i[e],a,e),i[e]===d.Op._UNSET&&delete i[e]})},_resetCacheForKey:function(t){var e=this.attributes[t];if(p.isObject(e)&&!(e instanceof d.Object)&&!(e instanceof d.File)){e=e.toJSON?e.toJSON():e;var i=JSON.stringify(e);if(this._hashedJSON[t]!==i)return this._hashedJSON[t]=i,!0}return!1},_rebuildEstimatedDataForKey:function(i){var a=this;delete this.attributes[i],this._serverData[i]&&(this.attributes[i]=this._serverData[i]),d._arrayEach(this._opSetQueue,function(t){var e=t[i];e&&(a.attributes[i]=e._estimate(a.attributes[i],a,i),a.attributes[i]===d.Op._UNSET?delete a.attributes[i]:a._resetCacheForKey(i))})},_rebuildAllEstimatedData:function(){var i=this,a=p.clone(this.attributes);this.attributes=p.clone(this._serverData),d._arrayEach(this._opSetQueue,function(t){i._applyOpSet(t,i.attributes),d._objectEach(t,function(t,e){i._resetCacheForKey(e)})}),d._objectEach(a,function(t,e){i.attributes[e]!==t&&i.trigger("change:"+e,i,i.attributes[e],{})}),d._objectEach(this.attributes,function(t,e){p.has(a,e)||i.trigger("change:"+e,i,t,{})})},set:function(t,e,n){var r;if(p.isObject(t)||d._isNullOrUndefined(t)?(r=t,d._objectEach(r,function(t,e){r[e]=d._decode(e,t)}),n=e):(r={})[t]=d._decode(t,e),n=n||{},!r)return this;r instanceof d.Object&&(r=r.attributes),n.unset&&d._objectEach(r,function(t,e){r[e]=new d.Op.Unset});var i=p.clone(r),s=this;if(d._objectEach(i,function(t,e){t instanceof d.Op&&(i[e]=t._estimate(s.attributes[e],s,e),i[e]===d.Op._UNSET&&delete i[e])}),!this._validate(r,n))return!1;this._mergeMagicFields(r),n.changes={};var o=this._escapedAttributes;this._previousAttributes;return d._arrayEach(p.keys(r),function(t){var e=r[t];e instanceof d.Relation&&(e.parent=s),e instanceof d.Op||(e=new d.Op.Set(e));var i=!0;e instanceof d.Op.Set&&p.isEqual(s.attributes[t],e.value)&&(i=!1),i&&(delete o[t],n.silent?s._silent[t]=!0:n.changes[t]=!0);var a=p.last(s._opSetQueue);a[t]=e._mergeWithPrevious(a[t]),s._rebuildEstimatedDataForKey(t),i?(s.changed[t]=s.attributes[t],n.silent||(s._pending[t]=!0)):(delete s.changed[t],delete s._pending[t])}),n.silent||this.change(n),this},unset:function(t,e){return(e=e||{}).unset=!0,this.set(t,null,e)},increment:function(t,e){return(p.isUndefined(e)||p.isNull(e))&&(e=1),this.set(t,new d.Op.Increment(e))},add:function(t,e){return this.set(t,new d.Op.Add([e]))},addUnique:function(t,e){return this.set(t,new d.Op.AddUnique([e]))},remove:function(t,e){return this.set(t,new d.Op.Remove([e]))},op:function(t){return p.last(this._opSetQueue)[t]},clear:function(t){(t=t||{}).unset=!0;var e=p.extend(this.attributes,this._operations);return this.set(e,t)},_getSaveJSON:function(){var i=p.clone(p.first(this._opSetQueue));return d._objectEach(i,function(t,e){i[e]=t.toJSON()}),i},_canBeSerialized:function(){return d.Object._canBeSerializedAsValue(this.attributes)},fetch:function(t){var a=this;return d._request("classes",this.className,this.id,"GET").then(function(t,e,i){return a._finishFetch(a.parse(t,e,i),!0),a})._thenRunCallbacks(t,this)},save:function(t,e,i){var r,s,o;if((p.isObject(t)||d._isNullOrUndefined(t)?(r=t,o=e):((r={})[t]=e,o=i),!o&&r)&&0===p.reject(r,function(t,e){return p.include(["success","error","wait"],e)}).length){var a=!0;if(p.has(r,"success")&&!p.isFunction(r.success)&&(a=!1),p.has(r,"error")&&!p.isFunction(r.error)&&(a=!1),a)return this.save(null,r)}(o=p.clone(o)||{}).wait&&(s=p.clone(this.attributes));var n,u=p.clone(o)||{};if(u.wait&&(u.silent=!0),u.error=function(t,e){n=e},r&&!this.set(r,u))return d.Promise.error(n)._thenRunCallbacks(o,this);var h=this;h._refreshCache();var l=[],c=[];return d.Object._findUnsavedChildren(h.attributes,l,c),0<l.length+c.length?d.Object._deepSaveAsync(this.attributes).then(function(){return h.save(null,o)},function(t){return d.Promise.error(t)._thenRunCallbacks(o,h)}):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||d.Promise.as(),this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var t=h.id?"PUT":"POST",e=h._getSaveJSON();"PUT"===t&&h._fetchWhenSave&&(e._fetchWhenSave=!0);var i="classes",a=h.className;"_User"!==h.className||h.id||(i="users",a=null);var n=d._request(i,a,h.id,t,e);return n=n.then(function(t,e,i){var a=h.parse(t,e,i);return o.wait&&(a=p.extend(r||{},a)),h._finishSave(a),o.wait&&h.set(s,u),h},function(t){return h._cancelSave(),d.Promise.error(t)})._thenRunCallbacks(o,h)}),this._allPreviousSaves)},destroy:function(t){t=t||{};var e=this,i=function(){e.trigger("destroy",e,e.collection,t)};return this.id?(t.wait||i(),d._request("classes",this.className,this.id,"DELETE").then(function(){return t.wait&&i(),e})._thenRunCallbacks(t,this)):i()},parse:function(t,e,i){var a=p.clone(t);return p(["createdAt","updatedAt"]).each(function(t){a[t]&&(a[t]=a[t])}),a.updatedAt||(a.updatedAt=a.createdAt),e&&(this._existed=201!==e),a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(i){i=i||{};var t=this._changing;this._changing=!0;var a=this;d._objectEach(this._silent,function(t){a._pending[t]=!0});var e=p.extend({},i.changes,this._silent);if(this._silent={},d._objectEach(e,function(t,e){a.trigger("change:"+e,a,a.get(e),i)}),t)return this;for(var n=function(t,e){a._pending[e]||a._silent[e]||delete a.changed[e]};!p.isEmpty(this._pending);)this._pending={},this.trigger("change",this,i),d._objectEach(this.changed,n),a._previousAttributes=p.clone(this.attributes);return this._changing=!1,this},existed:function(){return this._existed},hasChanged:function(t){return arguments.length?this.changed&&p.has(this.changed,t):!p.isEmpty(this.changed)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&p.clone(this.changed);var i={},a=this._previousAttributes;return d._objectEach(t,function(t,e){p.isEqual(a[e],t)||(i[e]=t)}),i},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return p.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(t,e){return!(!p.has(t,"ACL")||t.ACL instanceof d.ACL)&&new d.Error(d.Error.OTHER_CAUSE,"ACL must be a Bmob.ACL.")},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=p.extend({},this.attributes,t);var i=this.validate(t,e);return!i||(e&&e.error?e.error(this,i,e):this.trigger("error",this,i,e),!1)},getACL:function(){return this.get("ACL")},setACL:function(t,e){return this.set("ACL",t,e)}}),d.Object.createWithoutData=function(t,e,i){var a=new d.Object(t);return a.id=e,a._hasData=i,a},d.Object.destroyAll=function(t,e){if(null==t||0==t.length)return d.Promise.as()._thenRunCallbacks(e);var i=t[0].className,a="",n=!0;return t.forEach(function(t){if(t.className!=i)throw"Bmob.Object.destroyAll requires the argument object array's classNames must be the same";if(!t.id)throw"Could not delete unsaved object";n?(a=t.id,n=!1):a=a+","+t.id}),d._request("classes",i,a,"DELETE")._thenRunCallbacks(e)},d.Object._getSubclass=function(t){if(!p.isString(t))throw"Bmob.Object._getSubclass requires a string argument.";var e=d.Object._classMap[t];return e||(e=d.Object.extend(t),d.Object._classMap[t]=e),e},d.Object._create=function(t,e,i){return new(d.Object._getSubclass(t))(e,i)},d.Object._classMap={},d.Object._extend=d._extend,d.Object.extend=function(i,t,e){if(!p.isString(i)){if(i&&p.has(i,"className"))return d.Object.extend(i.className,i,t);throw new Error("Bmob.Object.extend's first argument should be the className.")}"User"===i&&(i="_User");var a=null;if(p.has(d.Object._classMap,i)){var n=d.Object._classMap[i];a=n._extend(t,e)}else(t=t||{}).className=i,a=this._extend(t,e);return a.extend=function(t){if(p.isString(t)||t&&p.has(t,"className"))return d.Object.extend.apply(a,arguments);var e=[i].concat(d._.toArray(arguments));return d.Object.extend.apply(a,e)},d.Object._classMap[i]=a},d.Object._findUnsavedChildren=function(t,e,i){d._traverse(t,function(t){if(t instanceof d.Object)return t._refreshCache(),void(t.dirty()&&e.push(t));t instanceof d.File&&(t.url()||i.push(t))})},d.Object._canBeSerializedAsValue=function(t){var e=!0;return t instanceof d.Object?e=!!t.id:p.isArray(t)?d._arrayEach(t,function(t){d.Object._canBeSerializedAsValue(t)||(e=!1)}):p.isObject(t)&&d._objectEach(t,function(t){d.Object._canBeSerializedAsValue(t)||(e=!1)}),e},d.Object._deepSaveAsync=function(t){var e=[],i=[];d.Object._findUnsavedChildren(t,e,i);var a=d.Promise.as();p.each(i,function(t){a=a.then(function(){return t.save()})});var n=p.uniq(e),r=p.uniq(n);return a.then(function(){return d.Promise._continueWhile(function(){return 0<r.length},function(){var e=[],i=[];if(d._arrayEach(r,function(t){20<e.length?i.push(t):t._canBeSerialized()?e.push(t):i.push(t)}),r=i,0===e.length)return d.Promise.error(new d.Error(d.Error.OTHER_CAUSE,"Tried to save a batch with a cycle."));var t=d.Promise.when(p.map(e,function(t){return t._allPreviousSaves||d.Promise.as()})),a=new d.Promise;return d._arrayEach(e,function(t){t._allPreviousSaves=a}),t._continueWith(function(){return d._request("batch",null,null,"POST",{requests:p.map(e,function(t){var e=t._getSaveJSON(),i="POST",a="/1/classes/"+t.className;return t.id&&(a=a+"/"+t.id,i="PUT"),t._startSave(),{method:i,path:a,body:e}})}).then(function(i,a,n){var r;if(d._arrayEach(e,function(t,e){i[e].success?t._finishSave(t.parse(i[e].success,a,n)):(r=r||i[e].error,t._cancelSave())}),r)return d.Promise.error(new d.Error(r.code,r.error))}).then(function(t){return a.resolve(t),t},function(t){return a.reject(t),d.Promise.error(t)})})})}).then(function(){return t})}}(this),function(t){t.Bmob=t.Bmob||{};var a=t.Bmob,n=a._;a.Role=a.Object.extend("_Role",{constructor:function(t,e){n.isString(t)&&e instanceof a.ACL?(a.Object.prototype.constructor.call(this,null,null),this.setName(t),this.setACL(e)):a.Object.prototype.constructor.call(this,t,e)},getName:function(){return this.get("name")},setName:function(t,e){return this.set("name",t,e)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(t,e){if("name"in t&&t.name!==this.getName()){var i=t.name;if(this.id&&this.id!==t.objectId)return new a.Error(a.Error.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!n.isString(i))return new a.Error(a.Error.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(i))return new a.Error(a.Error.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return!!a.Object.prototype.validate&&a.Object.prototype.validate.call(this,t,e)}})}(this),function(t){t.Bmob=t.Bmob||{};var l=t.Bmob,c=l._;l.Collection=function(t,e){(e=e||{}).comparator&&(this.comparator=e.comparator),e.model&&(this.model=e.model),e.query&&(this.query=e.query),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,{silent:!0,parse:e.parse})},c.extend(l.Collection.prototype,l.Events,{model:l.Object,initialize:function(){},toJSON:function(){return this.map(function(t){return t.toJSON()})},add:function(t,e){var i,a,n,r,s,o,u={},h={};for(e=e||{},i=0,n=(t=c.isArray(t)?t.slice():[t]).length;i<n;i++){if(t[i]=this._prepareModel(t[i],e),!(r=t[i]))throw new Error("Can't add an invalid model to a collection");if(u[s=r.cid]||this._byCid[s])throw new Error("Duplicate cid: can't add the same model to a collection twice");if(o=r.id,!l._isNullOrUndefined(o)&&(h[o]||this._byId[o]))throw new Error("Duplicate id: can't add the same model to a collection twice");h[o]=r,u[s]=r}for(i=0;i<n;i++)(r=t[i]).on("all",this._onModelEvent,this),(this._byCid[r.cid]=r).id&&(this._byId[r.id]=r);if(this.length+=n,a=l._isNullOrUndefined(e.at)?this.models.length:e.at,this.models.splice.apply(this.models,[a,0].concat(t)),this.comparator&&this.sort({silent:!0}),e.silent)return this;for(i=0,n=this.models.length;i<n;i++)u[(r=this.models[i]).cid]&&(e.index=i,r.trigger("add",r,this,e));return this},remove:function(t,e){var i,a,n,r;for(e=e||{},i=0,a=(t=c.isArray(t)?t.slice():[t]).length;i<a;i++)(r=this.getByCid(t[i])||this.get(t[i]))&&(delete this._byId[r.id],delete this._byCid[r.cid],n=this.indexOf(r),this.models.splice(n,1),this.length--,e.silent||(e.index=n,r.trigger("remove",r,this,e)),this._removeReference(r));return this},get:function(t){return t&&this._byId[t.id||t]},getByCid:function(t){return t&&this._byCid[t.cid||t]},at:function(t){return this.models[t]},sort:function(t){if(t=t||{},!this.comparator)throw new Error("Cannot sort a set without a comparator");var e=c.bind(this.comparator,this);return 1===this.comparator.length?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("reset",this,t),this},pluck:function(e){return c.map(this.models,function(t){return t.get(e)})},reset:function(t,e){var i=this;return t=t||[],e=e||{},l._arrayEach(this.models,function(t){i._removeReference(t)}),this._reset(),this.add(t,{silent:!0,parse:e.parse}),e.silent||this.trigger("reset",this,e),this},fetch:function(e){void 0===(e=c.clone(e)||{}).parse&&(e.parse=!0);var i=this;return(this.query||new l.Query(this.model)).find().then(function(t){return e.add?i.add(t,e):i.reset(t,e),i})._thenRunCallbacks(e,this)},create:function(a,n){var r=this;if(n=n?c.clone(n):{},!(a=this._prepareModel(a,n)))return!1;n.wait||r.add(a,n);var s=n.success;return n.success=function(t,e,i){n.wait&&r.add(t,n),s?s(t,e):t.trigger("sync",a,e,n)},a.save(null,n),a},parse:function(t,e){return t},chain:function(){return c(this.models).chain()},_reset:function(t){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(t,e){if(t instanceof l.Object)t.collection||(t.collection=this);else{var i=t;(t=new(e.collection=this).model(i,e))._validate(t.attributes,e)||(t=!1)}return t},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,a){("add"!==t&&"remove"!==t||i===this)&&("destroy"===t&&this.remove(e,a),e&&"change:objectId"===t&&(delete this._byId[e.previous("objectId")],this._byId[e.id]=e),this.trigger.apply(this,arguments))}});l._arrayEach(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"],function(t){l.Collection.prototype[t]=function(){return c[t].apply(c,[this.models].concat(c.toArray(arguments)))}}),l.Collection.extend=l._extend}(this),function(t){t.Bmob=t.Bmob||{};var n=t.Bmob,o=n._;n.View=function(t){this.cid=o.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()};var u=/^(\S+)\s*(.*)$/,a=["model","collection","el","id","attributes","className","tagName"];o.extend(n.View.prototype,n.Events,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(t,e,i){var a=document.createElement(t);return e&&n.$(a).attr(e),i&&n.$(a).html(i),a},setElement:function(t,e){return this.$el=n.$(t),this.el=this.$el[0],!1!==e&&this.delegateEvents(),this},delegateEvents:function(r){if(r=r||n._getValue(this,"events")){this.undelegateEvents();var s=this;n._objectEach(r,function(t,e){if(o.isFunction(t)||(t=s[r[e]]),!t)throw new Error('Event "'+r[e]+'" does not exist');var i=e.match(u),a=i[1],n=i[2];t=o.bind(t,s),a+=".delegateEvents"+s.cid,""===n?s.$el.bind(a,t):s.$el.delegate(n,a,t)})}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=o.extend({},this.options,e));var i=this;o.each(a,function(t){e[t]&&(i[t]=e[t])}),this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var t=n._getValue(this,"attributes")||{};this.id&&(t.id=this.id),this.className&&(t.class=this.className),this.setElement(this.make(this.tagName,t),!1)}}}),n.View.extend=n._extend}(this),function(t){t.Bmob=t.Bmob||{};var o=t.Bmob,u=o._;o.User=o.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(t){t.sessionToken&&(this._sessionToken=t.sessionToken,delete t.sessionToken),o.User.__super__._mergeMagicFields.call(this,t)},_cleanupAuthData:function(){if(this.isCurrent()){var i=this.get("authData");i&&o._objectEach(this.get("authData"),function(t,e){i[e]||delete i[e]})}},_synchronizeAllAuthData:function(){if(this.get("authData")){var i=this;o._objectEach(this.get("authData"),function(t,e){i._synchronizeAuthData(e)})}},_synchronizeAuthData:function(t){if(this.isCurrent()){var e;u.isString(t)?(e=t,t=o.User._authProviders[e]):e=t.getAuthType();var i=this.get("authData");if(i&&t)t.restoreAuthentication(i[e])||this._unlinkFrom(t)}},_handleSaveResult:function(t){t&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),(t||this.isCurrent())&&o.User._saveCurrentUser(this)},_linkWith:function(t,i){var e;if(u.isString(t)?(e=t,t=o.User._authProviders[t]):e=t.getAuthType(),u.has(i,"authData")){var a=this.get("authData")||{};a[e]=i.authData,this.set("authData",a);var n=u.clone(i)||{};return n.success=function(t){t._handleSaveResult(!0),i.success&&i.success.apply(this,arguments)},this.save({authData:a},n)}var r=this,s=new o.Promise;return t.authenticate({success:function(t,e){r._linkWith(t,{authData:e,success:i.success,error:i.error}).then(function(){s.resolve(r)})},error:function(t,e){i.error&&i.error(r,e),s.reject(e)}}),s},_unlinkFrom:function(e,i){u.isString(e)?(e,e=o.User._authProviders[e]):e.getAuthType();var t=u.clone(i),a=this;return t.authData=null,t.success=function(t){a._synchronizeAuthData(e),i.success&&i.success.apply(this,arguments)},this._linkWith(e,t)},_isLinked:function(t){var e;return e=u.isString(t)?t:t.getAuthType(),!!(this.get("authData")||{})[e]},_logOutWithAll:function(){if(this.get("authData")){var i=this;o._objectEach(this.get("authData"),function(t,e){i._logOutWith(e)})}},_logOutWith:function(t){this.isCurrent()&&(u.isString(t)&&(t=o.User._authProviders[t]),t&&t.deauthenticate&&t.deauthenticate())},signUp:function(t,e){var i;e=e||{};var a=t&&t.username||this.get("username");if(!a||""===a)return i=new o.Error(o.Error.OTHER_CAUSE,"Cannot sign up user with an empty name."),e&&e.error&&e.error(this,i),o.Promise.error(i);var n=t&&t.password||this.get("password");if(!n||""===n)return i=new o.Error(o.Error.OTHER_CAUSE,"Cannot sign up user with an empty password."),e&&e.error&&e.error(this,i),o.Promise.error(i);var r=u.clone(e);return r.success=function(t){t._handleSaveResult(!0),e.success&&e.success.apply(this,arguments)},this.save(t,r)},logIn:function(t){var n=this;return o._request("login",null,null,"GET",this.toJSON()).then(function(t,e,i){var a=n.parse(t,e,i);return n._finishFetch(a),n._handleSaveResult(!0),n})._thenRunCallbacks(t,this)},save:function(t,e,i){var a,n;u.isObject(t)||u.isNull(t)||u.isUndefined(t)?(a=t,n=e):((a={})[t]=e,n=i),n=n||{};var r=u.clone(n);return r.success=function(t){t._handleSaveResult(!1),n.success&&n.success.apply(this,arguments)},o.Object.prototype.save.call(this,a,r)},fetch:function(e){var t=e?u.clone(e):{};return t.success=function(t){t._handleSaveResult(!1),e&&e.success&&e.success.apply(this,arguments)},o.Object.prototype.fetch.call(this,t)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},setUsername:function(t,e){return this.set("username",t,e)},setPassword:function(t,e){return this.set("password",t,e)},getEmail:function(){return this.get("email")},setEmail:function(t,e){return this.set("email",t,e)},authenticated:function(){return!!this._sessionToken&&o.User.current()&&o.User.current().id===this.id}},{_currentUser:null,_currentUserMatchesDisk:!1,_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(t,e,i,a){return(i=i||{}).username=t,i.password=e,o.Object._create("_User").signUp(i,a)},logIn:function(t,e,i){var a=o.Object._create("_User");return a._finishFetch({username:t,password:e}),a.logIn(i)},logOut:function(){null!==o.User._currentUser&&(o.User._currentUser._logOutWithAll(),o.User._currentUser._isCurrentUser=!1),o.User._currentUserMatchesDisk=!0,o.User._currentUser=null,o.localStorage.removeItem(o._getBmobPath(o.User._CURRENT_USER_KEY))},requestPasswordReset:function(t,e){var i={email:t};return o._request("requestPasswordReset",null,null,"POST",i)._thenRunCallbacks(e)},requestEmailVerify:function(t,e){var i={email:t};return o._request("requestEmailVerify",null,null,"POST",i)._thenRunCallbacks(e)},current:function(){if(o.User._currentUser)return o.User._currentUser;if(o.User._currentUserMatchesDisk)return o.User._currentUser;o.User._currentUserMatchesDisk=!0;var t=o.localStorage.getItem(o._getBmobPath(o.User._CURRENT_USER_KEY));if(!t)return null;o.User._currentUser=o.Object._create("_User"),o.User._currentUser._isCurrentUser=!0;var e=JSON.parse(t);return o.User._currentUser.id=e._id,delete e._id,o.User._currentUser._sessionToken=e._sessionToken,delete e._sessionToken,o.User._currentUser.set(e),o.User._currentUser._synchronizeAllAuthData(),o.User._currentUser._refreshCache(),o.User._currentUser._opSetQueue=[{}],o.User._currentUser},_saveCurrentUser:function(t){o.User._currentUser!==t&&o.User.logOut(),t._isCurrentUser=!0,o.User._currentUser=t,o.User._currentUserMatchesDisk=!0;var e=t.toJSON();e._id=t.id,e._sessionToken=t._sessionToken,o.localStorage.setItem(o._getBmobPath(o.User._CURRENT_USER_KEY),JSON.stringify(e))},_registerAuthenticationProvider:function(t){o.User._authProviders[t.getAuthType()]=t,o.User.current()&&o.User.current()._synchronizeAuthData(t.getAuthType())},_logInWith:function(t,e){return o.Object._create("_User")._linkWith(t,e)}})}(this),function(t){t.Bmob=t.Bmob||{};var r=t.Bmob,s=r._;r.Query=function(t){s.isString(t)&&(t=r.Object._getSubclass(t)),this.objectClass=t,this.className=t.prototype.className,this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}},r.Query.or=function(){var t=s.toArray(arguments),e=null;r._arrayEach(t,function(t){if(s.isNull(e)&&(e=t.className),e!==t.className)throw"All queries must be for the same class"});var i=new r.Query(e);return i._orQuery(t),i},r.Query._extend=r._extend,r.Query.prototype={_processResult:function(t){return t},get:function(t,e){return this.equalTo("objectId",t),this.first().then(function(t){if(t)return t;var e=new r.Error(r.Error.OBJECT_NOT_FOUND,"Object not found.");return r.Promise.error(e)})._thenRunCallbacks(e,null)},toJSON:function(){var i={where:this._where};return 0<this._include.length&&(i.include=this._include.join(",")),this._select&&(i.keys=this._select.join(",")),0<=this._limit&&(i.limit=this._limit),0<this._skip&&(i.skip=this._skip),void 0!==this._order&&(i.order=this._order),r._objectEach(this._extraOptions,function(t,e){i[e]=t}),i},_newObject:function(t){return t&&t.className?obj=new r.Object(t.className):obj=new this.objectClass,obj},_createRequest:function(t){return r._request("classes",this.className,null,"GET",t||this.toJSON())},find:function(t){var a=this;return this._createRequest().then(function(i){return s.map(i.results,function(t){var e=a._newObject(i);return e._finishFetch(a._processResult(t),!0),e})})._thenRunCallbacks(t)},destroyAll:function(t){return this.find().then(function(t){return r.Object.destroyAll(t)})._thenRunCallbacks(t)},count:function(t){var e=this.toJSON();return e.limit=0,e.count=1,this._createRequest(e).then(function(t){return t.count})._thenRunCallbacks(t)},first:function(t){var i=this,e=this.toJSON();return e.limit=1,this._createRequest(e).then(function(t){return s.map(t.results,function(t){var e=i._newObject();return e._finishFetch(i._processResult(t),!0),e})[0]})._thenRunCallbacks(t)},collection:function(t,e){return e=e||{},new r.Collection(t,s.extend(e,{model:this._objectClass||this.objectClass,query:this}))},skip:function(t){return this._skip=t,this},limit:function(t){return this._limit=t,this},equalTo:function(t,e){return this._where[t]=r._encode(e),this},_addCondition:function(t,e,i){return this._where[t]||(this._where[t]={}),this._where[t][e]=r._encode(i),this},notEqualTo:function(t,e){return this._addCondition(t,"$ne",e),this},lessThan:function(t,e){return this._addCondition(t,"$lt",e),this},greaterThan:function(t,e){return this._addCondition(t,"$gt",e),this},lessThanOrEqualTo:function(t,e){return this._addCondition(t,"$lte",e),this},greaterThanOrEqualTo:function(t,e){return this._addCondition(t,"$gte",e),this},containedIn:function(t,e){return this._addCondition(t,"$in",e),this},notContainedIn:function(t,e){return this._addCondition(t,"$nin",e),this},containsAll:function(t,e){return this._addCondition(t,"$all",e),this},exists:function(t){return this._addCondition(t,"$exists",!0),this},doesNotExist:function(t){return this._addCondition(t,"$exists",!1),this},matches:function(t,e,i){return this._addCondition(t,"$regex",e),i||(i=""),e.ignoreCase&&(i+="i"),e.multiline&&(i+="m"),i&&i.length&&this._addCondition(t,"$options",i),this},matchesQuery:function(t,e){var i=e.toJSON();return i.className=e.className,this._addCondition(t,"$inQuery",i),this},doesNotMatchQuery:function(t,e){var i=e.toJSON();return i.className=e.className,this._addCondition(t,"$notInQuery",i),this},matchesKeyInQuery:function(t,e,i){var a=i.toJSON();return a.className=i.className,this._addCondition(t,"$select",{key:e,query:a}),this},doesNotMatchKeyInQuery:function(t,e,i){var a=i.toJSON();return a.className=i.className,this._addCondition(t,"$dontSelect",{key:e,query:a}),this},_orQuery:function(t){var e=s.map(t,function(t){return t.toJSON().where});return this._where.$or=e,this},_quote:function(t){return"\\Q"+t.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(t,e){return this._addCondition(t,"$regex",this._quote(e)),this},startsWith:function(t,e){return this._addCondition(t,"$regex","^"+this._quote(e)),this},endsWith:function(t,e){return this._addCondition(t,"$regex",this._quote(e)+"$"),this},ascending:function(t){return r._isNullOrUndefined(this._order)?this._order=t:this._order=this._order+","+t,this},cleanOrder:function(t){return this._order=null,this},descending:function(t){return r._isNullOrUndefined(this._order)?this._order="-"+t:this._order=this._order+",-"+t,this},near:function(t,e){return e instanceof r.GeoPoint||(e=new r.GeoPoint(e)),this._addCondition(t,"$nearSphere",e),this},withinRadians:function(t,e,i){return this.near(t,e),this._addCondition(t,"$maxDistance",i),this},withinMiles:function(t,e,i){return this.withinRadians(t,e,i/3958.8)},withinKilometers:function(t,e,i){return this.withinRadians(t,e,i/6371)},withinGeoBox:function(t,e,i){return e instanceof r.GeoPoint||(e=new r.GeoPoint(e)),i instanceof r.GeoPoint||(i=new r.GeoPoint(i)),this._addCondition(t,"$within",{$box:[e,i]}),this},include:function(){var e=this;return r._arrayEach(arguments,function(t){s.isArray(t)?e._include=e._include.concat(t):e._include.push(t)}),this},select:function(){var e=this;return this._select=this._select||[],r._arrayEach(arguments,function(t){s.isArray(t)?e._select=e._select.concat(t):e._select.push(t)}),this},each:function(i,t){if(t=t||{},this._order||this._skip||0<=this._limit){return r.Promise.error("Cannot iterate on a query with sort, skip, or limit.")._thenRunCallbacks(t)}new r.Promise;var a=new r.Query(this.objectClass);a._limit=t.batchSize||100,a._where=s.clone(this._where),a._include=s.clone(this._include),a.ascending("objectId");var n=!1;return r.Promise._continueWhile(function(){return!n},function(){return a.find().then(function(t){var e=r.Promise.as();return r._.each(t,function(t){e=e.then(function(){return i(t)})}),e.then(function(){t.length>=a._limit?a.greaterThan("objectId",t[t.length-1].id):n=!0})})})._thenRunCallbacks(t)}},r.FriendShipQuery=r.Query._extend({_objectClass:r.User,_newObject:function(){return new r.User},_processResult:function(t){var e=t[this._friendshipTag];return"Pointer"===e.__type&&"_User"===e.className&&(delete e.__type,delete e.className),e}})}(this),function(t){t.Bmob=t.Bmob||{};var s=t.Bmob,o=s._;s.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")};var u=/^[#\/]/,h=/msie [\w.]+/;s.History.started=!1,o.extend(s.History.prototype,s.Events,{interval:50,getHash:function(t){var e=(t?t.location:window.location).href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(s._isNullOrUndefined(t))if(this._hasPushState||e){t=window.location.pathname;var i=window.location.search;i&&(t+=i)}else t=this.getHash();return t.indexOf(this.options.root)||(t=t.substr(this.options.root.length)),t.replace(u,"")},start:function(t){if(s.History.started)throw new Error("Bmob.history has already been started");s.History.started=!0,this.options=o.extend({},{root:"/"},this.options,t),this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var e=this.getFragment(),i=document.documentMode,a=h.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);a&&(this.iframe=s.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e)),this._hasPushState?s.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!a?s.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=window.setInterval(this.checkUrl,this.interval)),this.fragment=e;var n=window.location,r=n.pathname===this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!r?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&r&&n.hash&&(this.fragment=this.getHash().replace(u,""),window.history.replaceState({},document.title,n.protocol+"//"+n.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){s.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),window.clearInterval(this._checkUrlInterval),s.History.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(t){var e=this.fragment=this.getFragment(t);return o.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(t,e){if(!s.History.started)return!1;e&&!0!==e||(e={trigger:e});var i=(t||"").replace(u,"");if(this.fragment!==i){if(this._hasPushState){0!==i.indexOf(this.options.root)&&(i=this.options.root+i),this.fragment=i;var a=e.replace?"replaceState":"pushState";window.history[a]({},document.title,i)}else this._wantsHashChange?(this.fragment=i,this._updateHash(window.location,i,e.replace),this.iframe&&i!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,i,e.replace))):window.location.assign(this.options.root+t);e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,i){if(i){var a=t.toString().replace(/(javascript:|#).*$/,"");t.replace(a+"#"+e)}else t.hash=e}})}(this),function(t){t.Bmob=t.Bmob||{};var r=t.Bmob,e=r._;r.Router=function(t){(t=t||{}).routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)};var i=/:\w+/g,a=/\*\w+/g,n=/[\-\[\]{}()+?.,\\\^\$\|#\s]/g;e.extend(r.Router.prototype,r.Events,{initialize:function(){},route:function(i,a,n){return r.history=r.history||new r.History,e.isRegExp(i)||(i=this._routeToRegExp(i)),n||(n=this[a]),r.history.route(i,e.bind(function(t){var e=this._extractParameters(i,t);n&&n.apply(this,e),this.trigger.apply(this,["route:"+a].concat(e)),r.history.trigger("route",this,a,e)},this)),this},navigate:function(t,e){r.history.navigate(t,e)},_bindRoutes:function(){if(this.routes){var t=[];for(var e in this.routes)this.routes.hasOwnProperty(e)&&t.unshift([e,this.routes[e]]);for(var i=0,a=t.length;i<a;i++)this.route(t[i][0],t[i][1],this[t[i][1]])}},_routeToRegExp:function(t){return t=t.replace(n,"\\$&").replace(i,"([^/]+)").replace(a,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){return t.exec(e).slice(1)}}),r.Router.extend=r._extend}(this),function(t){t.Bmob=t.Bmob||{};var i=t.Bmob,e=i._;i.Image=i.Image||{},e.extend(i.Image,{thumbnail:function(t,e){return i._request("images/thumbnail",null,null,"POST",i._encode(t,null,!0)).then(function(t){return t})},watermark:function(t,e){return i._request("images/watermark",null,null,"POST",i._encode(t,null,!0)).then(function(t){return t})}})}(this),function(t){t.Bmob=t.Bmob||{};var a=t.Bmob,e=a._;a.Sms=a.Sms||{},e.extend(a.Sms,{requestSms:function(t,e){return a._request("requestSms",null,null,"POST",a._encode(t,null,!0)).then(function(t){return a._decode(null,t)})._thenRunCallbacks(e)},requestSmsCode:function(t,e){return a._request("requestSmsCode",null,null,"POST",a._encode(t,null,!0)).then(function(t){return a._decode(null,t)})._thenRunCallbacks(e)},verifySmsCode:function(t,e,i){return data={mobilePhoneNumber:t},a._request("verifySmsCode/"+e,null,null,"POST",a._encode(data,null,!0)).then(function(t){return a._decode(null,t)})._thenRunCallbacks(i)},querySms:function(t,e){return a._request("querySms/"+t,null,null,"GET",null).then(function(t){return a._decode(null,t)})._thenRunCallbacks(e)}})}(this),function(t){t.Bmob=t.Bmob||{};var r=t.Bmob,e=r._;r.Pay=r.Pay||{},e.extend(r.Pay,{webPay:function(t,e,i,a){var n={order_price:t,product_name:e,body:i};return r._request("webpay",null,null,"POST",r._encode(n,null,!0)).then(function(t){return r._decode(null,t)})._thenRunCallbacks(a)},queryOrder:function(t,e){return r._request("pay/"+t,null,null,"GET",null).then(function(t){return r._decode(null,t)})._thenRunCallbacks(e)}})}(this),function(t){t.Bmob=t.Bmob||{};var a=t.Bmob,e=a._;a.Cloud=a.Cloud||{},e.extend(a.Cloud,{run:function(t,e,i){return a._request("functions",t,null,"POST",a._encode(e,null,!0)).then(function(t){return a._decode(null,t).result})._thenRunCallbacks(i)}})}(this),function(t){t.Bmob=t.Bmob||{};var i=t.Bmob;i.Installation=i.Object.extend("_Installation"),i.Push=i.Push||{},i.Push.send=function(t,e){if(t.where&&(t.where=t.where.toJSON().where),t.push_time&&(t.push_time=t.push_time.toJSON()),t.expiration_time&&(t.expiration_time=t.expiration_time.toJSON()),t.expiration_time&&t.expiration_time_interval)throw"Both expiration_time and expiration_time_interval can't be set";return i._request("push",null,null,"POST",t)._thenRunCallbacks(e)}}(this),Bmob.initialize("001e1f44748bc68b93e1872bdf1750cc","1164553d68b767c5de72a5042c3c7bc9");var localName,viewporter,GameScore=Bmob.Object.extend("ScoreRecord"),localScore=0;function showCommitScore(){var t=$("#inputId"),e=$("#canvas").width(),i=$("#canvas").height()/700;t.css("width",e),t.css("height",135*i+"px"),t.css("margin-top",-210*i+"px"),t.css("margin-left",-e/2+"px"),t.css("line-height",34*i+"px"),t.show()}function showRank(){var t=$("#ranking"),n=$(".Rank"),r=$(".RankScore"),e=$("#myRank"),i=$("#canvas").width(),a=$("#canvas").height(),s=i/450,o=a/700,u=255*o;t.css("width",i),t.css("height",a),t.css("margin-top",-u+"px"),t.css("margin-left",-i/2+"px"),t.css("line-height",60*o+"px");var h=$("#kkRankName");h.css("margin-left",182*s+"px"),h.css("width",i-182*s+"px"),h.css("height",60*o+"px");var l=$("#kkRankScore");l.css("margin-right",60*s);n.css("margin-left",130*s+"px"),n.css("width",i-130*s),n.css("height",60*o+"px"),r.css("margin-right",90*s),e.css("margin-top",36*o+"px"),e.css("width",i),e.css("height",60*o+"px"),t.show(),void 0===localName?$(n.eq(7)).text("无"):("9510171017"===localName?$(n.eq(7)).text("冯款款"):$(n.eq(7)).text(localName.substring(0,7)),$(r.eq(7)).text(localScore));var c=new Bmob.Query(GameScore);c.descending("score"),c.limit(7),c.find({success:function(t){for(var e=0;e<t.length;e++){var i=t[e],a=i.get("userName");"9510171017"===a&&(a="冯款款"),$(n.eq(e)).text(e+1+" "+a.substring(0,7)),$(r.eq(e)).text(i.get("score"))}},error:function(t){}});var d=new Bmob.Query(GameScore);d.descending("score"),d.equalTo("userName","9510171017"),d.first({success:function(t){t&&l.text(t.get("score"))},error:function(t){}})}function hideRank(){$("#ranking").hide()}function hideInputId(){$("#inputId").hide()}function commitInputName(){if(void 0!==(localName=$("#inputName").val())&&""!==localName){var t=new GameScore;t.set("score",localScore),t.set("userName",localName+""),t.save(null,{success:function(t){},error:function(t,e){console.log(e)}}),hideInputId()}}function launchFullscreen(t){t.style.backgroundImage="url('images/bg.jpg')",t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}function goHome(){}function clickMore(){}function dp_share(){}function dp_Ranking(){}function showAd(){}function hideAd(){}function onInputName(t){console.log("打印分数"+t),localScore=t,initCommitScore()}function dp_submitScore(t){}function updateShare(t){var e="";switch(!0){case 2e4<t:e="我跑了"+t+"米，跑到人生巅峰，已载入史册！";break;case 1e4<t:e="我跑了"+t+"米，跑出了自己的风格！";break;case 5e3<t:e="我跑了"+t+"米，请问终点在哪里？";break;case 0<t:e="我跑了"+t+"米，手一抖就撞墙了！不要问我头疼不疼！";break;default:e="没事儿我就出来跑一跑，求个偶遇，缘分这种事谁说得清呢？"}return e}window.onresize=function(){"block"===$("#ranking").css("display")&&showRank(),"block"===$("#inputId").css("display")&&showCommitScore()},(window._gsQueue||(window._gsQueue=[])).push(function(){"use strict";var t,x,g,w,D,I,_,v,S,y,b,p,f,T,e;window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,l,f){var m=[].slice,g=function(t,e,i){f.call(this,t,e,i),this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=g.prototype.render},_=function(t){return t.jquery||t.length&&t!==window&&t[0]&&(t[0]===window||t[0].nodeType&&t[0].style&&!t.nodeType)},t=g.prototype=f.to({},.1,{}),v=[];g.version="1.10.2",t.constructor=g,t.kill()._gc=!1,g.killTweensOf=g.killDelayedCallsTo=f.killTweensOf,g.getTweensOf=f.getTweensOf,g.ticker=f.ticker,t.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),f.prototype.invalidate.call(this)},t.updateTo=function(t,e){var i,a=this.ratio;for(i in e&&this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),t)this.vars[i]=t[i];if(this._initted)if(e)this._initted=!1;else if(this._notifyPluginsOfEnabled&&this._firstPT&&f._onPluginEvent("_onDisable",this),.998<this._time/this._duration){var n=this._time;this.render(0,!0,!1),this._initted=!1,this.render(n,!0,!1)}else if(0<this._time){this._initted=!1,this._init();for(var r,s=1/(1-a),o=this._firstPT;o;)r=o.s+o.c,o.c*=s,o.s=r-o.c,o=o._next}return this},t.render=function(t,e,i){var a,n,r,s,o,u,h,l=this._dirty?this.totalDuration():this._totalDuration,c=this._time,d=this._totalTime,p=this._cycle;if(l<=t?(this._totalTime=l,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(a=!0,n="onComplete"),0===this._duration&&((0===t||this._rawPrevTime<0)&&this._rawPrevTime!==t&&(i=!0,0<this._rawPrevTime&&(n="onReverseComplete",e&&(t=-1))),this._rawPrevTime=t)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==d||0===this._duration&&0<this._rawPrevTime)&&(n="onReverseComplete",a=this._reversed),t<0?(this._active=!1,0===this._duration&&(0<=this._rawPrevTime&&(i=!0),this._rawPrevTime=t)):this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(s=this._duration+this._repeatDelay,this._cycle=this._totalTime/s>>0,0!==this._cycle&&this._cycle===this._totalTime/s&&this._cycle--,this._time=this._totalTime-this._cycle*s,this._yoyo&&0!=(1&this._cycle)&&(this._time=this._duration-this._time),this._time>this._duration?this._time=this._duration:this._time<0&&(this._time=0)),this._easeType?(o=this._time/this._duration,(1===(u=this._easeType)||3===u&&.5<=o)&&(o=1-o),3===u&&(o*=2),1===(h=this._easePower)?o*=o:2===h?o*=o*o:3===h?o*=o*o*o:4===h&&(o*=o*o*o*o),this.ratio=1===u?1-o:2===u?o:this._time/this._duration<.5?o/2:1-o/2):this.ratio=this._ease.getRatio(this._time/this._duration)),c!==this._time||i){if(!this._initted){if(this._init(),!this._initted)return;this._time&&!a?this.ratio=this._ease.getRatio(this._time/this._duration):a&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==c&&0<=t&&(this._active=!0),0===d&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===this._duration)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||v))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&this._startAt.render(t,e,i),e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||v)),this._cycle!==p&&(e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||v)),n&&(this._gc||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,e,i),a&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this.vars[n].apply(this.vars[n+"Scope"]||this,this.vars[n+"Params"]||v)))}else d!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||v))},g.to=function(t,e,i){return new g(t,e,i)},g.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new g(t,e,i)},g.fromTo=function(t,e,i,a){return a.startAt=i,a.immediateRender=0!=a.immediateRender&&0!=i.immediateRender,new g(t,e,a)},g.staggerTo=g.allTo=function(t,e,i,a,n,r,s){a=a||0;var o,u,h,l,c=i.delay||0,d=[],p=function(){i.onComplete&&i.onComplete.apply(i.onCompleteScope||this,arguments),n.apply(s||this,r||v)};for(t instanceof Array||("string"==typeof t&&(t=f.selector(t)||t),_(t)&&(t=m.call(t,0))),o=t.length,h=0;h<o;h++){for(l in u={},i)u[l]=i[l];u.delay=c,h===o-1&&n&&(u.onComplete=p),d[h]=new g(t[h],e,u),c+=a}return d},g.staggerFrom=g.allFrom=function(t,e,i,a,n,r,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,g.staggerTo(t,e,i,a,n,r,s)},g.staggerFromTo=g.allFromTo=function(t,e,i,a,n,r,s,o){return a.startAt=i,a.immediateRender=0!=a.immediateRender&&0!=i.immediateRender,g.staggerTo(t,e,a,n,r,s,o)},g.delayedCall=function(t,e,i,a,n){return new g(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:a,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:a,immediateRender:!1,useFrames:n,overwrite:0})},g.set=function(t,e){return new g(t,0,e)},g.isTweening=function(t){for(var e,i=f.getTweensOf(t),a=i.length;-1<--a;)if((e=i[a])._active||e._startTime===e._timeline._time&&e._timeline._active)return!0;return!1};var r=function(t,e){for(var i=[],a=0,n=t._first;n;)n instanceof f?i[a++]=n:(e&&(i[a++]=n),a=(i=i.concat(r(n,e))).length),n=n._next;return i},c=g.getAllTweens=function(t){return r(a._rootTimeline,t).concat(r(a._rootFramesTimeline,t))};g.killAll=function(t,e,i,a){null==e&&(e=!0),null==i&&(i=!0);var n,r,s,o=c(0!=a),u=o.length,h=e&&i&&a;for(s=0;s<u;s++)r=o[s],(h||r instanceof l||(n=r.target===r.vars.onComplete)&&i||e&&!n)&&(t?r.totalTime(r.totalDuration()):r._enabled(!1,!1))},g.killChildTweensOf=function(t,e){if(null!=t){var i,a,n,r,s,o=f._tweenLookup;if("string"==typeof t&&(t=f.selector(t)||t),_(t)&&(t=m(t,0)),t instanceof Array)for(r=t.length;-1<--r;)g.killChildTweensOf(t[r],e);else{for(n in i=[],o)for(a=o[n].target.parentNode;a;)a===t&&(i=i.concat(o[n].tweens)),a=a.parentNode;for(s=i.length,r=0;r<s;r++)e&&i[r].totalTime(i[r].totalDuration()),i[r]._enabled(!1,!1)}}};var n=function(t,e,i,a){e=!1!==e,i=!1!==i;for(var n,r,s=c(a=!1!==a),o=e&&i&&a,u=s.length;-1<--u;)r=s[u],(o||r instanceof l||(n=r.target===r.vars.onComplete)&&i||e&&!n)&&r.paused(t)};return g.pauseAll=function(t,e,i){n(!0,t,e,i)},g.resumeAll=function(t,e,i){n(!1,t,e,i)},g.globalTimeScale=function(t){var e=a._rootTimeline,i=f.ticker.time;return arguments.length?(t=t||1e-6,e._startTime=i-(i-e._startTime)*e._timeScale/t,e=a._rootFramesTimeline,i=f.ticker.frame,e._startTime=i-(i-e._startTime)*e._timeScale/t,e._timeScale=a._rootTimeline._timeScale=t,t):e._timeScale},t.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},t.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},t.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},t.duration=function(t){return arguments.length?a.prototype.duration.call(this,t):this._duration},t.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},t.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},t.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},t.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},g},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(h,l,c){var d=function(t){l.call(this,t),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var e,i,a=this.vars;for(i in a)(e=a[i])instanceof Array&&-1!==e.join("").indexOf("{self}")&&(a[i]=this._swapSelfInParams(e));a.tweens instanceof Array&&this.add(a.tweens,0,a.align,a.stagger)},p=[],f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},n=function(t,e,i,a){t._timeline.pause(t._startTime),e&&e.apply(a||t._timeline,i||p)},m=p.slice,t=d.prototype=new l;return d.version="1.10.2",t.constructor=d,t.kill()._gc=!1,t.to=function(t,e,i,a){return e?this.add(new c(t,e,i),a):this.set(t,i,a)},t.from=function(t,e,i,a){return this.add(c.from(t,e,i),a)},t.fromTo=function(t,e,i,a,n){return e?this.add(c.fromTo(t,e,i,a),n):this.set(t,a,n)},t.staggerTo=function(t,e,i,a,n,r,s,o){var u,h=new d({onComplete:r,onCompleteParams:s,onCompleteScope:o});for("string"==typeof t&&(t=c.selector(t)||t),!(t instanceof Array)&&t.length&&t!==window&&t[0]&&(t[0]===window||t[0].nodeType&&t[0].style&&!t.nodeType)&&(t=m.call(t,0)),a=a||0,u=0;t.length>u;u++)i.startAt&&(i.startAt=f(i.startAt)),h.to(t[u],e,f(i),u*a);return this.add(h,n)},t.staggerFrom=function(t,e,i,a,n,r,s,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,a,n,r,s,o)},t.staggerFromTo=function(t,e,i,a,n,r,s,o,u){return a.startAt=i,a.immediateRender=0!=a.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,a,n,r,s,o,u)},t.call=function(t,e,i,a){return this.add(c.delayedCall(0,t,e,i),a)},t.set=function(t,e,i){return i=this._parseTimeOrLabel(i,0,!0),null==e.immediateRender&&(e.immediateRender=i===this._time&&!this._paused),this.add(new c(t,0,e),i)},d.exportRoot=function(t,e){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var i,a,n=new d(t),r=n._timeline;for(null==e&&(e=!0),r._remove(n,!0),n._startTime=0,n._rawPrevTime=n._time=n._totalTime=r._time,i=r._first;i;)a=i._next,e&&i instanceof c&&i.target===i.vars.onComplete||n.add(i,i._startTime-i._delay),i=a;return r.add(n,0),n},t.add=function(t,e,i,a){var n,r,s,o,u;if("number"!=typeof e&&(e=this._parseTimeOrLabel(e,0,!0,t)),!(t instanceof h)){if(t instanceof Array){for(i=i||"normal",a=a||0,n=e,r=t.length,s=0;s<r;s++)(o=t[s])instanceof Array&&(o=new d({tweens:o})),this.add(o,n),"string"!=typeof o&&"function"!=typeof o&&("sequence"===i?n=o._startTime+o.totalDuration()/o._timeScale:"start"===i&&(o._startTime-=o.delay())),n+=a;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,e);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is neither a tween, timeline, function, nor a string.";t=c.delayedCall(0,t)}if(l.prototype.add.call(this,t,e),this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration())for(u=this;u._gc&&u._timeline;)u._timeline.smoothChildTiming?u.totalTime(u._totalTime,!0):u._enabled(!0,!1),u=u._timeline;return this},t.remove=function(t){if(t instanceof h)return this._remove(t,!1);if(t instanceof Array){for(var e=t.length;-1<--e;)this.remove(t[e]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},t._remove=function(t,e){return l.prototype._remove.call(this,t,e),this._last?this._time>this._last._startTime&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},t.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},t.insert=t.insertMultiple=function(t,e,i,a){return this.add(t,e||0,i,a)},t.appendMultiple=function(t,e,i,a){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,a)},t.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},t.addPause=function(t,e,i,a){return this.call(n,["{self}",e,i,a],this,t)},t.removeLabel=function(t){return delete this._labels[t],this},t.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},t._parseTimeOrLabel=function(t,e,i,a){var n;if(a instanceof h&&a.timeline===this)this.remove(a);else if(a instanceof Array)for(n=a.length;-1<--n;)a[n]instanceof h&&a[n].timeline===this&&this.remove(a[n]);if("string"==typeof e)return this._parseTimeOrLabel(e,i&&"number"==typeof t&&null==this._labels[e]?t-this.duration():0,i);if(e=e||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(-1===(n=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=this.duration()+e:e:this._labels[t]+e;e=parseInt(t.charAt(n-1)+"1",10)*Number(t.substr(n+1)),t=1<n?this._parseTimeOrLabel(t.substr(0,n-1),0,i):this.duration()}return Number(t)+e},t.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),!1!==e)},t.stop=function(){return this.paused(!0)},t.gotoAndPlay=function(t,e){return this.play(t,e)},t.gotoAndStop=function(t,e){return this.pause(t,e)},t.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var a,n,r,s,o,u=this._dirty?this.totalDuration():this._totalDuration,h=this._time,l=this._startTime,c=this._timeScale,d=this._paused;if(u<=t?(this._totalTime=this._time=u,this._reversed||this._hasPausedChild()||(n=!0,s="onComplete",0===this._duration&&(0===t||this._rawPrevTime<0)&&this._rawPrevTime!==t&&this._first&&(o=!0,0<this._rawPrevTime&&(s="onReverseComplete"))),this._rawPrevTime=t,t=u+1e-6):t<1e-7?(this._totalTime=this._time=0,(0!==h||0===this._duration&&0<this._rawPrevTime)&&(s="onReverseComplete",n=this._reversed),t<0?(this._active=!1,0===this._duration&&0<=this._rawPrevTime&&this._first&&(o=!0),this._rawPrevTime=t):(this._rawPrevTime=t,t=0,this._initted||(o=!0))):this._totalTime=this._time=this._rawPrevTime=t,this._time!==h&&this._first||i||o){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==h&&0<t&&(this._active=!0),0===h&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||p)),this._time>=h)for(a=this._first;a&&(r=a._next,!this._paused||d);)(a._active||a._startTime<=this._time&&!a._paused&&!a._gc)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,i):a.render((t-a._startTime)*a._timeScale,e,i)),a=r;else for(a=this._last;a&&(r=a._prev,!this._paused||d);)(a._active||h>=a._startTime&&!a._paused&&!a._gc)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,i):a.render((t-a._startTime)*a._timeScale,e,i)),a=r;this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||p)),s&&(this._gc||(l===this._startTime||c!==this._timeScale)&&(0===this._time||u>=this.totalDuration())&&(n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||p)))}},t._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof d&&t._hasPausedChild())return!0;t=t._next}return!1},t.getChildren=function(t,e,i,a){a=a||-9999999999;for(var n=[],r=this._first,s=0;r;)a>r._startTime||(r instanceof c?!1!==e&&(n[s++]=r):(!1!==i&&(n[s++]=r),!1!==t&&(s=(n=n.concat(r.getChildren(!0,e,i))).length))),r=r._next;return n},t.getTweensOf=function(t,e){for(var i=c.getTweensOf(t),a=i.length,n=[],r=0;-1<--a;)(i[a].timeline===this||e&&this._contains(i[a]))&&(n[r++]=i[a]);return n},t._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},t.shiftChildren=function(t,e,i){i=i||0;for(var a,n=this._first,r=this._labels;n;)n._startTime>=i&&(n._startTime+=t),n=n._next;if(e)for(a in r)r[a]>=i&&(r[a]+=t);return this._uncache(!0)},t._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),a=i.length,n=!1;-1<--a;)i[a]._kill(t,e)&&(n=!0);return n},t.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;-1<--i;)e[i]._enabled(!1,!1);return!1!==t&&(this._labels={}),this._uncache(!0)},t.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return this},t._enabled=function(t,e){if(t===this._gc)for(var i=this._first;i;)i._enabled(t,!0),i=i._next;return l.prototype._enabled.call(this,t,e)},t.progress=function(t){return arguments.length?this.totalTime(this.duration()*t,!1):this._time/this.duration()},t.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},t.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,a=0,n=this._last,r=999999999999;n;)e=n._prev,n._dirty&&n.totalDuration(),n._startTime>r&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):r=n._startTime,n._startTime<0&&!n._paused&&(a-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),r=0),a<(i=n._startTime+n._totalDuration/n._timeScale)&&(a=i),n=e;this._duration=this._totalDuration=a,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},t.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===h._rootFramesTimeline},t.rawTime=function(){return this._paused||0!==this._totalTime&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,r,t){var i=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},I=[],s=new t(null,null,1,0),h=function(t){for(;t;){if(t._paused)return!0;t=t._timeline}return!1},a=i.prototype=new e;return a.constructor=i,a.kill()._gc=!1,i.version="1.10.2",a.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},a.addCallback=function(t,e,i,a){return this.add(r.delayedCall(0,t,i,a),e)},a.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),a=i.length,n=this._parseTimeOrLabel(e);-1<--a;)i[a]._startTime===n&&i[a]._enabled(!1,!1);return this},a.tweenTo=function(t,e){e=e||{};var i,a,n={ease:s,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1};for(i in e)n[i]=e[i];return n.time=this._parseTimeOrLabel(t),a=new r(this,Math.abs(Number(n.time)-this._time)/this._timeScale||.001,n),n.onStart=function(){a.target.paused(!0),a.vars.time!==a.target.time()&&a.duration(Math.abs(a.vars.time-a.target.time())/a.target._timeScale),e.onStart&&e.onStart.apply(e.onStartScope||a,e.onStartParams||I)},a},a.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],onCompleteScope:this},i.immediateRender=!1!==i.immediateRender;var a=this.tweenTo(e,i);return a.duration(Math.abs(a.vars.time-t)/this._timeScale||.001)},a.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var a,n,r,s,o,u,h=this._dirty?this.totalDuration():this._totalDuration,l=this._duration,c=this._time,d=this._totalTime,p=this._startTime,f=this._timeScale,m=this._rawPrevTime,g=this._paused,_=this._cycle;if(h<=t?(this._locked||(this._totalTime=h,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,s="onComplete",0===l&&(0===t||this._rawPrevTime<0)&&this._rawPrevTime!==t&&this._first&&(o=!0,0<this._rawPrevTime&&(s="onReverseComplete"))),this._rawPrevTime=t,this._yoyo&&0!=(1&this._cycle)?this._time=t=0:t=(this._time=l)+1e-6):t<1e-7?(this._locked||(this._totalTime=this._cycle=0),((this._time=0)!==c||0===l&&0<this._rawPrevTime&&!this._locked)&&(s="onReverseComplete",n=this._reversed),t<0?(this._active=!1,0===l&&0<=this._rawPrevTime&&this._first&&(o=!0),this._rawPrevTime=t):(this._rawPrevTime=t,t=0,this._initted||(o=!0))):(this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=l+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=l-this._time),this._time>l?t=(this._time=l)+1e-6:this._time<0?this._time=t=0:t=this._time))),this._cycle!==_&&!this._locked){var v=this._yoyo&&0!=(1&_),y=v===(this._yoyo&&0!=(1&this._cycle)),b=this._totalTime,w=this._cycle,x=this._rawPrevTime,D=this._time;if(this._totalTime=_*l,_>this._cycle?v=!v:this._totalTime+=l,this._time=c,this._rawPrevTime=0===l?m-1e-5:m,this._cycle=_,this._locked=!0,c=v?0:l,this.render(c,e,0===l),e||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||I),y&&(c=v?l+1e-6:-1e-6,this.render(c,!0,!1)),this._locked=!1,this._paused&&!g)return;this._time=D,this._totalTime=b,this._cycle=w,this._rawPrevTime=x}if(this._time!==c&&this._first||i||o){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==d&&0<t&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._totalTime&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||I)),this._time>=c)for(a=this._first;a&&(r=a._next,!this._paused||g);)(a._active||a._startTime<=this._time&&!a._paused&&!a._gc)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,i):a.render((t-a._startTime)*a._timeScale,e,i)),a=r;else for(a=this._last;a&&(r=a._prev,!this._paused||g);)(a._active||c>=a._startTime&&!a._paused&&!a._gc)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(t-a._startTime)*a._timeScale,e,i):a.render((t-a._startTime)*a._timeScale,e,i)),a=r;this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||I)),s&&(this._locked||this._gc||(p===this._startTime||f!==this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||I)))}else d!==this._totalTime&&this._onUpdate&&(e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||I))},a.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var a,n,r=[],s=this.getChildren(t,e,i),o=0,u=s.length;for(a=0;a<u;a++)(n=s[a])._paused||n._timeline._time>=n._startTime&&n._timeline._time<n._startTime+n._totalDuration/n._timeScale&&(h(n._timeline)||(r[o++]=n));return r},a.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),a=i.length;for(e=0;e<a;e++)if(i[e].time>t)return i[e].name;return null},a.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;-1<--i;)if(t>e[i].time)return e[i].name;return null},a.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},a.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},a.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},a.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},a.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!=(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},a.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},a.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},a.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},a.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},i},!0),x=180/Math.PI,g=Math.PI/180,w=[],D=[],I=[],_={},v=function(t,e,i,a){this.a=t,this.b=e,this.c=i,this.d=a,this.da=a-t,this.ca=i-t,this.ba=e-t},S=function(t,e,i,a){var n={a:t},r={},s={},o={c:a},u=(t+e)/2,h=(e+i)/2,l=(i+a)/2,c=(u+h)/2,d=(h+l)/2,p=(d-c)/8;return n.b=u+(t-u)/4,r.b=c+p,n.c=r.a=(n.b+r.b)/2,r.c=s.a=(c+d)/2,s.b=d-p,o.b=l+(a-l)/4,s.c=o.a=(s.b+o.b)/2,[n,r,s,o]},y=function(t,e,i,a,n){var r,s,o,u,h,l,c,d,p,f,m,g,_,v=t.length-1,y=0,b=t[0].a;for(r=0;r<v;r++)s=(h=t[y]).a,o=h.d,u=t[y+1].d,n?(m=w[r],_=.25*((g=D[r])+m)*e/(a?.5:I[r]||.5),d=o-((l=o-(o-s)*(a?.5*e:0!==m?_/m:0))+(((c=o+(u-o)*(a?.5*e:0!==g?_/g:0))-l)*(3*m/(m+g)+.5)/4||0))):d=o-((l=o-.5*(o-s)*e)+(c=o+.5*(u-o)*e))/2,l+=d,c+=d,h.c=p=l,h.b=0!==r?b:b=h.a+.6*(h.c-h.a),h.da=o-s,h.ca=p-s,h.ba=b-s,i?(f=S(s,b,p,o),t.splice(y,1,f[0],f[1],f[2],f[3]),y+=4):y++,b=c;(h=t[y]).b=b,h.c=b+.4*(h.d-b),h.da=h.d-h.a,h.ca=h.c-h.a,h.ba=b-h.a,i&&(f=S(h.a,b,h.c,h.d),t.splice(y,1,f[0],f[1],f[2],f[3]))},b=function(t,e,i,a){var n,r,s,o,u,h,l=[];if(a)for(r=(t=[a].concat(t)).length;-1<--r;)"string"==typeof(h=t[r][e])&&"="===h.charAt(1)&&(t[r][e]=a[e]+Number(h.charAt(0)+h.substr(2)));if((n=t.length-2)<0)return l[0]=new v(t[0][e],0,0,t[n<-1?0:1][e]),l;for(r=0;r<n;r++)s=t[r][e],o=t[r+1][e],l[r]=new v(s,0,0,o),i&&(u=t[r+2][e],w[r]=(w[r]||0)+(o-s)*(o-s),D[r]=(D[r]||0)+(u-o)*(u-o));return l[r]=new v(t[r][e],0,0,t[r+1][e]),l},p=function(t,e,i,a,n,r){var s,o,u,h,l,c,d,p,f={},m=[],g=r||t[0];for(o in n="string"==typeof n?","+n+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==e&&(e=1),t[0])m.push(o);if(1<t.length){for(p=t[t.length-1],d=!0,s=m.length;-1<--s;)if(o=m[s],.05<Math.abs(g[o]-p[o])){d=!1;break}d&&(t=t.concat(),r&&t.unshift(r),t.push(t[1]),r=t[t.length-3])}for(w.length=D.length=I.length=0,s=m.length;-1<--s;)o=m[s],_[o]=-1!==n.indexOf(","+o+","),f[o]=b(t,o,_[o],r);for(s=w.length;-1<--s;)w[s]=Math.sqrt(w[s]),D[s]=Math.sqrt(D[s]);if(!a){for(s=m.length;-1<--s;)if(_[o])for(c=(u=f[m[s]]).length-1,h=0;h<c;h++)l=u[h+1].da/D[h]+u[h].da/w[h],I[h]=(I[h]||0)+l*l;for(s=I.length;-1<--s;)I[s]=Math.sqrt(I[s])}for(s=m.length,h=i?4:1;-1<--s;)u=f[o=m[s]],y(u,e,i,a,_[o]),d&&(u.splice(0,h),u.splice(u.length-h,h));return f},f=function(t,e,i){for(var a,n,r,s,o,u,h,l,c,d,p,f=1/i,m=t.length;-1<--m;)for(r=(d=t[m]).a,s=d.d-r,o=d.c-r,u=d.b-r,a=n=0,l=1;l<=i;l++)a=n-(n=((h=f*l)*h*s+3*(c=1-h)*(h*o+c*u))*h),e[p=m*i+l-1]=(e[p]||0)+a*a},T=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var a,n,r,s,o,u=e.values||[],h={},l=u[0],c=e.autoRotate||i.vars.orientToBezier;for(a in this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",!0===c?0:Number(c)||0]]:null,l)this._props.push(a);for(r=this._props.length;-1<--r;)a=this._props[r],this._overwriteProps.push(a),n=this._func[a]="function"==typeof t[a],h[a]=n?t[a.indexOf("set")||"function"!=typeof t["get"+a.substr(3)]?a:"get"+a.substr(3)]():parseFloat(t[a]),o||h[a]!==u[0][a]&&(o=h);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?p(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):function(t,e,i){var a,n,r,s,o,u,h,l,c,d,p,f={},m="cubic"===(e=e||"soft")?3:2,g="soft"===e,_=[];if(g&&i&&(t=[i].concat(t)),null==t||m+1>t.length)throw"invalid Bezier data";for(c in t[0])_.push(c);for(u=_.length;-1<--u;){for(f[c=_[u]]=o=[],d=0,l=t.length,h=0;h<l;h++)a=null==i?t[h][c]:"string"==typeof(p=t[h][c])&&"="===p.charAt(1)?i[c]+Number(p.charAt(0)+p.substr(2)):Number(p),g&&1<h&&h<l-1&&(o[d++]=(a+o[d-2])/2),o[d++]=a;for(l=d-m+1,h=d=0;h<l;h+=m)a=o[h],n=o[h+1],r=o[h+2],s=2===m?0:o[h+3],o[d++]=p=3===m?new v(a,n,r,s):new v(a,(2*n+a)/3,(2*n+r)/3,r);o.length=d}return f}(u,e.type,h),this._segCount=this._beziers[a].length,this._timeRes){var d=function(t,e){var i,a,n,r,s=[],o=[],u=0,h=0,l=(e=e>>0||6)-1,c=[],d=[];for(i in t)f(t[i],s,e);for(n=s.length,a=0;a<n;a++)u+=Math.sqrt(s[a]),d[r=a%e]=u,r===l&&(h+=u,c[r=a/e>>0]=d,o[r]=h,u=0,d=[]);return{length:h,lengths:o,segments:c}}(this._beziers,this._timeRes);this._length=d.length,this._lengths=d.lengths,this._segments=d.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(c[0]instanceof Array||(this._autoRotate=c=[c]),r=c.length;-1<--r;)for(s=0;s<3;s++)a=c[r][s],this._func[a]="function"==typeof t[a]&&t[a.indexOf("set")||"function"!=typeof t["get"+a.substr(3)]?a:"get"+a.substr(3)];return!0},set:function(t){var e,i,a,n,r,s,o,u,h,l,c=this._segCount,d=this._func,p=this._target;if(this._timeRes){if(h=this._lengths,l=this._curSeg,t*=this._length,a=this._li,t>this._l2&&a<c-1){for(u=c-1;a<u&&t>=(this._l2=h[++a]););this._l1=h[a-1],this._li=a,this._curSeg=l=this._segments[a],this._s2=l[this._s1=this._si=0]}else if(this._l1>t&&0<a){for(;0<a&&(this._l1=h[--a])>=t;);0===a&&this._l1>t?this._l1=0:a++,this._l2=h[a],this._li=a,this._curSeg=l=this._segments[a],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(e=a,t-=this._l1,a=this._si,t>this._s2&&l.length-1>a){for(u=l.length-1;a<u&&t>=(this._s2=l[++a]););this._s1=l[a-1],this._si=a}else if(this._s1>t&&0<a){for(;0<a&&(this._s1=l[--a])>=t;);0===a&&this._s1>t?this._s1=0:a++,this._s2=l[a],this._si=a}s=(a+(t-this._s1)/(this._s2-this._s1))*this._prec}else s=(t-(e=t<0?0:1<=t?c-1:c*t>>0)*(1/c))*c;for(i=1-s,a=this._props.length;-1<--a;)n=this._props[a],o=(s*s*(r=this._beziers[n][e]).da+3*i*(s*r.ca+i*r.ba))*s+r.a,this._round[n]&&(o=o+(0<o?.5:-.5)>>0),d[n]?p[n](o):p[n]=o;if(this._autoRotate){var f,m,g,_,v,y,b,w=this._autoRotate;for(a=w.length;-1<--a;)n=w[a][2],y=w[a][3]||0,b=!0===w[a][4]?1:x,r=this._beziers[w[a][0]],f=this._beziers[w[a][1]],r&&f&&(r=r[e],f=f[e],m=r.a+(r.b-r.a)*s,m+=((_=r.b+(r.c-r.b)*s)-m)*s,_+=(r.c+(r.d-r.c)*s-_)*s,g=f.a+(f.b-f.a)*s,g+=((v=f.b+(f.c-f.b)*s)-g)*s,v+=(f.c+(f.d-f.c)*s-v)*s,o=Math.atan2(v-g,_-m)*b+y,d[n]?p[n](o):p[n]=o)}}}),e=T.prototype,T.bezierThrough=p,T.cubicToQuadratic=S,T._autoCSS=!0,T.quadraticToCubic=function(t,e,i){return new v(t,(2*e+t)/3,(2*e+i)/3,i)},T._cssRegister=function(){var t=window._gsDefine.globals.CSSPlugin;if(t){var e=t._internals,p=e._parseToProxy,f=e._setPluginRatio,m=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,i,a,n,r){e instanceof Array&&(e={values:e}),r=new T;var s,o,u,h=e.values,l=h.length-1,c=[],d={};if(l<0)return n;for(s=0;s<=l;s++)u=p(t,h[s],a,n,r,l!==s),c[s]=u.end;for(o in e)d[o]=e[o];return d.values=c,(n=new m(t,"bezier",0,0,u.pt,2)).data=u,n.plugin=r,n.setRatio=f,0===d.autoRotate&&(d.autoRotate=!0),!d.autoRotate||d.autoRotate instanceof Array||(s=!0===d.autoRotate?0:Number(d.autoRotate)*g,d.autoRotate=null!=u.end.left?[["left","top","rotation",s,!0]]:null!=u.end.x&&[["x","y","rotation",s,!0]]),d.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform),r._onInitTween(u.proxy,d,a._tween),n}})}},e._roundProps=function(t,e){for(var i=this._overwriteProps,a=i.length;-1<--a;)(t[i[a]]||t.bezier||t.bezierThrough)&&(this._round[i[a]]=e)},e._kill=function(t){var e,i,a=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=a.length;-1<--i;)a[i]===e&&a.splice(i,1);return this._super._kill.call(this,t)},window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(r,d){var f,D,I,p,Q=function(){r.call(this,"css"),this._overwriteProps.length=0,this.setRatio=Q.prototype.setRatio},m={},t=Q.prototype=new r("css");(t.constructor=Q).version="1.10.2",Q.API=2,Q.defaultTransformPerspective=0,t="px",Q.suffixMap={top:t,right:t,bottom:t,left:t,width:t,height:t,fontSize:t,padding:t,margin:t,perspective:t};var T,g,_,C,v,S,e,i,a,A=/(?:\d|\-\d|\.\d|\-\.\d)+/g,k=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,l=/[^\d\-\.]/g,B=/(?:\d|\-|\+|=|#|\.)*/g,P=/opacity *= *([^)]*)/,b=/opacity:([^;]*)/,s=/alpha\(opacity *=.+?\)/i,E=/^(rgb|hsl)/,o=/([A-Z])/g,u=/-([a-z])/gi,w=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,h=function(t,e){return e.toUpperCase()},c=/(?:Left|Right|Width)/i,J=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,O=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,R=/,(?=[^\)]*(?:\(|$))/gi,x=Math.PI/180,N=180/Math.PI,H={},L=document,M=L.createElement("div"),F=L.createElement("img"),n=Q._internals={_specialProps:m},j=navigator.userAgent,U=(i=j.indexOf("Android"),a=L.createElement("div"),_=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===i||3<Number(j.substr(i+8,1))),v=_&&Number(j.substr(j.indexOf("Version/")+8,1))<6,C=-1!==j.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j),S=parseFloat(RegExp.$1),a.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",!!(e=a.getElementsByTagName("a")[0])&&/^0.55/.test(e.style.opacity)),q=function(t){return P.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},G=function(t){window.console&&console.log(t)},W="",X="",Y=function(t,e){var i,a,n=(e=e||M).style;if(void 0!==n[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],a=5;-1<--a&&void 0===n[i[a]+t];);return 0<=a?(W="-"+(X=3===a?"ms":i[a]).toLowerCase()+"-",X+t):null},z=L.defaultView?L.defaultView.getComputedStyle:function(){},Z=Q.getStyle=function(t,e,i,a,n){var r;return U||"opacity"!==e?(!a&&t.style[e]?r=t.style[e]:(i=i||z(t,null))?r=(t=i.getPropertyValue(e.replace(o,"-$1").toLowerCase()))||i.length?t:i[e]:t.currentStyle&&(r=t.currentStyle[e]),null==n||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:n):q(t)},$=function(t,e,i,a,n){if("px"===a||!a)return i;if("auto"===a||!i)return 0;var r,s=c.test(e),o=t,u=M.style,h=i<0;return h&&(i=-i),"%"===a&&-1!==e.indexOf("border")?r=i/100*(s?t.clientWidth:t.clientHeight):(u.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;","%"!==a&&o.appendChild?u[s?"borderLeftWidth":"borderTopWidth"]=i+a:(o=t.parentNode||L.body,u[s?"width":"height"]=i+a),o.appendChild(M),r=parseFloat(M[s?"offsetWidth":"offsetHeight"]),o.removeChild(M),0!==r||n||(r=$(t,e,i,a,!0))),h?-r:r},V=function(t,e,i){if("absolute"!==Z(t,"position",i))return 0;var a="left"===e?"Left":"Top",n=Z(t,"margin"+a,i);return t["offset"+a]-($(t,e,parseFloat(n),n.replace(B,""))||0)},K=function(t,e){var i,a,n={};if(e=e||z(t,null))if(i=e.length)for(;-1<--i;)n[e[i].replace(u,h)]=e.getPropertyValue(e[i]);else for(i in e)n[i]=e[i];else if(e=t.currentStyle||t.style)for(i in e)n[i.replace(u,h)]=e[i];return U||(n.opacity=q(t)),a=Tt(t,e,!1),n.rotation=a.rotation*N,n.skewX=a.skewX*N,n.scaleX=a.scaleX,n.scaleY=a.scaleY,n.x=a.x,n.y=a.y,St&&(n.z=a.z,n.rotationX=a.rotationX*N,n.rotationY=a.rotationY*N,n.scaleZ=a.scaleZ),n.filters&&delete n.filters,n},tt=function(t,e,i,a,n){var r,s,o,u={},h=t.style;for(s in i)"cssText"!==s&&"length"!==s&&isNaN(s)&&(e[s]!==(r=i[s])||n&&n[s])&&-1===s.indexOf("Origin")&&("number"==typeof r||"string"==typeof r)&&(u[s]="auto"!==r||"left"!==s&&"top"!==s?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof e[s]||""===e[s].replace(l,"")?r:0:V(t,s),void 0!==h[s]&&(o=new ft(h,s,h[s],o)));if(a)for(s in a)"className"!==s&&(u[s]=a[s]);return{difs:u,firstMPT:o}},et={width:["Left","Right"],height:["Top","Bottom"]},it=["marginLeft","marginRight","marginTop","marginBottom"],at=function(t,e,i){var a=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),n=et[e],r=n.length;for(i=i||z(t,null);-1<--r;)a-=parseFloat(Z(t,"padding"+n[r],i,!0))||0,a-=parseFloat(Z(t,"border"+n[r]+"Width",i,!0))||0;return a},nt=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),a=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],n=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==n?n="0":"center"===n&&(n="50%"),("center"===a||isNaN(parseFloat(a))&&-1===(a+"").indexOf("="))&&(a="50%"),e&&(e.oxp=-1!==a.indexOf("%"),e.oyp=-1!==n.indexOf("%"),e.oxr="="===a.charAt(1),e.oyr="="===n.charAt(1),e.ox=parseFloat(a.replace(l,"")),e.oy=parseFloat(n.replace(l,""))),a+" "+n+(2<i.length?" "+i[2]:"")},rt=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},st=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*Number(t.substr(2))+e:parseFloat(t)},ot=function(t,e,i,a){var n,r,s,o;return null==t?o=e:"number"==typeof t?o=t*x:(n=2*Math.PI,r=t.split("_"),s=Number(r[0].replace(l,""))*(-1===t.indexOf("rad")?x:1)-("="===t.charAt(1)?0:e),r.length&&(a&&(a[i]=e+s),-1!==t.indexOf("short")&&((s%=n)!==s%(n/2)&&(s=s<0?s+n:s-n)),-1!==t.indexOf("_cw")&&s<0?s=(s+9999999999*n)%n-(0|s/n)*n:-1!==t.indexOf("ccw")&&0<s&&(s=(s-9999999999*n)%n-(0|s/n)*n)),o=e+s),o<1e-6&&-1e-6<o&&(o=0),o},ut={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ht=function(t,e,i){return 0|255*(6*(t=t<0?t+1:1<t?t-1:t)<1?e+6*(i-e)*t:t<.5?i:3*t<2?e+6*(i-e)*(2/3-t):e)+.5},lt=function(t){var e,i,a,n,r,s;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ut[t]?ut[t]:"#"===t.charAt(0)?(4===t.length&&(t="#"+(e=t.charAt(1))+e+(i=t.charAt(2))+i+(a=t.charAt(3))+a),[(t=parseInt(t.substr(1),16))>>16,255&t>>8,255&t]):("hsl"===t.substr(0,3)?(t=t.match(A),n=Number(t[0])%360/360,r=Number(t[1])/100,e=2*(s=Number(t[2])/100)-(i=s<=.5?s*(r+1):s+r-s*r),3<t.length&&(t[3]=Number(t[3])),t[0]=ht(n+1/3,e,i),t[1]=ht(n,e,i),t[2]=ht(n-1/3,e,i)):((t=t.match(A)||ut.transparent)[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),3<t.length&&(t[3]=Number(t[3]))),t)):ut.black},ct="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(t in ut)ct+="|"+t+"\\b";ct=RegExp(ct+")","gi");var dt=function(t,e,r,s){if(null==t)return function(t){return t};var o,u=e?(t.match(ct)||[""])[0]:"",h=t.split(u).join("").match(y)||[],l=t.substr(0,t.indexOf(h[0])),c=")"===t.charAt(t.length-1)?")":"",d=-1!==t.indexOf(" ")?" ":",",p=h.length,f=0<p?h[0].replace(A,""):"";return p?o=e?function(t){var e,i,a,n;if("number"==typeof t)t+=f;else if(s&&R.test(t)){for(n=t.replace(R,"|").split("|"),a=0;n.length>a;a++)n[a]=o(n[a]);return n.join(",")}if(e=(t.match(ct)||[u])[0],a=(i=t.split(e).join("").match(y)||[]).length,p>a--)for(;p>++a;)i[a]=r?i[0|(a-1)/2]:h[a];return l+i.join(d)+d+e+c+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,i,a;if("number"==typeof t)t+=f;else if(s&&R.test(t)){for(i=t.replace(R,"|").split("|"),a=0;i.length>a;a++)i[a]=o(i[a]);return i.join(",")}if(a=(e=t.match(y)||[]).length,p>a--)for(;p>++a;)e[a]=r?e[0|(a-1)/2]:h[a];return l+e.join(d)+c}:function(t){return t}},pt=function(h){return h=h.split(","),function(t,e,i,a,n,r,s){var o,u=(e+"").split(" ");for(s={},o=0;o<4;o++)s[h[o]]=u[o]=u[o]||u[(o-1)/2>>0];return a.parse(t,s,n,r)}},ft=(n._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,a,n,r=this.data,s=r.proxy,o=r.firstMPT;o;)e=s[o.v],o.r?e=0<e?0|e+.5:0|e-.5:e<1e-6&&-1e-6<e&&(e=0),o.t[o.p]=e,o=o._next;if(r.autoRotate&&(r.autoRotate.rotation=s.rotation),1===t)for(o=r.firstMPT;o;){if((i=o.t).type){if(1===i.type){for(n=i.xs0+i.s+i.xs1,a=1;i.l>a;a++)n+=i["xn"+a]+i["xs"+(a+1)];i.e=n}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,a,n){this.t=t,this.p=e,this.v=i,this.r=n,a&&((a._prev=this)._next=a)}),mt=(n._parseToProxy=function(t,e,i,a,n,r){var s,o,u,h,l,c=a,d={},p={},f=i._transform,m=H;for(i._transform=null,H=e,a=l=i.parse(t,e,a,n),H=m,r&&(i._transform=f,c&&(c._prev=null,c._prev&&(c._prev._next=null)));a&&a!==c;){if(a.type<=1&&(p[o=a.p]=a.s+a.c,d[o]=a.s,r||(h=new ft(a,"s",o,h,a.r),a.c=0),1===a.type))for(s=a.l;0<--s;)u="xn"+s,p[o=a.p+"_"+u]=a.data[u],d[o]=a[u],r||(h=new ft(a,u,o,h,a.rxp[u]));a=a._next}return{proxy:d,end:p,firstMPT:h,pt:l}},n.CSSPropTween=function(t,e,i,a,n,r,s,o,u,h,l){this.t=t,this.p=e,this.s=i,this.c=a,this.n=s||e,t instanceof mt||p.push(this.n),this.r=o,this.type=r||0,u&&(this.pr=u,f=!0),this.b=void 0===h?i:h,this.e=void 0===l?i+a:l,n&&((this._next=n)._prev=this)}),gt=Q.parseComplex=function(t,e,i,a,n,r,s,o,u,h){s=new mt(t,e,0,0,s,h?2:1,null,!1,o,i=i||r||"",a),a+="";var l,c,d,p,f,m,g,_,v,y,b,w,x=i.split(", ").join(",").split(" "),D=a.split(", ").join(",").split(" "),I=x.length,S=!1!==T;for((-1!==a.indexOf(",")||-1!==i.indexOf(","))&&(x=x.join(" ").replace(R,", ").split(" "),D=D.join(" ").replace(R,", ").split(" "),I=x.length),I!==D.length&&(I=(x=(r||"").split(" ")).length),s.plugin=u,s.setRatio=h,l=0;l<I;l++)if(p=x[l],f=D[l],(_=parseFloat(p))||0===_)s.appendXtra("",_,rt(f,_),f.replace(k,""),S&&-1!==f.indexOf("px"),!0);else if(n&&("#"===p.charAt(0)||ut[p]||E.test(p)))w=","===f.charAt(f.length-1)?"),":")",p=lt(p),f=lt(f),(v=6<p.length+f.length)&&!U&&0===f[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(D[l]).join("transparent")):(U||(v=!1),s.appendXtra(v?"rgba(":"rgb(",p[0],f[0]-p[0],",",!0,!0).appendXtra("",p[1],f[1]-p[1],",",!0).appendXtra("",p[2],f[2]-p[2],v?",":w,!0),v&&(p=p.length<4?1:p[3],s.appendXtra("",p,(f.length<4?1:f[3])-p,w,!1)));else if(m=p.match(A)){if(!(g=f.match(k))||g.length!==m.length)return s;for(c=d=0;m.length>c;c++)b=m[c],y=p.indexOf(b,d),s.appendXtra(p.substr(d,y-d),Number(b),rt(g[c],b),"",S&&"px"===p.substr(y+b.length,2),0===c),d=y+b.length;s["xs"+s.l]+=p.substr(d)}else s["xs"+s.l]+=s.l?" "+p:p;if(-1!==a.indexOf("=")&&s.data){for(w=s.xs0+s.data.s,l=1;s.l>l;l++)w+=s["xs"+l]+s.data["xn"+l];s.e=w+s["xs"+l]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},_t=9;for((t=mt.prototype).l=t.pr=0;0<--_t;)t["xn"+_t]=0,t["xs"+_t]="";t.xs0="",t._next=t._prev=t.xfirst=t.data=t.plugin=t.setRatio=t.rxp=null,t.appendXtra=function(t,e,i,a,n,r){var s=this,o=s.l;return s["xs"+o]+=r&&o?" "+t:t||"",i||0===o||s.plugin?(s.l++,s.type=s.setRatio?2:1,s["xs"+s.l]=a||"",0<o?(s.data["xn"+o]=e+i,s.rxp["xn"+o]=n,s["xn"+o]=e,s.plugin||(s.xfirst=new mt(s,"xn"+o,e,i,s.xfirst||s,0,s.n,n,s.pr),s.xfirst.xs0=0)):(s.data={s:e+i},s.rxp={},s.s=e,s.c=i,s.r=n)):s["xs"+o]+=e+(a||""),s};var vt=function(t,e){e=e||{},this.p=e.prefix&&Y(t)||t,m[t]=m[this.p]=this,this.format=e.formatter||dt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},yt=n._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var a,n=t.split(","),r=e.defaultValue;for(i=i||[r],a=0;n.length>a;a++)e.prefix=0===a&&e.prefix,e.defaultValue=i[a]||r,new vt(n[a],e)},bt=function(t){if(!m[t]){var u=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";yt(t,{parser:function(t,e,i,a,n,r,s){var o=(window.GreenSockGlobals||window).com.greensock.plugins[u];return o?(o._cssRegister(),m[i].parse(t,e,i,a,n,r,s)):(G("Error: "+u+" js file not loaded."),n)}})}};(t=vt.prototype).parseComplex=function(t,e,i,a,n,r){var s,o,u,h,l,c=this.keyword;if(this.multi&&(R.test(i)||R.test(e)?(o=e.replace(R,"|").split("|"),u=i.replace(R,"|").split("|")):c&&(o=[e],u=[i])),u){for(h=u.length>o.length?u.length:o.length,s=0;s<h;s++)e=o[s]=o[s]||this.dflt,i=u[s]=u[s]||this.dflt,c&&(e.indexOf(c)!==(l=i.indexOf(c))&&((i=-1===l?u:o)[s]+=" "+c));e=o.join(", "),i=u.join(", ")}return gt(t,this.p,e,i,this.clrs,this.dflt,a,this.pr,n,r)},t.parse=function(t,e,i,a,n,r){return this.parseComplex(t.style,this.format(Z(t,this.p,I,!1,this.dflt)),this.format(e),n,r)},Q.registerSpecialProp=function(t,o,u){yt(t,{parser:function(t,e,i,a,n,r){var s=new mt(t,i,0,0,n,2,i,!1,u);return s.plugin=r,s.setRatio=o(t,e,a._tween,i),s},priority:u})};var wt="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),xt=Y("transform"),Dt=W+"transform",It=Y("transformOrigin"),St=null!==Y("perspective"),Tt=function(t,e,i,a){if(t._gsTransform&&i&&!a)return t._gsTransform;var n,r,s,o,u,h,l,c,d,p,f,m,g,_=i&&t._gsTransform||{skewY:0},v=_.scaleX<0,y=1e-4-Math.PI,b=Math.PI-1e-4,w=St&&(parseFloat(Z(t,It,e,!1,"0 0 0").split(" ")[2])||_.zOrigin)||0;for(xt?n=Z(t,Dt,e,!0):t.currentStyle&&(n=(n=t.currentStyle.filter.match(J))&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),_.x||0,_.y||0].join(","):""),s=(r=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[]).length;-1<--s;)o=Number(r[s]),r[s]=(u=o-(o|=0))?(0|1e5*u+(u<0?-.5:.5))/1e5+o:o;if(16===r.length){var x=r[8],D=r[9],I=r[10],S=r[12],T=r[13],A=r[14];if(_.zOrigin&&(S=x*(A=-_.zOrigin)-r[12],T=D*A-r[13],A=I*A+_.zOrigin-r[14]),!i||a||null==_.rotationX){var k,B,P,E,C,O,R,N=r[0],H=r[1],L=r[2],M=r[3],F=r[4],j=r[5],U=r[6],q=r[7],G=r[11],W=_.rotationX=Math.atan2(U,I),X=W<y||b<W;W&&(k=F*(E=Math.cos(-W))+x*(C=Math.sin(-W)),B=j*E+D*C,P=U*E+I*C,x=F*-C+x*E,D=j*-C+D*E,I=U*-C+I*E,G=q*-C+G*E,F=k,j=B,U=P),(W=_.rotationY=Math.atan2(x,N))&&(O=W<y||b<W,B=H*(E=Math.cos(-W))-D*(C=Math.sin(-W)),P=L*E-I*C,D=H*C+D*E,I=L*C+I*E,G=M*C+G*E,N=k=N*E-x*C,H=B,L=P),(W=_.rotation=Math.atan2(H,j))&&(R=W<y||b<W,N=N*(E=Math.cos(-W))+F*(C=Math.sin(-W)),B=H*E+j*C,j=H*-C+j*E,U=L*-C+U*E,H=B),R&&X?_.rotation=_.rotationX=0:R&&O?_.rotation=_.rotationY=0:O&&X&&(_.rotationY=_.rotationX=0),_.scaleX=(0|1e5*Math.sqrt(N*N+H*H)+.5)/1e5,_.scaleY=(0|1e5*Math.sqrt(j*j+D*D)+.5)/1e5,_.scaleZ=(0|1e5*Math.sqrt(U*U+I*I)+.5)/1e5,_.skewX=0,_.perspective=G?1/(G<0?-G:G):0,_.x=S,_.y=T,_.z=A}}else if(!(St&&!a&&r.length&&_.x===r[4]&&_.y===r[5]&&(_.rotationX||_.rotationY)||void 0!==_.x&&"none"===Z(t,"display",e))){var Y=6<=r.length,z=Y?r[0]:1,$=r[1]||0,V=r[2]||0,K=Y?r[3]:1;_.x=r[4]||0,_.y=r[5]||0,h=Math.sqrt(z*z+$*$),l=Math.sqrt(K*K+V*V),c=z||$?Math.atan2($,z):_.rotation||0,d=V||K?Math.atan2(V,K)+c:_.skewX||0,p=h-Math.abs(_.scaleX||0),f=l-Math.abs(_.scaleY||0),Math.abs(d)>Math.PI/2&&Math.abs(d)<1.5*Math.PI&&(v?(h*=-1,d+=c<=0?Math.PI:-Math.PI,c+=c<=0?Math.PI:-Math.PI):(l*=-1,d+=d<=0?Math.PI:-Math.PI)),m=(c-_.rotation)%Math.PI,g=(d-_.skewX)%Math.PI,(void 0===_.skewX||2e-5<p||p<-2e-5||2e-5<f||f<-2e-5||y<m&&m<b&&!1|1e5*m||y<g&&g<b&&!1|1e5*g)&&(_.scaleX=h,_.scaleY=l,_.rotation=c,_.skewX=d),St&&(_.rotationX=_.rotationY=_.z=0,_.perspective=parseFloat(Q.defaultTransformPerspective)||0,_.scaleZ=1)}for(s in _.zOrigin=w,_)_[s]<2e-5&&-2e-5<_[s]&&(_[s]=0);return i&&(t._gsTransform=_),_},At=function(t){var e,i,a=this.data,n=-a.rotation,r=n+a.skewX,s=(0|Math.cos(n)*a.scaleX*1e5)/1e5,o=(0|Math.sin(n)*a.scaleX*1e5)/1e5,u=(0|Math.sin(r)*-a.scaleY*1e5)/1e5,h=(0|Math.cos(r)*a.scaleY*1e5)/1e5,l=this.t.style,c=this.t.currentStyle;if(c){i=o,o=-u,u=-i,e=c.filter,l.filter="";var d,p,f=this.t.offsetWidth,m=this.t.offsetHeight,g="absolute"!==c.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+o+", M21="+u+", M22="+h,v=a.x,y=a.y;if(null!=a.ox&&(v+=(d=(a.oxp?.01*f*a.ox:a.ox)-f/2)-(d*s+(p=(a.oyp?.01*m*a.oy:a.oy)-m/2)*o),y+=p-(d*u+p*h)),g)_+=", Dx="+((d=f/2)-(d*s+(p=m/2)*o)+v)+", Dy="+(p-(d*u+p*h)+y)+")";else{var b,w,x,D=S<8?1:-1;for(d=a.ieOffsetX||0,p=a.ieOffsetY||0,a.ieOffsetX=Math.round((f-((s<0?-s:s)*f+(o<0?-o:o)*m))/2+v),a.ieOffsetY=Math.round((m-((h<0?-h:h)*m+(u<0?-u:u)*f))/2+y),_t=0;_t<4;_t++)x=(i=-1!==(b=c[w=it[_t]]).indexOf("px")?parseFloat(b):$(this.t,w,parseFloat(b),b.replace(B,""))||0)!==a[w]?_t<2?-a.ieOffsetX:-a.ieOffsetY:_t<2?d-a.ieOffsetX:p-a.ieOffsetY,l[w]=(a[w]=Math.round(i-x*(0===_t||2===_t?1:D)))+"px";_+=", sizingMethod='auto expand')"}l.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(O,_):_+" "+e,(0===t||1===t)&&1===s&&0===o&&0===u&&1===h&&(g&&-1===_.indexOf("Dx=0, Dy=0")||P.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient(")&&l.removeAttribute("filter"))}},kt=function(){var t,e,i,a,n,r,s,o,u,h,l,c,d,p,f,m,g,_,v,y,b,w,x,D,I,S,T=this.data,A=this.t.style,k=T.rotation,B=T.scaleX,P=T.scaleY,E=T.scaleZ;if(C&&(D=A.top?"top":A.bottom?"bottom":parseFloat(Z(this.t,"top",null,!1))?"bottom":"top",y=Z(this.t,D,null,!1),I=parseFloat(y)||0,S=y.substr((I+"").length)||"px",T._ffFix=!T._ffFix,A[D]=(T._ffFix?I+.05:I-.05)+S),k||T.skewX)t=_=Math.cos(k),n=v=Math.sin(k),T.skewX&&(k-=T.skewX,_=Math.cos(k),v=Math.sin(k)),e=-v,r=_;else{if(!T.rotationY&&!T.rotationX&&1===E)return void(A[xt]="translate3d("+T.x+"px,"+T.y+"px,"+T.z+"px)"+(1!==B||1!==P?" scale("+B+","+P+")":""));t=r=1,e=n=0}l=1,i=a=s=o=u=h=c=d=p=0,f=(m=T.perspective)?-1/m:0,g=T.zOrigin,(k=T.rotationY)&&(_=Math.cos(k),u=l*-(v=Math.sin(k)),d=f*-v,i=t*v,s=n*v,l*=_,f*=_,t*=_,n*=_),(k=T.rotationX)&&(y=e*(_=Math.cos(k))+i*(v=Math.sin(k)),b=r*_+s*v,w=h*_+l*v,x=p*_+f*v,i=e*-v+i*_,s=r*-v+s*_,l=h*-v+l*_,f=p*-v+f*_,e=y,r=b,h=w,p=x),1!==E&&(i*=E,s*=E,l*=E,f*=E),1!==P&&(e*=P,r*=P,h*=P,p*=P),1!==B&&(t*=B,n*=B,u*=B,d*=B),g&&(a=i*(c-=g),o=s*c,c=l*c+g),a=(y=(a+=T.x)-(a|=0))?(0|1e5*y+(y<0?-.5:.5))/1e5+a:a,o=(y=(o+=T.y)-(o|=0))?(0|1e5*y+(y<0?-.5:.5))/1e5+o:o,c=(y=(c+=T.z)-(c|=0))?(0|1e5*y+(y<0?-.5:.5))/1e5+c:c,A[xt]="matrix3d("+[(0|1e5*t)/1e5,(0|1e5*n)/1e5,(0|1e5*u)/1e5,(0|1e5*d)/1e5,(0|1e5*e)/1e5,(0|1e5*r)/1e5,(0|1e5*h)/1e5,(0|1e5*p)/1e5,(0|1e5*i)/1e5,(0|1e5*s)/1e5,(0|1e5*l)/1e5,(0|1e5*f)/1e5,a,o,c,m?1+-c/m:1].join(",")+")"},Bt=function(){var t,e,i,a,n,r,s,o,u=this.data,h=this.t,l=h.style;C&&(t=l.top?"top":l.bottom?"bottom":parseFloat(Z(h,"top",null,!1))?"bottom":"top",e=Z(h,t,null,!1),i=parseFloat(e)||0,a=e.substr((i+"").length)||"px",u._ffFix=!u._ffFix,l[t]=(u._ffFix?i+.05:i-.05)+a),u.rotation||u.skewX?(r=(n=u.rotation)-u.skewX,s=1e5*u.scaleX,o=1e5*u.scaleY,l[xt]="matrix("+(0|Math.cos(n)*s)/1e5+","+(0|Math.sin(n)*s)/1e5+","+(0|Math.sin(r)*-o)/1e5+","+(0|Math.cos(r)*o)/1e5+","+u.x+","+u.y+")"):l[xt]="matrix("+u.scaleX+",0,0,"+u.scaleY+","+u.x+","+u.y+")"};yt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform,force3D",{parser:function(t,e,i,a,n,r,s){if(a._transform)return n;var o,u,h,l,c,d,p,f=a._transform=Tt(t,I,!0,s.parseTransform),m=t.style,g=wt.length,_=s,v={};if("string"==typeof _.transform&&xt)h=m.cssText,m[xt]=_.transform,m.display="block",o=Tt(t,null,!1),m.cssText=h;else if("object"==typeof _){if(o={scaleX:st(null!=_.scaleX?_.scaleX:_.scale,f.scaleX),scaleY:st(null!=_.scaleY?_.scaleY:_.scale,f.scaleY),scaleZ:st(null!=_.scaleZ?_.scaleZ:_.scale,f.scaleZ),x:st(_.x,f.x),y:st(_.y,f.y),z:st(_.z,f.z),perspective:st(_.transformPerspective,f.perspective)},null!=(p=_.directionalRotation))if("object"==typeof p)for(h in p)_[h]=p[h];else _.rotation=p;o.rotation=ot("rotation"in _?_.rotation:"shortRotation"in _?_.shortRotation+"_short":"rotationZ"in _?_.rotationZ:f.rotation*N,f.rotation,"rotation",v),St&&(o.rotationX=ot("rotationX"in _?_.rotationX:"shortRotationX"in _?_.shortRotationX+"_short":f.rotationX*N||0,f.rotationX,"rotationX",v),o.rotationY=ot("rotationY"in _?_.rotationY:"shortRotationY"in _?_.shortRotationY+"_short":f.rotationY*N||0,f.rotationY,"rotationY",v)),o.skewX=null==_.skewX?f.skewX:ot(_.skewX,f.skewX),o.skewY=null==_.skewY?f.skewY:ot(_.skewY,f.skewY),(u=o.skewY-f.skewY)&&(o.skewX+=u,o.rotation+=u)}for(null!=_.force3D&&(f.force3D=_.force3D,d=!0),(c=f.force3D||f.z||f.rotationX||f.rotationY||o.z||o.rotationX||o.rotationY||o.perspective)||null==_.scale||(o.scaleZ=1);-1<--g;)(1e-6<(l=o[i=wt[g]]-f[i])||l<-1e-6||null!=H[i])&&(d=!0,n=new mt(f,i,f[i],l,n),i in v&&(n.e=v[i]),n.xs0=0,n.plugin=r,a._overwriteProps.push(n.n));return((l=_.transformOrigin)||St&&c&&f.zOrigin)&&(xt?(d=!0,i=It,l=(l||Z(t,i,I,!1,"50% 50%"))+"",(n=new mt(m,i,0,0,n,-1,"transformOrigin")).b=m[i],n.plugin=r,St?(h=f.zOrigin,l=l.split(" "),f.zOrigin=(2<l.length&&(0===h||"0px"!==l[2])?parseFloat(l[2]):h)||0,n.xs0=n.e=m[i]=l[0]+" "+(l[1]||"50%")+" 0px",(n=new mt(f,"zOrigin",0,0,n,-1,n.n)).b=h,n.xs0=n.e=f.zOrigin):n.xs0=n.e=m[i]=l):nt(l+"",f)),d&&(a._transformType=c||3===this._transformType?3:2),n},prefix:!0}),yt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),yt("borderRadius",{defaultValue:"0px",parser:function(t,e,i,a,n){e=this.format(e);var r,s,o,u,h,l,c,d,p,f,m,g,_,v,y,b,w=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],x=t.style;for(p=parseFloat(t.offsetWidth),f=parseFloat(t.offsetHeight),r=e.split(" "),s=0;w.length>s;s++)this.p.indexOf("border")&&(w[s]=Y(w[s])),-1!==(h=u=Z(t,w[s],I,!1,"0px")).indexOf(" ")&&(h=(u=h.split(" "))[0],u=u[1]),l=o=r[s],c=parseFloat(h),g=h.substr((c+"").length),(_="="===l.charAt(1))?(d=parseInt(l.charAt(0)+"1",10),l=l.substr(2),d*=parseFloat(l),m=l.substr((d+"").length-(d<0?1:0))||""):(d=parseFloat(l),m=l.substr((d+"").length)),""===m&&(m=D[i]||g),m!==g&&(v=$(t,"borderLeft",c,g),y=$(t,"borderTop",c,g),"%"===m?(h=v/p*100+"%",u=y/f*100+"%"):"em"===m?(h=v/(b=$(t,"borderLeft",1,"em"))+"em",u=y/b+"em"):(h=v+"px",u=y+"px"),_&&(l=parseFloat(h)+d+m,o=parseFloat(u)+d+m)),n=gt(x,w[s],h+" "+u,l+" "+o,!1,"0px",n);return n},prefix:!0,formatter:dt("0px 0px 0px 0px",!1,!0)}),yt("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,a,n,r){var s,o,u,h,l,c,d="background-position",p=I||z(t,null),f=this.format((p?S?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(-1!==f.indexOf("%")!=(-1!==m.indexOf("%"))&&((c=Z(t,"backgroundImage").replace(w,""))&&"none"!==c)){for(s=f.split(" "),o=m.split(" "),F.setAttribute("src",c),u=2;-1<--u;)(h=-1!==(f=s[u]).indexOf("%"))!==(-1!==o[u].indexOf("%"))&&(l=0===u?t.offsetWidth-F.width:t.offsetHeight-F.height,s[u]=h?parseFloat(f)/100*l+"px":parseFloat(f)/l*100+"%");f=s.join(" ")}return this.parseComplex(t.style,f,m,n,r)},formatter:nt}),yt("backgroundSize",{defaultValue:"0 0",formatter:nt}),yt("perspective",{defaultValue:"0px",prefix:!0}),yt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),yt("transformStyle",{prefix:!0}),yt("backfaceVisibility",{prefix:!0}),yt("margin",{parser:pt("marginTop,marginRight,marginBottom,marginLeft")}),yt("padding",{parser:pt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),yt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,a,n,r){var s,o,u;return S<9?(o=t.currentStyle,u=S<8?" ":",",s="rect("+o.clipTop+u+o.clipRight+u+o.clipBottom+u+o.clipLeft+")",e=this.format(e).split(",").join(u)):(s=this.format(Z(t,this.p,I,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,n,r)}}),yt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),yt("autoRound,strictUnits",{parser:function(t,e,i,a,n){return n}}),yt("border",{defaultValue:"0px solid #000",parser:function(t,e,i,a,n,r){return this.parseComplex(t.style,this.format(Z(t,"borderTopWidth",I,!1,"0px")+" "+Z(t,"borderTopStyle",I,!1,"solid")+" "+Z(t,"borderTopColor",I,!1,"#000")),this.format(e),n,r)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ct)||["#000"])[0]}}),yt("float,cssFloat,styleFloat",{parser:function(t,e,i,a,n){var r=t.style,s="cssFloat"in r?"cssFloat":"styleFloat";return new mt(r,s,0,0,n,-1,i,!1,0,r[s],e)}});var Pt=function(t){var e,i=this.t,a=i.filter||Z(this.data,"filter"),n=0|this.s+this.c*t;100===n&&(-1===a.indexOf("atrix(")&&-1===a.indexOf("radient(")?(i.removeAttribute("filter"),e=!Z(this.data,"filter")):(i.filter=a.replace(s,""),e=!0)),e||(this.xn1&&(i.filter=a=a||"alpha(opacity="+n+")"),-1===a.indexOf("opacity")?0===n&&this.xn1||(i.filter+=" alpha(opacity="+n+")"):i.filter=a.replace(P,"opacity="+n))};yt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,a,n,r){var s=parseFloat(Z(t,"opacity",I,!1,"1")),o=t.style,u="autoAlpha"===i;return e=parseFloat(e),u&&1===s&&"hidden"===Z(t,"visibility",I)&&0!==e&&(s=0),U?n=new mt(o,"opacity",s,e-s,n):((n=new mt(o,"opacity",100*s,100*(e-s),n)).xn1=u?1:0,o.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=r,n.setRatio=Pt),u&&((n=new mt(o,"visibility",0,0,n,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit")).xs0="inherit",a._overwriteProps.push(n.n)),n}});var Et=function(t,e){e&&(t.removeProperty?t.removeProperty(e.replace(o,"-$1").toLowerCase()):t.removeAttribute(e))},Ct=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.className=0===t?this.b:this.e;for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:Et(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};yt("className",{parser:function(t,e,i,a,n,r,s){var o,u,h,l,c,d=t.className,p=t.style.cssText;if((n=a._classNamePT=new mt(t,i,0,0,n,2)).setRatio=Ct,n.pr=-11,f=!0,n.b=d,u=K(t,I),h=t._gsClassPT){for(l={},c=h.data;c;)l[c.p]=1,c=c._next;h.setRatio(1)}return(t._gsClassPT=n).e="="!==e.charAt(1)?e:d.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),a._tween._duration&&(t.className=n.e,o=tt(t,u,K(t),s,l),t.className=d,n.data=o.firstMPT,t.style.cssText=p,n=n.xfirst=a.parse(t,o.difs,n,r)),n}});var Ot=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration){if("all"===this.e)return this.t.style.cssText="",void(this.t._gsTransform&&delete this.t._gsTransform);for(var e,i=this.t.style,a=this.e.split(","),n=a.length,r=m.transform.parse;-1<--n;)e=a[n],m[e]&&(e=m[e].parse===r?xt:m[e].p),Et(i,e)}};for(yt("clearProps",{parser:function(t,e,i,a,n){return(n=new mt(t,i,0,0,n,2)).setRatio=Ot,n.e=e,n.pr=-10,n.data=a._tween,f=!0,n}}),t="bezier,throwProps,physicsProps,physics2D".split(","),_t=t.length;_t--;)bt(t[_t]);(t=Q.prototype)._firstPT=null,t._onInitTween=function(t,e,i){if(!t.nodeType)return!1;this._target=t,this._tween=i,this._vars=e,T=e.autoRound,f=!1,D=e.suffixMap||Q.suffixMap,I=z(t,""),p=this._overwriteProps;var a,n,r,s,o,u,h,l,c,d=t.style;if(g&&""===d.zIndex&&(("auto"===(a=Z(t,"zIndex",I))||""===a)&&(d.zIndex=0)),"string"==typeof e&&(s=d.cssText,a=K(t,I),d.cssText=s+";"+e,a=tt(t,a,K(t)).difs,!U&&b.test(e)&&(a.opacity=parseFloat(RegExp.$1)),e=a,d.cssText=s),this._firstPT=n=this.parse(t,e,null),this._transformType){for(c=3===this._transformType,xt?_&&(g=!0,""===d.zIndex&&(("auto"===(h=Z(t,"zIndex",I))||""===h)&&(d.zIndex=0)),v&&(d.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(c?"visible":"hidden"))):d.zoom=1,r=n;r&&r._next;)r=r._next;l=new mt(t,"transform",0,0,null,2),this._linkCSSP(l,null,r),l.setRatio=c&&St?kt:xt?Bt:At,l.data=this._transform||Tt(t,I,!0),p.pop()}if(f){for(;n;){for(u=n._next,r=s;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:o)?n._prev._next=n:s=n,(n._next=r)?r._prev=n:o=n,n=u}this._firstPT=s}return!0},t.parse=function(t,e,i,a){var n,r,s,o,u,h,l,c,d,p,f=t.style;for(n in e)h=e[n],(r=m[n])?i=r.parse(t,h,n,this,i,a,e):(u=Z(t,n,I)+"",d="string"==typeof h,"color"===n||"fill"===n||"stroke"===n||-1!==n.indexOf("Color")||d&&E.test(h)?(d||(h=(3<(h=lt(h)).length?"rgba(":"rgb(")+h.join(",")+")"),i=gt(f,n,u,h,!0,"transparent",i,0,a)):!d||-1===h.indexOf(" ")&&-1===h.indexOf(",")?(l=(s=parseFloat(u))||0===s?u.substr((s+"").length):"",(""===u||"auto"===u)&&("width"===n||"height"===n?(s=at(t,n,I),l="px"):"left"===n||"top"===n?(s=V(t,n,I),l="px"):(s="opacity"!==n?0:1,l="")),(p=d&&"="===h.charAt(1))?(o=parseInt(h.charAt(0)+"1",10),h=h.substr(2),o*=parseFloat(h),c=h.replace(B,"")):(o=parseFloat(h),c=d&&h.substr((o+"").length)||""),""===c&&(c=D[n]||l),h=o||0===o?(p?o+s:o)+c:e[n],l!==c&&""!==c&&(o||0===o)&&(s||0===s)&&(s=$(t,n,s,l),"%"===c?(100<(s/=$(t,n,100,"%")/100)&&(s=100),!0!==e.strictUnits&&(u=s+"%")):"em"===c?s/=$(t,n,1,"em"):(o=$(t,n,o,c),c="px"),p&&(o||0===o)&&(h=o+s+c)),p&&(o+=s),!s&&0!==s||!o&&0!==o?void 0!==f[n]&&(h||"NaN"!=h+""&&null!=h)?(i=new mt(f,n,o||s||0,0,i,-1,n,!1,0,u,h)).xs0="none"!==h||"display"!==n&&-1===n.indexOf("Style")?h:u:G("invalid "+n+" tween value: "+e[n]):(i=new mt(f,n,s,o-s,i,0,n,!1!==T&&("px"===c||"zIndex"===n),0,u,h)).xs0=c):i=gt(f,n,u,h,!0,null,i,0,a)),a&&i&&!i.plugin&&(i.plugin=a);return i},t.setRatio=function(t){var e,i,a,n=this._firstPT;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(e=n.c*t+n.s,n.r?e=0<e?0|e+.5:0|e-.5:e<1e-6&&-1e-6<e&&(e=0),n.type)if(1===n.type)if(2===(a=n.l))n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2;else if(3===a)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===a)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===a)n.t[n.p]=n.xs0+e+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(i=n.xs0+e+n.xs1,a=1;n.l>a;a++)i+=n["xn"+a]+n["xs"+(a+1)];n.t[n.p]=i}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(t);else n.t[n.p]=e+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(t),n=n._next;else for(;n;)2!==n.type?n.t[n.p]=n.e:n.setRatio(t),n=n._next},t._enableTransforms=function(t){this._transformType=t||3===this._transformType?3:2,this._transform=this._transform||Tt(this._target,I,!0)},t._linkCSSP=function(t,e,i,a){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,a=!0),i?i._next=t:a||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},t._kill=function(t){var e,i,a,n=t;if(t.autoAlpha||t.alpha){for(i in n={},t)n[i]=t[i];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return t.className&&(e=this._classNamePT)&&((a=e.xfirst)&&a._prev?this._linkCSSP(a._prev,e._next,a._prev._prev):a===this._firstPT&&(this._firstPT=e._next),e._next&&this._linkCSSP(e._next,e._next._next,a._prev),this._classNamePT=null),r.prototype._kill.call(this,n)};var Rt=function(t,e,i){var a,n,r,s;if(t.slice)for(n=t.length;-1<--n;)Rt(t[n],e,i);else for(n=(a=t.childNodes).length;-1<--n;)s=(r=a[n]).type,r.style&&(e.push(K(r)),i&&i.push(r)),1!==s&&9!==s&&11!==s||!r.childNodes.length||Rt(r,e,i)};return Q.cascadeTo=function(t,e,i){var a,n,r,s=d.to(t,e,i),o=[s],u=[],h=[],l=[],c=d._internals.reservedProps;for(t=s._targets||s.target,Rt(t,u,l),s.render(e,!0),Rt(t,h),s.render(0,!0),s._enabled(!0),a=l.length;-1<--a;)if((n=tt(l[a],u[a],h[a])).firstMPT){for(r in n=n.difs,i)c[r]&&(n[r]=i[r]);o.push(d.to(l[a],e,n))}return o},r.activate([Q]),Q},!0),(t=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}).prototype)._onInitAllProps=function(){for(var t,e,i,a=this._tween,n=a.vars.roundProps instanceof Array?a.vars.roundProps:a.vars.roundProps.split(","),r=n.length,s={},o=a._propLookup.roundProps;-1<--r;)s[n[r]]=1;for(r=n.length;-1<--r;)for(t=n[r],e=a._firstPT;e;)i=e._next,e.pg?e.t._roundProps(s,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:a._firstPT===e&&(a._firstPT=i),e._next=e._prev=null,a._propLookup[t]=o),e=i;return!1},t._add=function(t,e,i,a){this._addTween(t,e,i,i+a,e,!0),this._overwriteProps.push(e)},window._gsDefine.plugin({propName:"attr",API:2,init:function(t,e){var i;if("function"!=typeof t.setAttribute)return!1;for(i in this._target=t,this._proxy={},e)this._addTween(this._proxy,i,parseFloat(t.getAttribute(i)),e[i],i)&&this._overwriteProps.push(i);return!0},set:function(t){this._super.setRatio.call(this,t);for(var e,i=this._overwriteProps,a=i.length;-1<--a;)e=i[a],this._target.setAttribute(e,this._proxy[e]+"")}}),window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,a,n,r,s,o=!0===e.useRadians?2*Math.PI:360;for(i in e)"useRadians"!==i&&(a=(s=(e[i]+"").split("_"))[0],n=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),r=(this.finals[i]="string"==typeof a&&"="===a.charAt(1)?n+parseInt(a.charAt(0)+"1",10)*Number(a.substr(2)):Number(a)||0)-n,s.length&&(-1!==(a=s.join("_")).indexOf("short")&&((r%=o)!==r%(o/2)&&(r=r<0?r+o:r-o)),-1!==a.indexOf("_cw")&&r<0?r=(r+9999999999*o)%o-(0|r/o)*o:-1!==a.indexOf("ccw")&&0<r&&(r=(r-9999999999*o)%o-(0|r/o)*o)),(1e-6<r||r<-1e-6)&&(this._addTween(t,i,n,n+r,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(g){var e,i,t,a=window.GreenSockGlobals||window,n=a.com.greensock,r=2*Math.PI,s=Math.PI/2,o=n._class,u=function(t,e){var i=o("easing."+t,function(){},!0),a=i.prototype=new g;return a.constructor=i,a.getRatio=e,i},h=g.register||function(){},l=function(t,e,i,a){var n=o("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new a},!0);return h(n,t),n},_=function(t,e,i){this.t=t,this.v=e,i&&(((this.next=i).prev=this).c=i.v-e,this.gap=i.t-t)},c=function(t,e){var i=o("easing."+t,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),a=i.prototype=new g;return a.constructor=i,a.getRatio=e,a.config=function(t){return new i(t)},i},d=l("Back",c("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),c("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),c("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),p=o("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:1<t&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),f=p.prototype=new g;return f.constructor=p,f.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},p.ease=new p(.7,.7),f.config=p.config=function(t,e,i){return new p(t,e,i)},(f=(e=o("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0)).prototype=new g).constructor=e,f.getRatio=function(t){return t<0?t=0:1<=t&&(t=.999999999),(this._p2*t>>0)*this._p1},f.config=e.config=function(t){return new e(t)},(f=(i=o("easing.RoughEase",function(t){for(var e,i,a,n,r,s,o=(t=t||{}).taper||"none",u=[],h=0,l=0|(t.points||20),c=l,d=!1!==t.randomize,p=!0===t.clamp,f=t.template instanceof g?t.template:null,m="number"==typeof t.strength?.4*t.strength:.4;-1<--c;)e=d?Math.random():1/l*c,i=f?f.getRatio(e):e,"none"===o?a=m:"out"===o?a=(n=1-e)*n*m:"in"===o?a=e*e*m:a=.5*(n=e<.5?2*e:2*(1-e))*n*m,d?i+=Math.random()*a-.5*a:c%2?i+=.5*a:i-=.5*a,p&&(1<i?i=1:i<0&&(i=0)),u[h++]={x:e,y:i};for(u.sort(function(t,e){return t.x-e.x}),s=new _(1,1,null),c=l;-1<--c;)r=u[c],s=new _(r.x,r.y,s);this._prev=new _(0,0,0!==s.t?s:s.next)},!0)).prototype=new g).constructor=i,f.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return(this._prev=e).v+(t-e.t)/e.gap*e.c},f.config=function(t){return new i(t)},i.ease=new i,l("Bounce",u("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),u("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),u("BounceInOut",function(t){var e=t<.5;return t=(t=e?1-2*t:2*t-1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),l("Circ",u("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),u("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),u("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),l("Elastic",(t=function(t,e,i){var a=o("easing."+t,function(t,e){this._p1=t||1,this._p2=e||i,this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),n=a.prototype=new g;return n.constructor=a,n.getRatio=e,n.config=function(t,e){return new a(t,e)},a})("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*r/this._p2)+1},.3),t("ElasticIn",function(t){return-this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*r/this._p2)},.3),t("ElasticInOut",function(t){return(t*=2)<1?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*r/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*r/this._p2)+1},.45)),l("Expo",u("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),u("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),u("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),l("Sine",u("SineOut",function(t){return Math.sin(t*s)}),u("SineIn",function(t){return 1-Math.cos(t*s)}),u("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),o("easing.EaseLookup",{find:function(t){return g.map[t]}},!0),h(a.SlowMo,"SlowMo","ease,"),h(i,"RoughEase","ease,"),h(e,"SteppedEase","ease,"),d},!0)}),function(d){"use strict";var t,e,i,c,p,f=d.GreenSockGlobals||d,m=function(t){var e,i=t.split("."),a=f;for(e=0;i.length>e;e++)a[i[e]]=a=a[i[e]]||{};return a},g=m("com.greensock"),u=[].slice,_=function(){},v={},y=function(o,u,h,l){this.sc=v[o]?v[o].sc:[],(v[o]=this).gsClass=null,this.func=h;var c=[];this.check=function(t){for(var e,i,a,n,r=u.length,s=r;-1<--r;)(e=v[u[r]]||new y(u[r],[])).gsClass?(c[r]=e.gsClass,s--):t&&e.sc.push(this);if(0===s&&h)for(a=(i=("com.greensock."+o).split(".")).pop(),n=m(i.join("."))[a]=this.gsClass=h.apply(h,c),l&&(f[a]=n,"function"==typeof define&&define.amd?define((d.GreenSockAMDPath?d.GreenSockAMDPath+"/":"")+o.split(".").join("/"),[],function(){return n}):"undefined"!=typeof module&&module.exports&&(module.exports=n)),r=0;this.sc.length>r;r++)this.sc[r].check()},this.check(!0)},a=d._gsDefine=function(t,e,i,a){return new y(t,e,i,a)},b=g._class=function(t,e,i){return e=e||function(){},a(t,[],function(){return e},i),e};a.globals=f;var n=[0,0,1,1],l=[],h=b("easing.Ease",function(t,e,i,a){this._func=t,this._type=i||0,this._power=a||0,this._params=e?n.concat(e):n},!0),w=h.map={},r=h.register=function(t,e,i,a){for(var n,r,s,o,u=e.split(","),h=u.length,l=(i||"easeIn,easeOut,easeInOut").split(",");-1<--h;)for(r=u[h],n=a?b("easing."+r,null,!0):g.easing[r]||{},s=l.length;-1<--s;)o=l[s],w[r+"."+o]=w[o+r]=n[o]=t.getRatio?t:t[o]||new t};for((i=h.prototype)._calcEnd=!1,i.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,a=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?a*=a:2===i?a*=a*a:3===i?a*=a*a*a:4===i&&(a*=a*a*a*a),1===e?1-a:2===e?a:t<.5?a/2:1-a/2},e=(t=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--e;)i=t[e]+",Power"+e,r(new h(null,null,1,e),i,"easeOut",!0),r(new h(null,null,2,e),i,"easeIn"+(0===e?",easeNone":"")),r(new h(null,null,3,e),i,"easeInOut");w.linear=g.easing.Linear.easeIn,w.swing=g.easing.Quad.easeInOut;var x=b("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});(i=x.prototype).addEventListener=function(t,e,i,a,n){n=n||0;var r,s,o=this._listeners[t],u=0;for(null==o&&(this._listeners[t]=o=[]),s=o.length;-1<--s;)(r=o[s]).c===e&&r.s===i?o.splice(s,1):0===u&&n>r.pr&&(u=s+1);o.splice(u,0,{c:e,s:i,up:a,pr:n}),this!==c||p||c.wake()},i.removeEventListener=function(t,e){var i,a=this._listeners[t];if(a)for(i=a.length;-1<--i;)if(a[i].c===e)return void a.splice(i,1)},i.dispatchEvent=function(t){var e,i,a,n=this._listeners[t];if(n)for(e=n.length,i=this._eventTarget;-1<--e;)(a=n[e]).up?a.c.call(a.s||i,{type:t,target:i}):a.c.call(a.s||i)};var D=d.requestAnimationFrame,I=d.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},T=S();for(e=(t=["ms","moz","webkit","o"]).length;-1<--e&&!D;)D=d[t[e]+"RequestAnimationFrame"],I=d[t[e]+"CancelAnimationFrame"]||d[t[e]+"CancelRequestAnimationFrame"];b("Ticker",function(t,e){var a,n,r,s,o,u=this,h=S(),i=!1!==e&&D,l=function(t){T=S(),u.time=(T-h)/1e3;var e,i=u.time-o;(!a||0<i||!0===t)&&(u.frame++,o+=i+(s<=i?.004:s-i),e=!0),!0!==t&&(r=n(l)),e&&u.dispatchEvent("tick")};x.call(u),this.time=this.frame=0,this.tick=function(){l(!0)},this.sleep=function(){null!=r&&(i&&I?I(r):clearTimeout(r),n=_,r=null,u===c&&(p=!1))},this.wake=function(){null!==r&&u.sleep(),n=0===a?_:i&&D?D:function(t){return setTimeout(t,0|1e3*(o-u.time)+1)},u===c&&(p=!0),l(2)},this.fps=function(t){return arguments.length?(s=1/((a=t)||60),o=this.time+s,void u.wake()):a},this.useRAF=function(t){return arguments.length?(u.sleep(),i=t,void u.fps(a)):i},u.fps(t),setTimeout(function(){i&&(!r||u.frame<5)&&u.useRAF(!1)},1500)}),(i=g.Ticker.prototype=new g.events.EventDispatcher).constructor=g.Ticker;var A=b("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=!0===e.immediateRender,this.data=e.data,this._reversed=!0===e.reversed,L){p||c.wake();var i=this.vars.useFrames?H:L;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});c=A.ticker=new g.Ticker,(i=A.prototype)._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1;var s=function(){2e3<S()-T&&c.wake(),setTimeout(s,2e3)};s(),i.play=function(t,e){return arguments.length&&this.seek(t,e),this.reversed(!1).paused(!1)},i.pause=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!0)},i.resume=function(t,e){return arguments.length&&this.seek(t,e),this.paused(!1)},i.seek=function(t,e){return this.totalTime(Number(t),!1!==e)},i.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,!1!==e,!0)},i.reverse=function(t,e){return arguments.length&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},i.render=function(){},i.invalidate=function(){return this},i._enabled=function(t,e){return p||c.wake(),this._gc=!t,this._active=t&&!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration,!0!==e&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(){return this._enabled(!1,!1)},i.kill=function(t,e){return this._kill(t,e),this},i._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},i._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();-1<--e;)"{self}"===t[e]&&(i[e]=this);return i},i.eventCallback=function(t,e,i,a){if("on"===(t||"").substr(0,2)){var n=this.vars;if(1===arguments.length)return n[t];null==e?delete n[t]:(n[t]=e,n[t+"Params"]=i instanceof Array&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,n[t+"Scope"]=a),"onUpdate"===t&&(this._onUpdate=e)}return this},i.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},i.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},i.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},i.totalTime=function(t,e,i){if(p||c.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var a=this._totalDuration,n=this._timeline;if(a<t&&!i&&(t=a),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?a-t:t)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),this._totalTime!==t&&this.render(t,e,!1)}return this},i.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},i.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||1e-6,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},i.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._totalTime,!0)),this):this._reversed},i.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){p||t||c.wake();var e=this._timeline,i=e.rawTime(),a=i-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=a,this._uncache(!1)),this._pauseTime=t?i:null,this._paused=t,this._active=!t&&0<this._totalTime&&this._totalTime<this._totalDuration,t||0===a||0===this._duration||this.render(e.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var o=b("core.SimpleTimeline",function(t){A.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});(i=o.prototype=new A).constructor=o,i.kill()._gc=!1,i._first=i._last=null,i._sortChildren=!1,i.add=i.insert=function(t,e){var i,a;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(a=t._startTime;i&&i._startTime>a;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._timeline&&this._uncache(!0),this},i._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t.timeline=null,t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),this._timeline&&this._uncache(!0)),this},i.render=function(t,e,i){var a,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;n;)a=n._next,(n._active||t>=n._startTime&&!n._paused)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a},i.rawTime=function(){return p||c.wake(),this._totalTime};var k=b("TweenLite",function(t,e,i){if(A.call(this,e,i),this.render=k.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:k.selector(t)||t;var a,n,r,s=t.jquery||t.length&&t!==d&&t[0]&&(t[0]===d||t[0].nodeType&&t[0].style&&!t.nodeType),o=this.vars.overwrite;if(this._overwrite=o=null==o?N[k.defaultOverwrite]:"number"==typeof o?o>>0:N[o],(s||t instanceof Array)&&"number"!=typeof t[0])for(this._targets=r=u.call(t,0),this._propLookup=[],this._siblings=[],a=0;r.length>a;a++)(n=r[a])?"string"!=typeof n?n.length&&n!==d&&n[0]&&(n[0]===d||n[0].nodeType&&n[0].style&&!n.nodeType)?(r.splice(a--,1),this._targets=r=r.concat(u.call(n,0))):(this._siblings[a]=M(n,this,!1),1===o&&1<this._siblings[a].length&&F(n,this,null,1,this._siblings[a])):"string"==typeof(n=r[a--]=k.selector(n))&&r.splice(a+1,1):r.splice(a--,1);else this._propLookup={},this._siblings=M(t,this,!1),1===o&&1<this._siblings.length&&F(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&!1!==this.vars.immediateRender)&&this.render(-this._delay,!1,!0)},!0),B=function(t){return t.length&&t!==d&&t[0]&&(t[0]===d||t[0].nodeType&&t[0].style&&!t.nodeType)};(i=k.prototype=new A).constructor=k,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=!1,k.version="1.10.2",k.defaultEase=i._ease=new h(null,null,1,1),k.defaultOverwrite="auto",k.ticker=c,k.autoSleep=!0,k.selector=d.$||d.jQuery||function(t){return d.$?(k.selector=d.$,d.$(t)):d.document?d.document.getElementById("#"===t.charAt(0)?t.substr(1):t):t};var P=k._internals={},E=k._plugins={},C=k._tweenLookup={},O=0,R=P.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},N={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},H=A._rootFramesTimeline=new o,L=A._rootTimeline=new o;L._startTime=c.time,H._startTime=c.frame,L._active=H._active=!0,A._updateRoot=function(){if(L.render((c.time-L._startTime)*L._timeScale,!1,!1),H.render((c.frame-H._startTime)*H._timeScale,!1,!1),!(c.frame%120)){var t,e,i;for(i in C){for(t=(e=C[i].tweens).length;-1<--t;)e[t]._gc&&e.splice(t,1);0===e.length&&delete C[i]}if((!(i=L._first)||i._paused)&&k.autoSleep&&!H._first&&1===c._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||c.sleep()}}},c.addEventListener("tick",A._updateRoot);var M=function(t,e,i){var a,n,r=t._gsTweenID;if(C[r||(t._gsTweenID=r="t"+O++)]||(C[r]={target:t,tweens:[]}),e&&((a=C[r].tweens)[n=a.length]=e,i))for(;-1<--n;)a[n]===e&&a.splice(n,1);return C[r].tweens},F=function(t,e,i,a,n){var r,s,o,u;if(1===a||4<=a){for(u=n.length,r=0;r<u;r++)if((o=n[r])!==e)o._gc||o._enabled(!1,!1)&&(s=!0);else if(5===a)break;return s}var h,l=e._startTime+1e-10,c=[],d=0,p=0===e._duration;for(r=n.length;-1<--r;)(o=n[r])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||j(e,0,p),0===j(o,h,p)&&(c[d++]=o)):l>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale+1e-10>l&&((p||!o._initted)&&l-o._startTime<=2e-10||(c[d++]=o)));for(r=d;-1<--r;)o=c[r],2===a&&o._kill(i,t)&&(s=!0),(2!==a||!o._firstPT&&o._initted)&&o._enabled(!1,!1)&&(s=!0);return s},j=function(t,e,i){for(var a=t._timeline,n=a._timeScale,r=t._startTime;a._timeline;){if(r+=a._startTime,n*=a._timeScale,a._paused)return-100;a=a._timeline}return e<(r/=n)?r-e:i&&r===e||!t._initted&&r-e<2e-10?1e-10:(r+=t.totalDuration()/t._timeScale/n)>e+1e-10?0:r-e-1e-10};i._init=function(){var t,e,i,a,n=this.vars,r=this._overwrittenProps,s=this._duration,o=n.immediateRender,u=n.ease;if(n.startAt){if(this._startAt&&this._startAt.render(-1,!0),n.startAt.overwrite=0,n.startAt.immediateRender=!0,this._startAt=k.to(this.target,0,n.startAt),o)if(0<this._time)this._startAt=null;else if(0!==s)return}else if(n.runBackwards&&n.immediateRender&&0!==s)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else if(0===this._time){for(a in i={},n)R[a]&&"autoCSS"!==a||(i[a]=n[a]);return i.overwrite=0,void(this._startAt=k.to(this.target,0,i))}if(this._ease=u?u instanceof h?n.easeParams instanceof Array?u.config.apply(u,n.easeParams):u:"function"==typeof u?new h(u,n.easeParams):w[u]||k.defaultEase:k.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;-1<--t;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],r?r[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,r);if(e&&k._onPluginEvent("_onInitAllProps",this),r&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},i._initProps=function(t,e,i,a){var n,r,s,o,u,h;if(null==t)return!1;for(n in this.vars.css||t.style&&t!==d&&t.nodeType&&E.css&&!1!==this.vars.autoCSS&&function(t,e){var i,a={};for(i in t)R[i]||i in e&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!E[i]||E[i]&&E[i]._autoCSS)||(a[i]=t[i],delete t[i]);t.css=a}(this.vars,t),this.vars){if(h=this.vars[n],R[n])h instanceof Array&&-1!==h.join("").indexOf("{self}")&&(this.vars[n]=h=this._swapSelfInParams(h,this));else if(E[n]&&(o=new E[n])._onInitTween(t,this.vars[n],this)){for(this._firstPT=u={_next:this._firstPT,t:o,p:"setRatio",s:0,c:1,f:!0,n:n,pg:!0,pr:o._priority},r=o._overwriteProps.length;-1<--r;)e[o._overwriteProps[r]]=this._firstPT;(o._priority||o._onInitAllProps)&&(s=!0),(o._onDisable||o._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=e[n]=u={_next:this._firstPT,t:t,p:n,f:"function"==typeof t[n],n:n,pg:!1,pr:0},u.s=u.f?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),u.c="string"==typeof h&&"="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*Number(h.substr(2)):Number(h)-u.s||0;u&&u._next&&(u._next._prev=u)}return a&&this._kill(a,t)?this._initProps(t,e,i,a):1<this._overwrite&&this._firstPT&&1<i.length&&F(t,this,e,this._overwrite,i)?(this._kill(e,t),this._initProps(t,e,i,a)):s},i.render=function(t,e,i){var a,n,r,s=this._time;if(t>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(a=!0,n="onComplete"),0===this._duration&&((0===t||this._rawPrevTime<0)&&this._rawPrevTime!==t&&(i=!0,0<this._rawPrevTime&&(n="onReverseComplete",e&&(t=-1))),this._rawPrevTime=t);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===this._duration&&0<this._rawPrevTime)&&(n="onReverseComplete",a=this._reversed),t<0?(this._active=!1,0===this._duration&&(0<=this._rawPrevTime&&(i=!0),this._rawPrevTime=t)):this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var o=t/this._duration,u=this._easeType,h=this._easePower;(1===u||3===u&&.5<=o)&&(o=1-o),3===u&&(o*=2),1===h?o*=o:2===h?o*=o*o:3===h?o*=o*o*o:4===h&&(o*=o*o*o*o),this.ratio=1===u?1-o:2===u?o:t/this._duration<.5?o/2:1-o/2}else this.ratio=this._ease.getRatio(t/this._duration);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted)return;this._time&&!a?this.ratio=this._ease.getRatio(this._time/this._duration):a&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==s&&0<=t&&(this._active=!0),0===s&&(this._startAt&&(0<=t?this._startAt.render(t,e,i):n||(n="_dummyGS")),this.vars.onStart&&(0!==this._time||0===this._duration)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||l))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(t<0&&this._startAt&&this._startAt.render(t,e,i),e||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||l)),n&&(this._gc||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,e,i),a&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this.vars[n].apply(this.vars[n+"Scope"]||this,this.vars[n+"Params"]||l)))}},i._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._enabled(!1,!1);var i,a,n,r,s,o,u,h;if(((e="string"!=typeof e?e||this._targets||this.target:k.selector(e)||e)instanceof Array||B(e))&&"number"!=typeof e[0])for(i=e.length;-1<--i;)this._kill(t,e[i])&&(o=!0);else{if(this._targets){for(i=this._targets.length;-1<--i;)if(e===this._targets[i]){s=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],a=this._overwrittenProps[i]=t?this._overwrittenProps[i]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,a=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){for(n in u=t||s,h=t!==a&&"all"!==a&&t!==s&&(null==t||!0!==t._tempKill),u)(r=s[n])&&(r.pg&&r.t._kill(u)&&(o=!0),r.pg&&0!==r.t._overwriteProps.length||(r._prev?r._prev._next=r._next:r===this._firstPT&&(this._firstPT=r._next),r._next&&(r._next._prev=r._prev),r._next=r._prev=null),delete s[n]),h&&(a[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return o},i.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},i._enabled=function(t,e){if(p||c.wake(),t&&this._gc){var i,a=this._targets;if(a)for(i=a.length;-1<--i;)this._siblings[i]=M(a[i],this,!0);else this._siblings=M(this.target,this,!0)}return A.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&k._onPluginEvent(t?"_onEnable":"_onDisable",this)},k.to=function(t,e,i){return new k(t,e,i)},k.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new k(t,e,i)},k.fromTo=function(t,e,i,a){return a.startAt=i,a.immediateRender=0!=a.immediateRender&&0!=i.immediateRender,new k(t,e,a)},k.delayedCall=function(t,e,i,a,n){return new k(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:a,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:a,immediateRender:!1,useFrames:n,overwrite:0})},k.set=function(t,e){return new k(t,0,e)},k.killTweensOf=k.killDelayedCallsTo=function(t,e){for(var i=k.getTweensOf(t),a=i.length;-1<--a;)i[a]._kill(e,t)},k.getTweensOf=function(t){if(null==t)return[];var e,i,a,n;if(((t="string"!=typeof t?t:k.selector(t)||t)instanceof Array||B(t))&&"number"!=typeof t[0]){for(e=t.length,i=[];-1<--e;)i=i.concat(k.getTweensOf(t[e]));for(e=i.length;-1<--e;)for(n=i[e],a=e;-1<--a;)n===i[a]&&i.splice(e,1)}else for(e=(i=M(t).concat()).length;-1<--e;)i[e]._gc&&i.splice(e,1);return i};var U=b("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=U.prototype},!0);if(i=U.prototype,U.version="1.10.1",U.API=2,i._firstPT=null,i._addTween=function(t,e,i,a,n,r){var s,o;return null!=a&&(s="number"==typeof a||"="!==a.charAt(1)?Number(a)-i:parseInt(a.charAt(0)+"1",10)*Number(a.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:s,f:"function"==typeof t[e],n:n||e,r:r},o._next&&(o._next._prev=o),o):void 0},i.setRatio=function(t){for(var e,i=this._firstPT;i;)e=i.c*t+i.s,i.r?e=0|e+(0<e?.5:-.5):e<1e-6&&-1e-6<e&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},i._kill=function(t){var e,i=this._overwriteProps,a=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;-1<--e;)null!=t[i[e]]&&i.splice(e,1);for(;a;)null!=t[a.n]&&(a._next&&(a._next._prev=a._prev),a._prev?(a._prev._next=a._next,a._prev=null):this._firstPT===a&&(this._firstPT=a._next)),a=a._next;return!1},i._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},k._onPluginEvent=function(t,e){var i,a,n,r,s,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(s=o._next,a=n;a&&a.pr>o.pr;)a=a._next;(o._prev=a?a._prev:r)?o._prev._next=o:n=o,(o._next=a)?a._prev=o:r=o,o=s}o=e._firstPT=n}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},U.activate=function(t){for(var e=t.length;-1<--e;)t[e].API===U.API&&(E[(new t[e])._propName]=t[e]);return!0},a.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,a=t.priority||0,n=t.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=b("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){U.call(this,i,a),this._overwriteProps=n||[]},!0===t.global),o=s.prototype=new U(i);for(e in(o.constructor=s).API=t.API,r)"function"==typeof t[e]&&(o[r[e]]=t[e]);return s.version=t.version,U.activate([s]),s},t=d._gsQueue){for(e=0;t.length>e;e++)t[e]();for(i in v)v[i].func||d.console.log("GSAP encountered missing dependency: com.greensock."+i)}p=!1}(window),function(){var t;if((viewporter={forceDetection:!1,disableLegacyAndroid:!0,ACTIVE:function(){return viewporter.disableLegacyAndroid&&/android 2/i.test(navigator.userAgent),!/ipad/i.test(navigator.userAgent)&&(!!/webos/i.test(navigator.userAgent)||"ontouchstart"in window)},READY:!1,isLandscape:function(){return 90===window.orientation||-90===window.orientation},ready:function(t){window.addEventListener("viewportready",t,!1)},change:function(t){window.addEventListener("viewportchange",t,!1)},refresh:function(){t&&t.prepareVisualViewport()},preventPageScroll:function(){document.body.addEventListener("touchmove",function(t){t.preventDefault()},!1),document.body.addEventListener("touchstart",function(){t.prepareVisualViewport()},!1)}}).ACTIVE=viewporter.ACTIVE(),viewporter.ACTIVE){var e=function(){var e=this;this.IS_ANDROID=/Android/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);var t=function(){e.prepareVisualViewport();var t=window.orientation;window.addEventListener("orientationchange",function(){window.orientation!==t&&(e.prepareVisualViewport(),t=window.orientation)},!1)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t()},!1):t()};e.prototype={getProfile:function(){if(viewporter.forceDetection)return null;for(var t in viewporter.profiles)if(new RegExp(t).test(navigator.userAgent))return viewporter.profiles[t];return null},postProcess:function(){viewporter.READY=!0,this.triggerWindowEvent(this._firstUpdateExecuted?"viewportchange":"viewportready"),this._firstUpdateExecuted=!0},prepareVisualViewport:function(){var t=this;if(navigator.standalone)return this.postProcess();document.documentElement.style.minHeight="5000px";var e=window.innerHeight,i=this.getProfile(),a=viewporter.isLandscape()?"landscape":"portrait";window.scrollTo(0,t.IS_ANDROID?1:0);var n=40,r=window.setInterval(function(){window.scrollTo(0,t.IS_ANDROID?1:0),n--,((t.IS_ANDROID?i&&window.innerHeight===i[a]:window.innerHeight>e)||n<0)&&(document.documentElement.style.minHeight=window.innerHeight+"px",document.getElementById("viewporter").style.position="relative",document.getElementById("viewporter").style.height=window.innerHeight+"px",clearInterval(r),t.postProcess())},10)},triggerWindowEvent:function(t){var e=document.createEvent("Event");e.initEvent(t,!1,!1),window.dispatchEvent(e)}},t=new e}}(),viewporter.profiles={MZ601:{portrait:696,landscape:1176},"GT-I9000|GT-I9100|Nexus S":{portrait:508,landscape:295},"GT-P1000":{portrait:657,landscape:400},"Desire_A8181|DesireHD_A9191":{portrait:533,landscape:320}};var vis=function(){var e,i,t={hidden:"visibilitychange",webkitHidden:"webkitvisibilitychange",mozHidden:"mozvisibilitychange",msHidden:"msvisibilitychange"};for(e in t)if(e in document){i=t[e];break}return function(t){return t&&document.addEventListener(i,t),!document[e]}}();vis(function(){vis()?setTimeout(function(){visibleResume()},300):visiblePause()});var notIE=void 0===document.documentMode,isChromium=window.chrome;notIE&&!isChromium||(window.addEventListener?(window.addEventListener("focus",function(t){setTimeout(function(){visibleResume()},300)},!1),window.addEventListener("blur",function(t){visiblePause()},!1)):(window.attachEvent("focus",function(t){setTimeout(function(){visibleResume()},300)}),window.attachEvent("blur",function(t){visiblePause()})));